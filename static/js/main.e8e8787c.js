/*! For license information please see main.e8e8787c.js.LICENSE.txt */
!function(){var e={76:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,a=String.fromCharCode,o=Object.assign;function u(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function l(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function h(e){return e.length}function d(e){return e.length}function p(e,t){return t.push(e),e}var v=1,m=1,y=0,g=0,k=0,b="";function w(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:v,column:m,length:o,return:""}}function x(e,t){return o(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return k=g>0?l(b,--g):0,m--,10===k&&(m=1,v--),k}function _(){return k=g<y?l(b,g++):0,m++,10===k&&(m=1,v++),k}function I(){return l(b,g)}function E(){return g}function T(e,t){return f(b,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(e){return v=m=1,y=h(b=e),g=0,[]}function N(e){return b="",e}function O(e){return u(T(g-1,R(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(k=I())&&k<33;)_();return C(e)>2||C(k)>3?"":" "}function D(e,t){for(;--t&&_()&&!(k<48||k>102||k>57&&k<65||k>70&&k<97););return T(e,E()+(t<6&&32==I()&&32==_()))}function R(e){for(;_();)switch(k){case e:return g;case 34:case 39:34!==e&&39!==e&&R(k);break;case 40:41===e&&R(e);break;case 92:_()}return g}function L(e,t){for(;_()&&e+k!==57&&(e+k!==84||47!==I()););return"/*"+T(t,g-1)+"*"+a(47===e?e:_())}function M(e){for(;!C(I());)_();return T(e,g)}var F="-ms-",j="-moz-",V="-webkit-",U="comm",z="rule",Z="decl",B="@keyframes";function q(e,t){for(var n="",r=d(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function K(e,t,n,r){switch(e.type){case"@import":case Z:return e.return=e.return||e.value;case U:return"";case B:return e.return=e.value+"{"+q(e.children,r)+"}";case z:e.value=e.props.join(",")}return h(n=q(e.children,r))?e.return=e.value+"{"+n+"}":""}function W(e,t){switch(function(e,t){return(((t<<2^l(e,0))<<2^l(e,1))<<2^l(e,2))<<2^l(e,3)}(e,t)){case 5103:return V+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return V+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return V+e+j+e+F+e+e;case 6828:case 4268:return V+e+F+e+e;case 6165:return V+e+F+"flex-"+e+e;case 5187:return V+e+s(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return V+e+F+"flex-item-"+s(e,/flex-|-self/,"")+e;case 4675:return V+e+F+"flex-line-pack"+s(e,/align-content|flex-|-self/,"")+e;case 5548:return V+e+F+s(e,"shrink","negative")+e;case 5292:return V+e+F+s(e,"basis","preferred-size")+e;case 6060:return V+"box-"+s(e,"-grow","")+V+e+F+s(e,"grow","positive")+e;case 4554:return V+s(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return s(s(s(e,/(zoom-|grab)/,V+"$1"),/(image-set)/,V+"$1"),e,"")+e;case 5495:case 3959:return s(e,/(image-set\([^]*)/,V+"$1$`$1");case 4968:return s(s(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+V+e+e;case 4095:case 3583:case 4068:case 2532:return s(e,/(.+)-inline(.+)/,V+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(l(e,t+1)){case 109:if(45!==l(e,t+4))break;case 102:return s(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+j+(108==l(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?W(s(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==l(e,t+1))break;case 6444:switch(l(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return s(e,":",":"+V)+e;case 101:return s(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+V+(45===l(e,14)?"inline-":"")+"box$3$1"+V+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(l(e,t+11)){case 114:return V+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return V+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return V+e+F+s(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return V+e+F+e+e}return e}function H(e){return N(G("",null,null,null,[""],e=A(e),0,[0],e))}function G(e,t,n,r,i,o,u,l,f){for(var d=0,v=0,m=u,y=0,g=0,k=0,b=1,w=1,x=1,T=0,C="",A=i,N=o,R=r,F=C;w;)switch(k=T,T=_()){case 40:if(108!=k&&58==F.charCodeAt(m-1)){-1!=c(F+=s(O(T),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:F+=O(T);break;case 9:case 10:case 13:case 32:F+=P(k);break;case 92:F+=D(E()-1,7);continue;case 47:switch(I()){case 42:case 47:p($(L(_(),E()),t,n),f);break;default:F+="/"}break;case 123*b:l[d++]=h(F)*x;case 125*b:case 59:case 0:switch(T){case 0:case 125:w=0;case 59+v:g>0&&h(F)-m&&p(g>32?Y(F+";",r,n,m-1):Y(s(F," ","")+";",r,n,m-2),f);break;case 59:F+=";";default:if(p(R=Q(F,t,n,d,v,i,l,C,A=[],N=[],m),o),123===T)if(0===v)G(F,t,R,R,A,o,m,l,N);else switch(y){case 100:case 109:case 115:G(e,R,R,r&&p(Q(e,R,R,0,0,i,l,C,i,A=[],m),N),i,N,m,l,r?A:N);break;default:G(F,R,R,R,[""],N,0,l,N)}}d=v=g=0,b=x=1,C=F="",m=u;break;case 58:m=1+h(F),g=k;default:if(b<1)if(123==T)--b;else if(125==T&&0==b++&&125==S())continue;switch(F+=a(T),T*b){case 38:x=v>0?1:(F+="\f",-1);break;case 44:l[d++]=(h(F)-1)*x,x=1;break;case 64:45===I()&&(F+=O(_())),y=I(),v=m=h(C=F+=M(E())),T++;break;case 45:45===k&&2==h(F)&&(b=0)}}return o}function Q(e,t,n,r,a,o,c,l,h,p,v){for(var m=a-1,y=0===a?o:[""],g=d(y),k=0,b=0,x=0;k<r;++k)for(var S=0,_=f(e,m+1,m=i(b=c[k])),I=e;S<g;++S)(I=u(b>0?y[S]+" "+_:s(_,/&\f/g,y[S])))&&(h[x++]=I);return w(e,t,n,0===a?z:l,h,p,v)}function $(e,t,n){return w(e,t,n,U,a(k),f(e,2,-2),0)}function Y(e,t,n,r){return w(e,t,n,Z,f(e,0,r),f(e,r+1,-1),r)}var X=function(e,t,n){for(var r=0,i=0;r=i,i=I(),38===r&&12===i&&(t[n]=1),!C(i);)_();return T(e,g)},J=function(e,t){return N(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===I()&&(t[n]=1),e[n]+=X(g-1,t,n);break;case 2:e[n]+=O(r);break;case 4:if(44===r){e[++n]=58===I()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=_());return e}(A(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var i=[],a=J(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Z:e.return=W(e.value,e.length);break;case B:return q([x(e,{value:s(e.value,"@","@"+V)})],r);case z:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return q([x(e,{props:[s(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return q([x(e,{props:[s(t,/:(plac\w+)/,":-webkit-input-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,":-moz-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var c,l,f=[K,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],h=function(e){var t=d(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([te,ne].concat(i,f));o=function(e,t,n,r){c=n,q(H(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return p.sheet.hydrate(s),p}},3782:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},1346:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(3782),o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=(0,a.Z)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function h(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=l(a)+":"+f(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=h(e,t,o);switch(a){case"animation":case"animationName":r+=l(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)c(o[s])&&(r+=l(a)+":"+f(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,a=n(e);return d=i,h(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";d=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=h(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=h(n,t,e[u]),i&&(a+=o[u]);p.lastIndex=0;for(var s,c="";null!==(s=p.exec(a));)c+="-"+s[1];return{name:r(a)+c,styles:a,next:d}}},8967:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m22 5.72-4.6-3.86-1.29 1.53 4.6 3.86L22 5.72zM7.88 3.39 6.6 1.86 2 5.71l1.29 1.53 4.59-3.85zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37V8zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9zm0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}),"AccessAlarm");t.Z=o},2419:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=o},1535:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"}),"Apps");t.Z=o},7394:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.Z=o},6759:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");t.Z=o},8384:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.Z=o},1009:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.Z=o},8996:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.Z=o},9823:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},7247:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=o},4413:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 2h-8C6.38 2 2 6.66 2 12.28 2 17.5 6.49 22 11.72 22 17.39 22 22 17.62 22 12V4c0-1.1-.9-2-2-2zm-3 13-3-2v2H7V9h7v2l3-2v6z"}),"Duo");t.Z=o},4281:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Email");t.Z=o},9388:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");t.Z=o},7608:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");t.Z=o},1131:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=o},2041:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"}),"Inbox");t.Z=o},9772:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm9 7H8v-2h8v2zm0-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"}),"Keyboard");t.Z=o},332:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m3.5 18.99 11 .01c.67 0 1.27-.33 1.63-.84L20.5 12l-4.37-6.16c-.36-.51-.96-.84-1.63-.84l-11 .01L8.34 12 3.5 18.99z"}),"LabelImportant");t.Z=o},1137:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"}),"LocalOffer");t.Z=o},8008:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=o},2898:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.Z=o},8698:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z"}),"MoveToInbox");t.Z=o},963:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M21 3 3 10.53v.98l6.84 2.65L12.48 21h.98L21 3z"}),"NearMe");t.Z=o},7015:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m22 10-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99v-8zm-7-4.5 5.5 5.5H15V5.5z"}),"Note");t.Z=o},8128:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),"Notifications");t.Z=o},2216:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"People");t.Z=o},501:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.Z=o},2716:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}),"Phone");t.Z=o},8014:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print");t.Z=o},492:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"Redo");t.Z=o},5403:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},7122:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.Z=o},151:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=o},1444:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");t.Z=o},2207:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"}),"UnfoldMore");t.Z=o},2686:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"}),"WatchLater");t.Z=o},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(1256)},4591:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});var r=n(7462),i=n(3366),a=n(2466),o=n(5080),u=n(4942);function s(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,u.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,u.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var c=n(6189),l=n(2065),f={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},k=["mode","contrastThreshold","tonalOffset"],b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,l.$n)(e.main,i):"dark"===t&&(e.dark=(0,l._j)(e.main,a)))}function S(e){var t=e.mode,n=void 0===t?"light":t,o=e.contrastThreshold,u=void 0===o?3:o,s=e.tonalOffset,S=void 0===s?.2:s,_=(0,i.Z)(e,k),I=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(n),E=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d[200],light:d[50],dark:d[400]}:{main:d[500],light:d[300],dark:d[700]}}(n),T=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),C=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[700],light:y[500],dark:y[900]}}(n),A=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[800],light:g[500],dark:g[900]}}(n),N=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(n);function O(e){return(0,l.mi)(e,w.text.primary)>=u?w.text.primary:b.text.primary}var P=function(e){var t=e.color,n=e.name,i=e.mainShade,a=void 0===i?500:i,o=e.lightShade,u=void 0===o?300:o,s=e.darkShade,l=void 0===s?700:s;if(!(t=(0,r.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error((0,c.Z)(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error((0,c.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return x(t,"light",u,S),x(t,"dark",l,S),t.contrastText||(t.contrastText=O(t.main)),t},D={dark:w,light:b};return(0,a.Z)((0,r.Z)({common:(0,r.Z)({},f),mode:n,primary:P({color:I,name:"primary"}),secondary:P({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:P({color:T,name:"error"}),warning:P({color:N,name:"warning"}),info:P({color:C,name:"info"}),success:P({color:A,name:"success"}),grey:h,contrastThreshold:u,getContrastText:O,augmentColor:P,tonalOffset:S},D[n]),_)}var _=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var I={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,u=void 0===o?E:o,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,y=void 0===m?700:m,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,x=(0,i.Z)(n,_);var S=c/14,T=w||function(e){return"".concat(e/k*S,"rem")},C=function(e,t,n,i,a){return(0,r.Z)({fontFamily:u,fontWeight:e,fontSize:T(t),lineHeight:n},u===E?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},A={h1:C(f,96,1.167,-1.5),h2:C(f,60,1.2,-.5),h3:C(d,48,1.167,0),h4:C(d,34,1.235,.25),h5:C(d,24,1.334,0),h6:C(v,20,1.6,.15),subtitle1:C(d,16,1.75,.15),subtitle2:C(v,14,1.57,.1),body1:C(d,16,1.5,.15),body2:C(d,14,1.43,.15),button:C(v,14,1.75,.4,I),caption:C(d,12,1.66,.4),overline:C(d,12,2.66,1,I)};return(0,a.Z)((0,r.Z)({htmlFontSize:k,pxToRem:T,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:y},A),x,{clone:!1})}function C(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var A=["none",C(0,2,1,-1,0,1,1,0,0,1,3,0),C(0,3,1,-2,0,2,2,0,0,1,5,0),C(0,3,3,-2,0,3,4,0,0,1,8,0),C(0,2,4,-1,0,4,5,0,0,1,10,0),C(0,3,5,-1,0,5,8,0,0,1,14,0),C(0,3,5,-1,0,6,10,0,0,1,18,0),C(0,4,5,-2,0,7,10,1,0,2,16,1),C(0,5,5,-3,0,8,10,1,0,3,14,2),C(0,5,6,-3,0,9,12,1,0,3,16,2),C(0,6,6,-3,0,10,14,1,0,4,18,3),C(0,6,7,-4,0,11,15,1,0,4,20,3),C(0,7,8,-4,0,12,17,2,0,5,22,4),C(0,7,8,-4,0,13,19,2,0,5,24,4),C(0,7,9,-4,0,14,21,2,0,5,26,4),C(0,8,9,-5,0,15,22,2,0,6,28,5),C(0,8,10,-5,0,16,24,2,0,6,30,5),C(0,8,11,-5,0,17,26,2,0,6,32,5),C(0,9,11,-5,0,18,28,2,0,7,34,6),C(0,9,12,-6,0,19,29,2,0,7,36,6),C(0,10,13,-6,0,20,31,3,0,8,38,7),C(0,10,13,-6,0,21,33,3,0,8,40,7),C(0,10,14,-6,0,22,35,3,0,8,42,7),C(0,11,14,-7,0,23,36,3,0,9,44,8),C(0,11,15,-7,0,24,38,3,0,9,46,8)],N=["duration","easing","delay"],O={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},P={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function D(e){return"".concat(Math.round(e),"ms")}function R(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function L(e){var t=(0,r.Z)({},O,e.easing),n=(0,r.Z)({},P,e.duration);return(0,r.Z)({getAutoHeightDuration:R,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.duration,o=void 0===a?n.standard:a,u=r.easing,s=void 0===u?t.easeInOut:u,c=r.delay,l=void 0===c?0:c;(0,i.Z)(r,N);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:D(o)," ").concat(s," ").concat("string"===typeof l?l:D(l))})).join(",")}},e,{easing:t,duration:n})}var M={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},F=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,u=e.palette,c=void 0===u?{}:u,l=e.transitions,f=void 0===l?{}:l,h=e.typography,d=void 0===h?{}:h,p=(0,i.Z)(e,F),v=S(c),m=(0,o.Z)(e),y=(0,a.Z)(m,{mixins:s(m.breakpoints,n),palette:v,shadows:A.slice(),typography:T(v,d),transitions:L(f),zIndex:(0,r.Z)({},M)});y=(0,a.Z)(y,p);for(var g=arguments.length,k=new Array(g>1?g-1:0),b=1;b<g;b++)k[b-1]=arguments[b];return y=k.reduce((function(e,t){return(0,a.Z)(e,t)}),y)}var V=j()},1625:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Be},FO:function(){return ze}});var r=n(3433),i=n(9439),a=n(7462),o=n(3366),u=n(2791),s=n.t(u,2),c=n(3782),l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,f=(0,c.Z)((function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),h=n(76),d=n(1346),p=(0,u.createContext)("undefined"!==typeof HTMLElement?(0,h.Z)({key:"css"}):null);p.Provider;var v=function(e){return(0,u.forwardRef)((function(t,n){var r=(0,u.useContext)(p);return e(t,r,n)}))},m=(0,u.createContext)({});s.useInsertionEffect&&s.useInsertionEffect;function y(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var g=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},k=f,b=function(e){return"theme"!==e},w=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?k:b},x=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},S=s.useInsertionEffect?s.useInsertionEffect:function(e){e()};var _=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;g(t,n,r);var i;i=function(){return function(e,t,n){g(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)},S(i);return null},I=function e(t,n){var r,i,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var c=x(t,n,o),l=c||w(s),f=!l("as");return function(){var h=arguments,p=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&p.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)p.push.apply(p,h);else{0,p.push(h[0][0]);for(var g=h.length,k=1;k<g;k++)p.push(h[k],h[0][k])}var b=v((function(e,t,n){var r=f&&e.as||s,a="",o=[],h=e;if(null==e.theme){for(var v in h={},e)h[v]=e[v];h.theme=(0,u.useContext)(m)}"string"===typeof e.className?a=y(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var g=(0,d.O)(p.concat(o),t.registered,h);a+=t.key+"-"+g.name,void 0!==i&&(a+=" "+i);var k=f&&void 0===c?w(r):l,b={};for(var x in e)f&&"as"===x||k(x)&&(b[x]=e[x]);return b.className=a,b.ref=n,(0,u.createElement)(u.Fragment,null,(0,u.createElement)(_,{cache:t,serialized:g,isStringTag:"string"===typeof r}),(0,u.createElement)(r,b))}));return b.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=s,b.__emotion_styles=p,b.__emotion_forwardProp=c,Object.defineProperty(b,"toString",{value:function(){return"."+i}}),b.withComponent=function(t,r){return e(t,(0,a.Z)({},n,r,{shouldForwardProp:x(b,r,!0)})).apply(void 0,p)},b}},E=I.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){E[e]=E(e)}));var T=E;function C(e,t){return T(e,t)}var A=n(5080),N=n(7312),O=["variant"];function P(e){return 0===e.length}function D(e){var t=e.variant,n=(0,o.Z)(e,O),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?P(r)?e[t]:(0,N.Z)(e[t]):"".concat(P(r)?t:(0,N.Z)(t)).concat((0,N.Z)(e[t].toString()))})),r}var R=n(4942),L=n(8247),M=n(8529);var F=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,L.Z)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i},j=n(5682),V=n(1184);function U(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var z=(0,M.Z)({prop:"border",themeKey:"borders",transform:U}),Z=(0,M.Z)({prop:"borderTop",themeKey:"borders",transform:U}),B=(0,M.Z)({prop:"borderRight",themeKey:"borders",transform:U}),q=(0,M.Z)({prop:"borderBottom",themeKey:"borders",transform:U}),K=(0,M.Z)({prop:"borderLeft",themeKey:"borders",transform:U}),W=(0,M.Z)({prop:"borderColor",themeKey:"palette"}),H=(0,M.Z)({prop:"borderTopColor",themeKey:"palette"}),G=(0,M.Z)({prop:"borderRightColor",themeKey:"palette"}),Q=(0,M.Z)({prop:"borderBottomColor",themeKey:"palette"}),$=(0,M.Z)({prop:"borderLeftColor",themeKey:"palette"}),Y=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,j.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,V.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,j.NA)(t,e)}}))}return null};Y.propTypes={},Y.filterProps=["borderRadius"];var X=F(z,Z,B,q,K,W,H,G,Q,$,Y),J=F((0,M.Z)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),(0,M.Z)({prop:"display"}),(0,M.Z)({prop:"overflow"}),(0,M.Z)({prop:"textOverflow"}),(0,M.Z)({prop:"visibility"}),(0,M.Z)({prop:"whiteSpace"})),ee=F((0,M.Z)({prop:"flexBasis"}),(0,M.Z)({prop:"flexDirection"}),(0,M.Z)({prop:"flexWrap"}),(0,M.Z)({prop:"justifyContent"}),(0,M.Z)({prop:"alignItems"}),(0,M.Z)({prop:"alignContent"}),(0,M.Z)({prop:"order"}),(0,M.Z)({prop:"flex"}),(0,M.Z)({prop:"flexGrow"}),(0,M.Z)({prop:"flexShrink"}),(0,M.Z)({prop:"alignSelf"}),(0,M.Z)({prop:"justifyItems"}),(0,M.Z)({prop:"justifySelf"})),te=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,j.eI)(e.theme,"spacing",8,"gap");return(0,V.k9)(e,e.gap,(function(e){return{gap:(0,j.NA)(t,e)}}))}return null};te.propTypes={},te.filterProps=["gap"];var ne=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,j.eI)(e.theme,"spacing",8,"columnGap");return(0,V.k9)(e,e.columnGap,(function(e){return{columnGap:(0,j.NA)(t,e)}}))}return null};ne.propTypes={},ne.filterProps=["columnGap"];var re=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,j.eI)(e.theme,"spacing",8,"rowGap");return(0,V.k9)(e,e.rowGap,(function(e){return{rowGap:(0,j.NA)(t,e)}}))}return null};re.propTypes={},re.filterProps=["rowGap"];var ie=F(te,ne,re,(0,M.Z)({prop:"gridColumn"}),(0,M.Z)({prop:"gridRow"}),(0,M.Z)({prop:"gridAutoFlow"}),(0,M.Z)({prop:"gridAutoColumns"}),(0,M.Z)({prop:"gridAutoRows"}),(0,M.Z)({prop:"gridTemplateColumns"}),(0,M.Z)({prop:"gridTemplateRows"}),(0,M.Z)({prop:"gridTemplateAreas"}),(0,M.Z)({prop:"gridArea"})),ae=F((0,M.Z)({prop:"position"}),(0,M.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,M.Z)({prop:"top"}),(0,M.Z)({prop:"right"}),(0,M.Z)({prop:"bottom"}),(0,M.Z)({prop:"left"})),oe=F((0,M.Z)({prop:"color",themeKey:"palette"}),(0,M.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),(0,M.Z)({prop:"backgroundColor",themeKey:"palette"})),ue=(0,M.Z)({prop:"boxShadow",themeKey:"shadows"});function se(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var ce=(0,M.Z)({prop:"width",transform:se}),le=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,V.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||V.VO[t]||se(t)}}))}return null};le.filterProps=["maxWidth"];var fe=(0,M.Z)({prop:"minWidth",transform:se}),he=(0,M.Z)({prop:"height",transform:se}),de=(0,M.Z)({prop:"maxHeight",transform:se}),pe=(0,M.Z)({prop:"minHeight",transform:se}),ve=((0,M.Z)({prop:"size",cssProperty:"width",transform:se}),(0,M.Z)({prop:"size",cssProperty:"height",transform:se}),F(ce,le,fe,he,de,pe,(0,M.Z)({prop:"boxSizing"}))),me=(0,M.Z)({prop:"fontFamily",themeKey:"typography"}),ye=(0,M.Z)({prop:"fontSize",themeKey:"typography"}),ge=(0,M.Z)({prop:"fontStyle",themeKey:"typography"}),ke=(0,M.Z)({prop:"fontWeight",themeKey:"typography"}),be=(0,M.Z)({prop:"letterSpacing"}),we=(0,M.Z)({prop:"textTransform"}),xe=(0,M.Z)({prop:"lineHeight"}),Se=(0,M.Z)({prop:"textAlign"}),_e=F((0,M.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),me,ye,ge,ke,be,xe,Se,we),Ie={borders:X.filterProps,display:J.filterProps,flexbox:ee.filterProps,grid:ie.filterProps,positions:ae.filterProps,palette:oe.filterProps,shadows:ue.filterProps,sizing:ve.filterProps,spacing:j.ZP.filterProps,typography:_e.filterProps},Ee={borders:X,display:J,flexbox:ee,grid:ie,positions:ae,palette:oe,shadows:ue,sizing:ve,spacing:j.ZP,typography:_e};Object.keys(Ie).reduce((function(e,t){return Ie[t].forEach((function(n){e[n]=Ee[t]})),e}),{});function Te(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function Ce(e,t){return"function"===typeof e?e(t):e}var Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(i={},(0,R.Z)(i,e,n),(0,R.Z)(i,"theme",r),i),o=t[e];return o?o(a):(0,R.Z)({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=(0,V.W8)(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=Ce(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=(0,L.Z)(s,n(e,a,u));else{var o=(0,V.k9)({theme:u},a,(function(t){return(0,R.Z)({},e,t)}));Te(o,a)?s[e]=r({sx:a,theme:u}):s=(0,L.Z)(s,o)}else s=(0,L.Z)(s,n(e,a,u))})),(0,V.L7)(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();Ae.filterProps=["sx"];var Ne=Ae,Oe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Pe=["theme"],De=["theme"];function Re(e){return 0===Object.keys(e).length}var Le=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Me=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=D(e.props);r[t]=e.style})),r},Fe=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[D(n.props)])})),s};function je(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Ve=(0,A.Z)();var Ue=n(4591),ze=function(e){return je(e)&&"classes"!==e},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Ve:t,u=e.rootShouldForwardProp,s=void 0===u?je:u,c=e.slotShouldForwardProp,l=void 0===c?je:c,f=e.styleFunctionSx,h=void 0===f?Ne:f;return function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=u.name,f=u.slot,d=u.skipVariantsResolver,p=u.skipSx,v=u.overridesResolver,m=(0,o.Z)(u,Oe),y=void 0!==d?d:f&&"Root"!==f||!1,g=p||!1;var k=je;"Root"===f?k=s:f&&(k=l);var b=C(e,(0,a.Z)({shouldForwardProp:k,label:t},m)),w=function(e){for(var t=arguments.length,u=new Array(t>1?t-1:0),s=1;s<t;s++)u[s-1]=arguments[s];var l=u?u.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,o.Z)(t,Pe);return e((0,a.Z)({theme:Re(r)?n:r},i))}:e})):[],f=e;c&&v&&l.push((function(e){var t=Re(e.theme)?n:e.theme,r=Le(c,t);if(r){var o={};return Object.entries(r).forEach((function(n){var r=(0,i.Z)(n,2),u=r[0],s=r[1];o[u]="function"===typeof s?s((0,a.Z)({},e,{theme:t})):s})),v(e,o)}return null})),c&&!y&&l.push((function(e){var t=Re(e.theme)?n:e.theme;return Fe(e,Me(c,t),t,c)})),g||l.push((function(e){var t=Re(e.theme)?n:e.theme;return h((0,a.Z)({},e,{theme:t}))}));var d=l.length-u.length;if(Array.isArray(e)&&d>0){var p=new Array(d).fill("");(f=[].concat((0,r.Z)(e),(0,r.Z)(p))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(p))}else"function"===typeof e&&e.__emotion_real!==e&&(f=function(t){var r=t.theme,i=(0,o.Z)(t,De);return e((0,a.Z)({theme:Re(r)?n:r},i))});var m=b.apply(void 0,[f].concat((0,r.Z)(l)));return m};return b.withConfig&&(w.withConfig=b.withConfig),w}}({defaultTheme:Ue.Z,rootShouldForwardProp:ze}),Be=Ze},2507:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(5735);var i=n(5080),a=n(2791);var o=a.createContext(null);function u(){return a.useContext(o)}function s(e){return 0===Object.keys(e).length}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=u();return!t||s(t)?e:t},l=(0,i.Z)();var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return c(e)};function h(e){var t=e.props,n=e.name,i=e.defaultTheme,a=function(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}({theme:f(i),name:n,props:t});return a}var d=n(4591);function p(e){return h({props:e.props,name:e.name,defaultTheme:d.Z})}},4036:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},9201:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(7462),i=n(2791),a=n(3366),o=n(8182),u=n(4419),s=n(4036),c=n(2507),l=n(1625),f=n(1217);function h(e){return(0,f.Z)("MuiSvgIcon",e)}(0,n(5878).Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var d=n(184),p=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],v=(0,l.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,s.Z)(n.color))],t["fontSize".concat((0,s.Z)(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),m=i.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiSvgIcon"}),i=n.children,l=n.className,f=n.color,m=void 0===f?"inherit":f,y=n.component,g=void 0===y?"svg":y,k=n.fontSize,b=void 0===k?"medium":k,w=n.htmlColor,x=n.inheritViewBox,S=void 0!==x&&x,_=n.titleAccess,I=n.viewBox,E=void 0===I?"0 0 24 24":I,T=(0,a.Z)(n,p),C=(0,r.Z)({},n,{color:m,component:g,fontSize:b,instanceFontSize:e.fontSize,inheritViewBox:S,viewBox:E}),A={};S||(A.viewBox=E);var N=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,s.Z)(t)),"fontSize".concat((0,s.Z)(n))]};return(0,u.Z)(i,h,r)}(C);return(0,d.jsxs)(v,(0,r.Z)({as:g,className:(0,o.Z)(N.root,l),ownerState:C,focusable:"false",color:w,"aria-hidden":!_||void 0,role:_?"img":void 0,ref:t},A,T,{children:[i,_?(0,d.jsx)("title",{children:_}):null]}))}));m.muiName="SvgIcon";var y=m;function g(e,t){var n=function(n,i){return(0,d.jsx)(y,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))};return n.muiName=y.muiName,i.memo(i.forwardRef(n))}},1256:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return o.Z},debounce:function(){return u},deprecatedPropType:function(){return s},isMuiElement:function(){return f},ownerDocument:function(){return d},ownerWindow:function(){return p},requirePropFactory:function(){return v},setRef:function(){return m},unstable_ClassNameGenerator:function(){return T},unstable_useEnhancedEffect:function(){return y},unstable_useId:function(){return w},unsupportedProp:function(){return x},useControlled:function(){return S.Z},useEventCallback:function(){return _.Z},useForkRef:function(){return I.Z},useIsFocusVisible:function(){return E.Z}});var r=n(5902),i=n(4036);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},o=n(9201);var u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r};var s=function(e,t){return function(){return null}},c=n(2791),l=n.t(c,2);var f=function(e,t){return c.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function h(e){return e&&e.ownerDocument||document}var d=h;var p=function(e){return h(e).defaultView||window};n(7462);var v=function(e,t){return function(){return null}},m=n(2971).Z,y=n(5721).Z,g=n(9439),k=0;var b=l.useId;var w=function(e){if(void 0!==b){var t=b();return null!=e?e:t}return function(e){var t=c.useState(e),n=(0,g.Z)(t,2),r=n[0],i=n[1],a=e||r;return c.useEffect((function(){null==r&&i("mui-".concat(k+=1))}),[r]),a}(e)};var x=function(e,t,n,r,i){return null},S=n(8744),_=n(6868),I=n(4843),E=n(3031),T={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),r.Z.configure(e)}}},8744:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9439),i=n(2791);var a=function(e){var t=e.controlled,n=e.default,a=(e.name,e.state,i.useRef(void 0!==t).current),o=i.useState(n),u=(0,r.Z)(o,2),s=u[0],c=u[1];return[a?t:s,i.useCallback((function(e){a||c(e)}),[])]}},6868:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(5721);var a=function(e){var t=r.useRef(e);return(0,i.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},4843:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(2971);var a=function(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},3031:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r,i=n(2791),a=!0,o=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function l(){"hidden"===this.visibilityState&&o&&(a=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var h=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",l,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!f(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,window.clearTimeout(r),r=window.setTimeout((function(){o=!1}),100),t.current=!1,!0)},ref:e}}},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return u},VO:function(){return r},W8:function(){return o},k9:function(){return a}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},2065:function(e,t,n){"use strict";n.d(t,{$n:function(){return f},Fq:function(){return c},_j:function(){return l},mi:function(){return s}});var r=n(6189);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7462),i=n(3366),a=n(2466),o=n(4942),u=["values","unit","step"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,s=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,f=(0,i.Z)(e,u),h=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,o.Z)({},t.key,t.val))}),{})}(n),d=Object.keys(h);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(s,")")}function m(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-l/100).concat(s,")")}return(0,r.Z)({keys:d,values:h,up:p,down:v,between:m,only:function(e){return d.indexOf(e)+1<d.length?m(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?v(d[t]):m(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:s},f)}var c={borderRadius:4},l=n(5682);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,l.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var h=["breakpoints","palette","spacing","shape"];var d=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,u=void 0===o?{}:o,l=e.spacing,d=e.shape,p=void 0===d?{}:d,v=(0,i.Z)(e,h),m=s(n),y=f(l),g=(0,a.Z)({breakpoints:m,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},u),spacing:y,shape:(0,r.Z)({},c,p)},v),k=arguments.length,b=new Array(k>1?k-1:0),w=1;w<k;w++)b[w-1]=arguments[w];return g=b.reduce((function(e,t){return(0,a.Z)(e,t)}),g)}},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},ZP:function(){return x},NA:function(){return m}});var r=n(9439),i=n(1184),a=n(8529),o=n(8247);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=u[i],l=s[a]||"";return Array.isArray(l)?l.map((function(e){return o+e})):[o+l]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i,o=null!=(i=(0,a.D)(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function v(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function y(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(l(n),r),o=e[n];return(0,i.k9)(e,o,a)}function g(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return y(e,t,r,n)})).reduce(o.Z,{})}function k(e){return g(e,f)}function b(e){return g(e,h)}function w(e){return g(e,d)}k.propTypes={},k.filterProps=f,b.propTypes={},b.filterProps=h,w.propTypes={},w.filterProps=d;var x=w},8529:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(4942),i=n(7312),a=n(1184);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r)),r}t.Z=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return(0,a.k9)(e,n,(function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===s?n:(0,r.Z)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},5902:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?o[r]=a(e[r],t[r],n):o[r]=t[r])})),o}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},1217:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5902),i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",a=i[t];return a?"".concat(n,"-").concat(a):"".concat(r.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1217);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach((function(t){i[t]=(0,r.Z)(e,t,n)})),i}},5735:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}},2971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},5721:function(e,t,n){"use strict";var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=i},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case I:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,_e=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Te(){if(Se){var e=Se,t=_e;if(_e=Se=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Se||null!==_e)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ue,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,_t,It,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Ot=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void It(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){Et=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Ot.forEach(Vt),Pt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Zt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Bt=b.ReactCurrentBatchConfig,qt=!0;function Kt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Ht(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&qr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=gi(e=we(r))))if(null===(t=Ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function In(){return _n}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Dn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Gn(e){jr(e,0)}function Qn(e){if(H(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Hn)){var t=[];Kn(t,Hn,e,we(e)),Oe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Hn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},_r={};function Ir(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Br(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Gr(o,u,s,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(qn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Zn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Zn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Zn=!0)),0<(y=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Jt=Xt=Yt=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Si=-1;function _i(e){return{current:e}}function Ii(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ei(e,t){Si++,xi[Si]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ai=_i(!1),Ni=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ii(Ai),Ii(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),Ei(Ci,e)):Ii(Ai),Ei(Ai,n)}var ji=null,Vi=!1,Ui=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Zi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Je,Zi),i}finally{kt=t,Ui=!1}}return null}var Bi=[],qi=0,Ki=null,Wi=0,Hi=[],Gi=0,Qi=null,$i=1,Yi="";function Xi(e,t){Bi[qi++]=Wi,Bi[qi++]=Ki,Ki=e,Wi=t}function Ji(e,t,n){Hi[Gi++]=$i,Hi[Gi++]=Yi,Hi[Gi++]=Qi,Qi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ta(e){for(;e===Ki;)Ki=Bi[--qi],Bi[qi]=null,Wi=Bi[--qi],Bi[qi]=null;for(;e===Qi;)Qi=Hi[--Gi],Hi[Gi]=null,Yi=Hi[--Gi],Hi[Gi]=null,$i=Hi[--Gi],Hi[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Ba(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Ni:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ga(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Qa(!0),Ya=Qa(!1),Xa={},Ja=_i(Xa),eo=_i(Xa),to=_i(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Ja,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Ja),Ei(Ja,t)}function io(){Ii(Ja),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Ja,n))}function oo(e){eo.current===e&&(Ii(Ja),Ii(eo))}var uo=_i(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Ro.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function Bo(e,t){return zo(8390656,8,e,t)}function qo(e,t){return Zo(2048,8,e,t)}function Ko(e,t){return Zo(4,2,e,t)}function Wo(e,t){return Zo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zo(4,4,Ho.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Jo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Jo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=As.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Yo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Ko,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Ks=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return qu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ds,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ni:Ci.current;return a=Oi(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(_a(t,i),null===t.stateNode)Bu(e,t),Ba(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Oi(t,c=Pi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&qa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Na||Za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Oi(t,s=Pi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&qa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Na||Za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),qu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Du,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Gi++]=$i,Hi[Gi++]=Yi,Hi[Gi++]=Qi,$i=e.id,Yi=e.overflow,Qi=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Pi(t.type)&&Di(),Wu(t),null;case 3:return r=t.stateNode,io(),Ii(Ai),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":W(r),J(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),null===e&&Zr(t.stateNode.containerInfo),Wu(t),null;case 10:return xa(t.type._context),Wu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Ku(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Ku(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Zs&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ku(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Ye()-o.renderingStartTime>Zs&&1073741824!==n&&(t.flags|=128,r=!0,Ku(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ai),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qu=!1,$u=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Ju(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){_c(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Ju(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Ju(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){_c(e,e.return,m)}try{ns(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Ju(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Ju(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){_c(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){_c(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Zt(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Ye())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Ju(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_c(r,n,m)}}break;case 5:Ju(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Xu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){_c(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Qu;var c=$u;if(Qu=o,($u=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Xu=s):xs(i);for(;null!==a;)Xu=a,ks(a,t,n),a=a.sibling;Xu=i,Qu=u,$u=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):bs(e)}}function bs(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Zt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){_c(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function xs(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{is(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var Ss,_s=Math.ceil,Is=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Ns=null,Os=0,Ps=0,Ds=_i(0),Rs=0,Ls=null,Ms=0,Fs=0,js=0,Vs=null,Us=null,zs=0,Zs=1/0,Bs=null,qs=!1,Ks=null,Ws=null,Hs=!1,Gs=null,Qs=0,$s=0,Ys=null,Xs=-1,Js=0;function ec(){return 0!==(6&Cs)?Ye():-1!==Xs?Xs:Xs=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Js&&(Js=vt()),Js):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Ys=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Rs&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Zs=Ye()+500,Vi&&Zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Os:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Zi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,Js=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Os===t||(Bs=null,Zs=Ye()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==Ns?t=0:(As=null,Os=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,Bs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,Bs),t);break}wc(e,Us,Bs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,Bs),r);break}wc(e,Us,Bs);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~js,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,Bs),rc(e,Ye()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Zs=Ye()+500,Vi&&Zi())}}function lc(e){null!==Gs&&0===Gs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&Zi()}}function fc(){Ps=Ds.current,Ii(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ii(Ai),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Ns=e=Dc(e.current,null),Os=Ps=t,Rs=0,Ls=null,js=Fs=Ms=0,Us=Vs=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Es.current=null,null===n||null===n.return){Rs=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===As||0===(268435455&Ms)&&0===(268435455&Fs)||uc(As,Os)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Os===t||(Bs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==Ns)throw Error(a(261));return As=null,Os=0,Rs}function yc(){for(;null!==Ns;)kc(Ns)}function gc(){for(;null!==Ns&&!Qe();)kc(Ns)}function kc(e){var t=Ss(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):Ns=t,Es.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ps)))return void(Ns=n)}else{if(null!==(n=Gu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Rs=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Gs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ns=As=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,Gs=e,Qs=i),0===(o=e.pendingLanes)&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(qs)throw qs=!1,e=Ks,Ks=null,e;0!==(1&Qs)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Ys?$s++:($s=0,Ys=e):$s=0,Zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Gs){var e=bt(Qs),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Gs)var r=!1;else{if(e=Gs,Gs=null,Qs=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var k=e.current;for(Xu=k;null!==Xu;){var b=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Xu=b;else e:for(u=k;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Cs=i,Zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function Sc(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Os&n)===n&&(4===Rs||3===Rs&&(130023424&Os)===Os&&500>Ye()-zs?hc(e,0):js|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Nc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Lc(n.children,i,o,t);case _:u=8,i|=8;break;case I:return(e=Oc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Oc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Zc(e){if(!e)return Ti;e:{if(Ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=Zc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ei(uo,1&uo.current),null!==(e=qu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return qu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=qu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=qu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Sa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Su(e,t,r,i=ma(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Bu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,_a(t,n),Ba(t,r,i),Ka(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return Zu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,Zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Zr(8===e.nodeType?e.parentNode:e),lc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Cs)&&(Zs=Ye()+500,Zi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},_t=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,I=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?S():(_=!1,I=null)}}else _=!1}if("function"===typeof k)S=function(){k(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=N,S=function(){P.postMessage(null)}}else S=function(){y(N,0)};function D(e){I=e,_||(_=!0,S())}function R(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".402852f4.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="gmail-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/email-clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkgmail_clone=self.webpackChunkgmail_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return di},SDK_VERSION:function(){return Sa},_DEFAULT_ENTRY_NAME:function(){return la},_addComponent:function(){return pa},_addOrOverwriteComponent:function(){return va},_apps:function(){return ha},_clearComponents:function(){return ka},_components:function(){return da},_getProvider:function(){return ya},_registerComponent:function(){return ma},_removeServiceInstance:function(){return ga},deleteApp:function(){return Ta},getApp:function(){return Ia},getApps:function(){return Ea},initializeApp:function(){return _a},onLog:function(){return Na},registerVersion:function(){return Aa},setLogLevel:function(){return Oa}});var t=n(2791),r=n.t(t,2),i=n(1250),a=n(7248),o=n(327),u=n(4164);var s=function(e){e()},c=function(){return s},l=t.createContext(null);function f(){return(0,t.useContext)(l)}var h=function(){throw new Error("uSES not initialized!")},d=h,p=function(e,t){return e===t};function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=e===l?f:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;var i=n(),a=i.store,o=i.subscription,u=i.getServerState,s=d(o.addNestedSub,a.getState,u||a.getState,e,r);return(0,t.useDebugValue)(s),s}}var m=v();n(2110),n(6900);var y={notify:function(){},get:function(){return[]}};function g(e,t){var n,r=y;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=c(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=y)},getListeners:function(){return r}};return o}var k=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var b=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=g(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);k((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||l;return t.createElement(s.Provider,{value:o},i)};function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=e===l?f:function(){return(0,t.useContext)(e)};return function(){return n().store}}var x=w();function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=e===l?x:w(e);return function(){return t().dispatch}}var _,I=S();function E(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function T(e){return!!e&&!!e[me]}function C(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ye}(e)||Array.isArray(e)||!!e[ve]||!!e.constructor[ve]||L(e)||M(e))}function A(e,t,n){void 0===n&&(n=!1),0===N(e)?(n?Object.keys:ge)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function N(e){var t=e[me];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:L(e)?2:M(e)?3:0}function O(e,t){return 2===N(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function P(e,t){return 2===N(e)?e.get(t):e[t]}function D(e,t,n){var r=N(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function R(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function L(e){return fe&&e instanceof Map}function M(e){return he&&e instanceof Set}function F(e){return e.o||e.t}function j(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ke(e);delete t[me];for(var n=ge(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function V(e,t){return void 0===t&&(t=!1),z(e)||T(e)||!C(e)||(N(e)>1&&(e.set=e.add=e.clear=e.delete=U),Object.freeze(e),t&&A(e,(function(e,t){return V(t,!0)}),!0)),e}function U(){E(2)}function z(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Z(e){var t=be[e];return t||E(18,e),t}function B(e,t){be[e]||(be[e]=t)}function q(){return ce}function K(e,t){t&&(Z("Patches"),e.u=[],e.s=[],e.v=t)}function W(e){H(e),e.p.forEach(Q),e.p=null}function H(e){e===ce&&(ce=e.l)}function G(e){return ce={p:[],l:ce,h:e,m:!0,_:0}}function Q(e){var t=e[me];0===t.i||1===t.i?t.j():t.O=!0}function $(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Z("ES5").S(t,e,r),r?(n[me].P&&(W(t),E(4)),C(e)&&(e=Y(t,e),t.l||J(t,e)),t.u&&Z("Patches").M(n[me].t,e,t.u,t.s)):e=Y(t,n,[]),W(t),t.u&&t.v(t.u,t.s),e!==pe?e:void 0}function Y(e,t,n){if(z(t))return t;var r=t[me];if(!r)return A(t,(function(i,a){return X(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return J(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=j(r.k):r.o;A(3===r.i?new Set(i):i,(function(t,a){return X(e,r,i,t,a,n)})),J(e,i,!1),n&&e.u&&Z("Patches").R(r,n,e.u,e.s)}return r.o}function X(e,t,n,r,i,a){if(T(i)){var o=Y(e,i,a&&t&&3!==t.i&&!O(t.D,r)?a.concat(r):void 0);if(D(n,r,o),!T(o))return;e.m=!1}if(C(i)&&!z(i)){if(!e.h.F&&e._<1)return;Y(e,i),t&&t.A.l||J(e,i)}}function J(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&V(t,n)}function ee(e,t){var n=e[me];return(n?F(n):e)[t]}function te(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function ne(e){e.P||(e.P=!0,e.l&&ne(e.l))}function re(e){e.o||(e.o=j(e.t))}function ie(e,t,n){var r=L(t)?Z("MapSet").N(t,n):M(t)?Z("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:q(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=we;n&&(i=[r],a=xe);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):Z("ES5").J(t,n);return(n?n.A:q()).p.push(r),r}function ae(e){return T(e)||E(22,e),function e(t){if(!C(t))return t;var n,r=t[me],i=N(t);if(r){if(!r.P&&(r.i<4||!Z("ES5").K(r)))return r.t;r.I=!0,n=oe(t,i),r.I=!1}else n=oe(t,i);return A(n,(function(t,i){r&&P(r.t,t)===i||D(n,t,e(i))})),3===i?new Set(n):n}(e)}function oe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return j(e)}function ue(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[me];return we.get(t,e)},set:function(t){var n=this[me];we.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][me];if(!i.P)switch(i.i){case 5:r(i)&&ne(i);break;case 4:n(i)&&ne(i)}}}function n(e){for(var t=e.t,n=e.k,r=ge(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==me){var o=t[a];if(void 0===o&&!O(t,a))return!0;var u=n[a],s=u&&u[me];if(s?s.t!==o:!R(u,o))return!0}}var c=!!t[me];return r.length!==ge(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};B("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=ke(n);delete a[me];for(var o=ge(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:q(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,me,{value:a,writable:!0}),i},S:function(e,n,i){i?T(n)&&n[me].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[me];if(n){var i=n.t,a=n.k,o=n.D,u=n.i;if(4===u)A(a,(function(t){t!==me&&(void 0!==i[t]||O(i,t)?o[t]||e(a[t]):(o[t]=!0,ne(n)))})),A(i,(function(e){void 0!==a[e]||O(a,e)||(o[e]=!1,ne(n))}));else if(5===u){if(r(n)&&(ne(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){d=e}(o.useSyncExternalStoreWithSelector),function(e){e}(a.useSyncExternalStore),_=u.unstable_batchedUpdates,s=_;var se,ce,le="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),fe="undefined"!=typeof Map,he="undefined"!=typeof Set,de="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,pe=le?Symbol.for("immer-nothing"):((se={})["immer-nothing"]=!0,se),ve=le?Symbol.for("immer-draftable"):"__$immer_draftable",me=le?Symbol.for("immer-state"):"__$immer_state",ye=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ge="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ke=Object.getOwnPropertyDescriptors||function(e){var t={};return ge(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},be={},we={get:function(e,t){if(t===me)return e;var n=F(e);if(!O(n,t))return function(e,t,n){var r,i=te(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!C(r)?r:r===ee(e.t,t)?(re(e),e.o[t]=ie(e.A.h,r,e)):r},has:function(e,t){return t in F(e)},ownKeys:function(e){return Reflect.ownKeys(F(e))},set:function(e,t,n){var r=te(F(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ee(F(e),t),a=null==i?void 0:i[me];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(R(n,i)&&(void 0!==n||O(e.t,t)))return!0;re(e),ne(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==ee(e.t,t)||t in e.t?(e.D[t]=!1,re(e),ne(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=F(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){E(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){E(12)}},xe={};A(we,(function(e,t){xe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),xe.deleteProperty=function(e,t){return xe.set.call(this,e,t,void 0)},xe.set=function(e,t,n){return we.set.call(this,e[0],t,n,e[0])};var Se=function(){function e(e){var t=this;this.g=de,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&E(6),void 0!==r&&"function"!=typeof r&&E(7),C(e)){var u=G(t),s=ie(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?W(u):H(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return K(u,r),$(e,u)}),(function(e){throw W(u),e})):(K(u,r),$(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===pe&&(o=void 0),t.F&&V(o,!0),r){var l=[],f=[];Z("Patches").M(e,o,l,f),r(l,f)}return o}E(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){C(e)||E(8),T(e)&&(e=ae(e));var t=G(this),n=ie(this,e,void 0);return n[me].C=!0,H(t),n},t.finishDraft=function(e,t){var n=(e&&e[me]).A;return K(n,t),$(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!de&&E(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Z("Patches").$;return T(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),_e=new Se,Ie=_e.produce,Ee=(_e.produceWithPatches.bind(_e),_e.setAutoFreeze.bind(_e),_e.setUseProxies.bind(_e),_e.applyPatches.bind(_e),_e.createDraft.bind(_e),_e.finishDraft.bind(_e),Ie),Te=n(4942);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){(0,Te.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Oe="function"===typeof Symbol&&Symbol.observable||"@@observable",Pe=function(){return Math.random().toString(36).substring(7).split("").join(".")},De={INIT:"@@redux/INIT"+Pe(),REPLACE:"@@redux/REPLACE"+Pe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Pe()}};function Re(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Le(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Ne(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Ne(1));return n(Le)(e,t)}if("function"!==typeof e)throw new Error(Ne(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(Ne(3));return a}function f(e){if("function"!==typeof e)throw new Error(Ne(4));if(s)throw new Error(Ne(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(Ne(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!Re(e))throw new Error(Ne(7));if("undefined"===typeof e.type)throw new Error(Ne(8));if(s)throw new Error(Ne(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(Ne(10));i=e,h({type:De.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Ne(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Oe]=function(){return this},e}return h({type:De.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[Oe]=p,r}function Me(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:De.INIT}))throw new Error(Ne(12));if("undefined"===typeof n(void 0,{type:De.PROBE_UNKNOWN_ACTION()}))throw new Error(Ne(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Ne(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Fe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Ne(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Fe.apply(void 0,a)(n.dispatch),Ae(Ae({},n),{},{dispatch:r})}}}function Ve(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Ue=Ve();Ue.withExtraArgument=Ve;var ze=Ue,Ze=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Be=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},qe=Object.defineProperty,Ke=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),We=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,Ge=function(e,t,n){return t in e?qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Qe=function(e,t){for(var n in t||(t={}))We.call(t,n)&&Ge(e,n,t[n]);if(Ke)for(var r=0,i=Ke(t);r<i.length;r++){n=i[r];He.call(t,n)&&Ge(e,n,t[n])}return e},$e="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Fe:Fe.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ye(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Xe=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Ze(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Be([void 0],e[0].concat(this)))):new(t.bind.apply(t,Be([void 0],e.concat(this))))},t}(Array);function Je(e){return C(e)?Ee(e,(function(){})):e}function et(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Xe);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(ze.withExtraArgument(n.extraArgument)):r.push(ze));0;return r}(e)}}function tt(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Qe(Qe({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function nt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function rt(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Je(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?nt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=Qe(Qe({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?nt(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return Je(e())};else{var c=Je(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=Be([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(T(e))return"undefined"===typeof(r=n(e,t))?e:r;if(C(e))return Ee(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?tt(c,r):tt(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}Object.assign;var it="listenerMiddleware";tt(it+"/add"),tt(it+"/removeAll"),tt(it+"/remove");ue();var at,ot=rt({name:"mail",initialState:{selectedMail:null,sendMessageIsOpen:!1},reducers:{selectMail:function(e,t){e.selectedMail=t.payload},openSendMessage:function(e){e.sendMessageIsOpen=!0},closeSendMessage:function(e){e.sendMessageIsOpen=!1}}}),ut=ot.actions,st=ut.selectMail,ct=ut.openSendMessage,lt=ut.closeSendMessage,ft=function(e){return e.mail.selectedMail},ht=function(e){return e.mail.sendMessageIsOpen},dt=ot.reducer,pt=rt({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),vt=pt.actions,mt=vt.login,yt=vt.logout,gt=function(e){return e.user.user},kt=function(e){var t,n=et(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!Ye(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Me(a)}var p=u;"function"===typeof p&&(p=p(n));var v=je.apply(void 0,p),m=Fe;c&&(m=$e(Qe({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(d)?y=Be([v],d):"function"===typeof d&&(y=d(y)),Le(t,f,m.apply(void 0,y))}({reducer:{mail:dt,user:pt.reducer}}),bt=n(9439),wt=n(7462);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(at||(at={}));var xt=function(e){return e};var St="beforeunload",_t="popstate";function It(e){e.preventDefault(),e.returnValue=""}function Et(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function Tt(){return Math.random().toString(36).substr(2,8)}function Ct(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function At(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Nt=(0,t.createContext)(null);var Ot=(0,t.createContext)(null);var Pt=(0,t.createContext)({outlet:null,matches:[]});function Dt(e,t){if(!e)throw new Error(t)}function Rt(e,t,n){void 0===n&&(n="/");var r=Zt(("string"===typeof t?At(t):t).pathname||"/",n);if(null==r)return null;var i=Lt(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Vt(i[o],r);return a}function Lt(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||Dt(!1),a.relativePath=a.relativePath.slice(r.length));var o=Bt([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&Dt(!1),Lt(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:jt(o,e.index),routesMeta:u})})),t}var Mt=/^:\w+$/,Ft=function(e){return"*"===e};function jt(e,t){var n=e.split("/"),r=n.length;return n.some(Ft)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Ft(e)})).reduce((function(e,t){return e+(Mt.test(t)?3:""===t?1:10)}),r)}function Vt(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Ut({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:Bt([i,l.pathname]),pathnameBase:qt(Bt([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=Bt([i,l.pathnameBase]))}return a}function Ut(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,bt.Z)(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function zt(e,t,n){var r,i="string"===typeof e?At(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?At(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:Kt(a),hash:Wt(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function Zt(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var Bt=function(e){return e.join("/").replace(/\/\/+/g,"/")},qt=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Kt=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Wt=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function Ht(){return null!=(0,t.useContext)(Ot)}function Gt(){return Ht()||Dt(!1),(0,t.useContext)(Ot).location}function Qt(){Ht()||Dt(!1);var e=(0,t.useContext)(Nt),n=e.basename,r=e.navigator,i=(0,t.useContext)(Pt).matches,a=Gt().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){u.current=!0}));var s=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=zt(e,JSON.parse(o),a);"/"!==n&&(i.pathname=Bt([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}function $t(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(Pt.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function Yt(e){Dt(!1)}function Xt(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?at.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;Ht()&&Dt(!1);var h=qt(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=At(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,S=p.key,_=void 0===S?"default":S,I=(0,t.useMemo)((function(){var e=Zt(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:_}}),[h,m,g,b,x,_]);return null==I?null:(0,t.createElement)(Nt.Provider,{value:d},(0,t.createElement)(Ot.Provider,{children:a,value:{location:I,navigationType:s}}))}function Jt(e){var n=e.children,r=e.location;return function(e,n){Ht()||Dt(!1);var r,i=(0,t.useContext)(Pt).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,Gt());if(n){var c,l="string"===typeof n?At(n):n;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||Dt(!1),r=l}else r=s;var f=r.pathname||"/",h=Rt(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return $t(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Bt([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Bt([u,e.pathnameBase])})})),i)}(en(n),r)}function en(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==Yt&&Dt(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=en(e.props.children)),n.push(r)}else n.push.apply(n,en(e.props.children))})),n}function tn(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,xt({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(_t,(function(){if(a)f.call(a),a=null;else{var e=at.Pop,t=i(),n=t[0],r=t[1];if(f.length){if(null!=n){var o=s-n;o&&(a={action:e,location:r,retry:function(){y(-1*o)}},y(o))}}else m(e)}}));var o=at.Pop,u=i(),s=u[0],c=u[1],l=Et(),f=Et();function h(e){return"string"===typeof e?e:Ct(e)}function d(e,t){return void 0===t&&(t=null),xt((0,wt.Z)({pathname:c.pathname,hash:"",search:""},"string"===typeof e?At(e):e,{state:t,key:Tt()}))}function p(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function v(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function m(e){o=e;var t=i();s=t[0],c=t[1],l.call({action:o,location:c})}function y(e){r.go(e)}null==s&&(s=0,r.replaceState((0,wt.Z)({},r.state,{idx:s}),""));var g={get action(){return o},get location(){return c},createHref:h,push:function e(t,i){var a=at.Push,o=d(t,i);if(v(a,o,(function(){e(t,i)}))){var u=p(o,s+1),c=u[0],l=u[1];try{r.pushState(c,"",l)}catch(f){n.location.assign(l)}m(a)}},replace:function e(t,n){var i=at.Replace,a=d(t,n);if(v(i,a,(function(){e(t,n)}))){var o=p(a,s),u=o[0],c=o[1];r.replaceState(u,"",c),m(i)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return l.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(St,It),function(){t(),f.length||n.removeEventListener(St,It)}}};return g}({window:i}));var o=a.current,u=(0,t.useState)({action:o.action,location:o.location}),s=(0,bt.Z)(u,2),c=s[0],l=s[1];return(0,t.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,t.createElement)(Xt,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:o})}var nn=n(184),rn=function(e){return(0,nn.jsxs)("div",{className:"section ".concat(e.selected&&"section--selected"),style:{borderBottom:"3px solid ".concat(e.color),color:"".concat(e.selected&&e.color)},children:[e.Icon,(0,nn.jsxs)("h4",{children:[" ",e.title]})]})},an=n(3366),on=n(4419),un=n(2065),sn=n(8182),cn=n(4036),ln=n(1625),fn=n(8744);var hn=t.createContext();var dn=n(2507),pn=n(4843),vn=n(6868),mn=n(3031),yn=n(3433);function gn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bn(e,t){return bn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bn(e,t)}var wn=t.createContext(null);function xn(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function Sn(e,t,n){return null!=n[t]?n[t]:e.props[t]}function _n(e,n,r){var i=xn(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:Sn(u,"exit",e),enter:Sn(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:Sn(u,"exit",e),enter:Sn(u,"enter",e)})}})),a}var In=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},En=function(e){var n,r;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(kn(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,bn(n,r);var a=i.prototype;return a.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},a.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,xn(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:Sn(e,"appear",r),enter:Sn(e,"enter",r),exit:Sn(e,"exit",r)})}))):_n(e,a,o),firstRender:!1}},a.handleExited=function(e,t){var n=xn(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,wt.Z)({},t.children);return delete n[e.key],{children:n}})))},a.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,an.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=In(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(wn.Provider,{value:a},o):t.createElement(wn.Provider,{value:a},t.createElement(n,i,o))},i}(t.Component);En.propTypes={},En.defaultProps={component:"div",childFactory:function(e){return e}};var Tn=En,Cn=(n(76),n(1346));r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect;function An(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,Cn.O)(t)}var Nn=function(){var e=An.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var On=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,c=e.in,l=e.onExited,f=e.timeout,h=t.useState(!1),d=(0,bt.Z)(h,2),p=d[0],v=d[1],m=(0,sn.Z)(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),y={width:s,height:s,top:-s/2+u,left:-s/2+o},g=(0,sn.Z)(r.child,p&&r.childLeaving,a&&r.childPulsate);return c||p||v(!0),t.useEffect((function(){if(!c&&null!=l){var e=setTimeout(l,f);return function(){clearTimeout(e)}}}),[l,c,f]),(0,nn.jsx)("span",{className:m,style:y,children:(0,nn.jsx)("span",{className:g})})},Pn=n(5878);var Dn,Rn,Ln,Mn,Fn,jn,Vn,Un,zn=(0,Pn.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Zn=["center","classes","className"],Bn=Nn(Fn||(Fn=Dn||(Dn=gn(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),qn=Nn(jn||(jn=Rn||(Rn=gn(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Kn=Nn(Vn||(Vn=Ln||(Ln=gn(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Wn=(0,ln.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Hn=(0,ln.ZP)(On,{name:"MuiTouchRipple",slot:"Ripple"})(Un||(Un=Mn||(Mn=gn(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),zn.rippleVisible,Bn,550,(function(e){return e.theme.transitions.easing.easeInOut}),zn.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),zn.child,zn.childLeaving,qn,550,(function(e){return e.theme.transitions.easing.easeInOut}),zn.childPulsate,Kn,(function(e){return e.theme.transitions.easing.easeInOut})),Gn=t.forwardRef((function(e,n){var r=(0,dn.Z)({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,c=(0,an.Z)(r,Zn),l=t.useState([]),f=(0,bt.Z)(l,2),h=f[0],d=f[1],p=t.useRef(0),v=t.useRef(null);t.useEffect((function(){v.current&&(v.current(),v.current=null)}),[h]);var m=t.useRef(!1),y=t.useRef(null),g=t.useRef(null),k=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var b=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;d((function(e){return[].concat((0,yn.Z)(e),[(0,nn.jsx)(Hn,{classes:{ripple:(0,sn.Z)(u.ripple,zn.ripple),rippleVisible:(0,sn.Z)(u.rippleVisible,zn.rippleVisible),ripplePulsate:(0,sn.Z)(u.ripplePulsate,zn.ripplePulsate),child:(0,sn.Z)(u.child,zn.child),childLeaving:(0,sn.Z)(u.childLeaving,zn.childLeaving),childPulsate:(0,sn.Z)(u.childPulsate,zn.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},p.current)])})),p.current+=1,v.current=a}),[u]),w=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&m.current)m.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(m.current=!0);var l,f,h,d=c?null:k.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,w=v.clientX,x=v.clientY;l=Math.round(w-p.left),f=Math.round(x-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var S=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,_=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(S,2)+Math.pow(_,2))}null!=e&&e.touches?null===g.current&&(g.current=function(){b({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},y.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),80)):b({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,b]),x=t.useCallback((function(){w({},{pulsate:!0})}),[w]),S=t.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===(null==e?void 0:e.type)&&g.current)return g.current(),g.current=null,void(y.current=setTimeout((function(){S(e,t)})));g.current=null,d((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:x,start:w,stop:S}}),[x,w,S]),(0,nn.jsx)(Wn,(0,wt.Z)({className:(0,sn.Z)(u.root,zn.root,s),ref:k},c,{children:(0,nn.jsx)(Tn,{component:null,exit:!0,children:h})}))})),Qn=Gn,$n=n(1217);function Yn(e){return(0,$n.Z)("MuiButtonBase",e)}var Xn,Jn=(0,Pn.Z)("MuiButtonBase",["root","disabled","focusVisible"]),er=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],tr=(0,ln.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Xn={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,Te.Z)(Xn,"&.".concat(Jn.disabled),{pointerEvents:"none",cursor:"default"}),(0,Te.Z)(Xn,"@media print",{colorAdjust:"exact"}),Xn)),nr=t.forwardRef((function(e,n){var r=(0,dn.Z)({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,c=r.component,l=void 0===c?"button":c,f=r.disabled,h=void 0!==f&&f,d=r.disableRipple,p=void 0!==d&&d,v=r.disableTouchRipple,m=void 0!==v&&v,y=r.focusRipple,g=void 0!==y&&y,k=r.LinkComponent,b=void 0===k?"a":k,w=r.onBlur,x=r.onClick,S=r.onContextMenu,_=r.onDragLeave,I=r.onFocus,E=r.onFocusVisible,T=r.onKeyDown,C=r.onKeyUp,A=r.onMouseDown,N=r.onMouseLeave,O=r.onMouseUp,P=r.onTouchEnd,D=r.onTouchMove,R=r.onTouchStart,L=r.tabIndex,M=void 0===L?0:L,F=r.TouchRippleProps,j=r.touchRippleRef,V=r.type,U=(0,an.Z)(r,er),z=t.useRef(null),Z=t.useRef(null),B=(0,pn.Z)(Z,j),q=(0,mn.Z)(),K=q.isFocusVisibleRef,W=q.onFocus,H=q.onBlur,G=q.ref,Q=t.useState(!1),$=(0,bt.Z)(Q,2),Y=$[0],X=$[1];h&&Y&&X(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){X(!0),z.current.focus()}}}),[]);var J=t.useState(!1),ee=(0,bt.Z)(J,2),te=ee[0],ne=ee[1];t.useEffect((function(){ne(!0)}),[]);var re=te&&!p&&!h;function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;return(0,vn.Z)((function(r){return t&&t(r),!n&&Z.current&&Z.current[e](r),!0}))}t.useEffect((function(){Y&&g&&!p&&te&&Z.current.pulsate()}),[p,g,Y,te]);var ae=ie("start",A),oe=ie("stop",S),ue=ie("stop",_),se=ie("stop",O),ce=ie("stop",(function(e){Y&&e.preventDefault(),N&&N(e)})),le=ie("start",R),fe=ie("stop",P),he=ie("stop",D),de=ie("stop",(function(e){H(e),!1===K.current&&X(!1),w&&w(e)}),!1),pe=(0,vn.Z)((function(e){z.current||(z.current=e.currentTarget),W(e),!0===K.current&&(X(!0),E&&E(e)),I&&I(e)})),ve=function(){var e=z.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},me=t.useRef(!1),ye=(0,vn.Z)((function(e){g&&!me.current&&Y&&Z.current&&" "===e.key&&(me.current=!0,Z.current.stop(e,(function(){Z.current.start(e)}))),e.target===e.currentTarget&&ve()&&" "===e.key&&e.preventDefault(),T&&T(e),e.target===e.currentTarget&&ve()&&"Enter"===e.key&&!h&&(e.preventDefault(),x&&x(e))})),ge=(0,vn.Z)((function(e){g&&" "===e.key&&Z.current&&Y&&!e.defaultPrevented&&(me.current=!1,Z.current.stop(e,(function(){Z.current.pulsate(e)}))),C&&C(e),x&&e.target===e.currentTarget&&ve()&&" "===e.key&&!e.defaultPrevented&&x(e)})),ke=l;"button"===ke&&(U.href||U.to)&&(ke=b);var be={};"button"===ke?(be.type=void 0===V?"button":V,be.disabled=h):(U.href||U.to||(be.role="button"),h&&(be["aria-disabled"]=h));var we=(0,pn.Z)(G,z),xe=(0,pn.Z)(n,we);var Se=(0,wt.Z)({},r,{centerRipple:o,component:l,disabled:h,disableRipple:p,disableTouchRipple:m,focusRipple:g,tabIndex:M,focusVisible:Y}),_e=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=(0,on.Z)(a,Yn,i);return n&&r&&(o.root+=" ".concat(r)),o}(Se);return(0,nn.jsxs)(tr,(0,wt.Z)({as:ke,className:(0,sn.Z)(_e.root,s),ownerState:Se,onBlur:de,onClick:x,onContextMenu:oe,onFocus:pe,onKeyDown:ye,onKeyUp:ge,onMouseDown:ae,onMouseLeave:ce,onMouseUp:se,onDragLeave:ue,onTouchEnd:fe,onTouchMove:he,onTouchStart:le,ref:xe,tabIndex:h?-1:M,type:V},be,U,{children:[u,re?(0,nn.jsx)(Qn,(0,wt.Z)({ref:B,center:o},F)):null]}))})),rr=nr;function ir(e){return(0,$n.Z)("PrivateSwitchBase",e)}(0,Pn.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var ar=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],or=(0,ln.ZP)(rr)((function(e){var t=e.ownerState;return(0,wt.Z)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),ur=(0,ln.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),sr=t.forwardRef((function(e,n){var r=e.autoFocus,i=e.checked,a=e.checkedIcon,o=e.className,u=e.defaultChecked,s=e.disabled,c=e.disableFocusRipple,l=void 0!==c&&c,f=e.edge,h=void 0!==f&&f,d=e.icon,p=e.id,v=e.inputProps,m=e.inputRef,y=e.name,g=e.onBlur,k=e.onChange,b=e.onFocus,w=e.readOnly,x=e.required,S=e.tabIndex,_=e.type,I=e.value,E=(0,an.Z)(e,ar),T=(0,fn.Z)({controlled:i,default:Boolean(u),name:"SwitchBase",state:"checked"}),C=(0,bt.Z)(T,2),A=C[0],N=C[1],O=t.useContext(hn),P=s;O&&"undefined"===typeof P&&(P=O.disabled);var D="checkbox"===_||"radio"===_,R=(0,wt.Z)({},e,{checked:A,disabled:P,disableFocusRipple:l,edge:h}),L=function(e){var t=e.classes,n=e.checked,r=e.disabled,i=e.edge,a={root:["root",n&&"checked",r&&"disabled",i&&"edge".concat((0,cn.Z)(i))],input:["input"]};return(0,on.Z)(a,ir,t)}(R);return(0,nn.jsxs)(or,(0,wt.Z)({component:"span",className:(0,sn.Z)(L.root,o),centerRipple:!0,focusRipple:!l,disabled:P,tabIndex:null,role:void 0,onFocus:function(e){b&&b(e),O&&O.onFocus&&O.onFocus(e)},onBlur:function(e){g&&g(e),O&&O.onBlur&&O.onBlur(e)},ownerState:R,ref:n},E,{children:[(0,nn.jsx)(ur,(0,wt.Z)({autoFocus:r,checked:i,defaultChecked:u,className:L.input,disabled:P,id:D&&p,name:y,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;N(t),k&&k(e,t)}},readOnly:w,ref:m,required:x,ownerState:R,tabIndex:S,type:_},"checkbox"===_&&void 0===I?{}:{value:I},v)),A?a:d]}))})),cr=sr,lr=n(9201),fr=(0,lr.Z)((0,nn.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),hr=(0,lr.Z)((0,nn.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),dr=(0,lr.Z)((0,nn.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function pr(e){return(0,$n.Z)("MuiCheckbox",e)}var vr=(0,Pn.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),mr=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],yr=(0,ln.ZP)(cr,{shouldForwardProp:function(e){return(0,ln.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t["color".concat((0,cn.Z)(n.color))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,wt.Z)({color:(n.vars||n).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat("default"===r.color?n.vars.palette.action.activeChannel:n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,un.Fq)("default"===r.color?n.palette.action.active:n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(t={},(0,Te.Z)(t,"&.".concat(vr.checked,", &.").concat(vr.indeterminate),{color:(n.vars||n).palette[r.color].main}),(0,Te.Z)(t,"&.".concat(vr.disabled),{color:(n.vars||n).palette.action.disabled}),t))})),gr=(0,nn.jsx)(hr,{}),kr=(0,nn.jsx)(fr,{}),br=(0,nn.jsx)(dr,{}),wr=t.forwardRef((function(e,n){var r,i,a=(0,dn.Z)({props:e,name:"MuiCheckbox"}),o=a.checkedIcon,u=void 0===o?gr:o,s=a.color,c=void 0===s?"primary":s,l=a.icon,f=void 0===l?kr:l,h=a.indeterminate,d=void 0!==h&&h,p=a.indeterminateIcon,v=void 0===p?br:p,m=a.inputProps,y=a.size,g=void 0===y?"medium":y,k=(0,an.Z)(a,mr),b=d?v:f,w=d?v:u,x=(0,wt.Z)({},a,{color:c,indeterminate:d,size:g}),S=function(e){var t=e.classes,n=e.indeterminate,r=e.color,i={root:["root",n&&"indeterminate","color".concat((0,cn.Z)(r))]},a=(0,on.Z)(i,pr,t);return(0,wt.Z)({},t,a)}(x);return(0,nn.jsx)(yr,(0,wt.Z)({type:"checkbox",inputProps:(0,wt.Z)({"data-indeterminate":d},m),icon:t.cloneElement(b,{fontSize:null!=(r=b.props.fontSize)?r:g}),checkedIcon:t.cloneElement(w,{fontSize:null!=(i=w.props.fontSize)?i:g}),ownerState:x,ref:n},k,{classes:S}))}));function xr(e){return(0,$n.Z)("MuiIconButton",e)}var Sr=(0,Pn.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),_r=["edge","children","className","color","disabled","disableFocusRipple","size"],Ir=(0,ln.ZP)(rr,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,cn.Z)(n.color))],n.edge&&t["edge".concat((0,cn.Z)(n.edge))],t["size".concat((0,cn.Z)(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,wt.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.active," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,un.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.ownerState;return(0,wt.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,wt.Z)({color:(t.vars||t).palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,un.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},(0,Te.Z)({},"&.".concat(Sr.disabled),{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}))})),Er=t.forwardRef((function(e,t){var n=(0,dn.Z)({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,a=n.children,o=n.className,u=n.color,s=void 0===u?"default":u,c=n.disabled,l=void 0!==c&&c,f=n.disableFocusRipple,h=void 0!==f&&f,d=n.size,p=void 0===d?"medium":d,v=(0,an.Z)(n,_r),m=(0,wt.Z)({},n,{edge:i,color:s,disabled:l,disableFocusRipple:h,size:p}),y=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,a=e.size,o={root:["root",n&&"disabled","default"!==r&&"color".concat((0,cn.Z)(r)),i&&"edge".concat((0,cn.Z)(i)),"size".concat((0,cn.Z)(a))]};return(0,on.Z)(o,xr,t)}(m);return(0,nn.jsx)(Ir,(0,wt.Z)({className:(0,sn.Z)(y.root,o),centerRipple:!0,focusRipple:!h,disabled:l,ref:t,ownerState:m},v,{children:a}))})),Tr=n(6759),Cr=n(492),Ar=n(2898),Nr=n(1009),Or=n(8996),Pr=n(9772),Dr=n(7122),Rr=n(2041),Lr=n(2216),Mr=n(1137),Fr=n(332),jr=n(1444),Vr=function(e){var t=Qt(),n=I();return(0,nn.jsxs)("div",{onClick:function(){n(st(e)),t("/mail")},className:"emailRow",children:[(0,nn.jsxs)("div",{className:"emailRow_options",children:[(0,nn.jsx)(wr,{}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(jr.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(Fr.Z,{})})]}),(0,nn.jsx)("h3",{className:"emailRow_title",children:e.title}),(0,nn.jsxs)("h4",{className:"emailRow_message",children:[e.subject," ",(0,nn.jsxs)("span",{className:"emailRow_description",children:["-",e.description]})]}),(0,nn.jsxs)("p",{className:"emailRow_time",children:[" ",e.time]})]})};function Ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zr(e,t,n){return t&&zr(e.prototype,t),n&&zr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Br=n(181);function qr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Br.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Kr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bn(e,t)}function Wr(e){return Wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wr(e)}function Hr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Gr(e){return Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gr(e)}function Qr(e,t){if(t&&("object"===Gr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kn(e)}function $r(e){var t=Hr();return function(){var n,r=Wr(e);if(t){var i=Wr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qr(this,n)}}function Yr(e,t,n){return Yr=Hr()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&bn(i,n.prototype),i},Yr.apply(null,arguments)}function Xr(e){var t="function"===typeof Map?new Map:void 0;return Xr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Yr(e,arguments,Wr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),bn(n,e)},Xr(e)}var Jr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ei={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Jr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ti=function(e){return function(e){var t=Jr(e);return ei.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ni=function(e){try{return ei.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ri(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ri(e[n],t[n]));return e}var ii=function(){function e(){var t=this;Ur(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Zr(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ai(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ti(JSON.stringify({alg:"none",type:"JWT"})),ti(JSON.stringify(a)),""].join(".")}function oi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ui(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oi())}function si(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function ci(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function li(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function fi(){var e=oi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function hi(){return"object"===typeof indexedDB}var di=function(e){Kr(n,e);var t=$r(n);function n(e,r,i){var a;return Ur(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(kn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(kn(a),pi.prototype.create),a}return Zr(n)}(Xr(Error)),pi=function(){function e(t,n,r){Ur(this,e),this.service=t,this.serviceName=n,this.errors=r}return Zr(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?vi(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new di(n,a,t);return o}}]),e}();function vi(e,t){return e.replace(mi,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var mi=/\{\$([^}]+)}/g;function yi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gi(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ki(u)&&ki(s)){if(!gi(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ki(e){return null!==e&&"object"===typeof e}function bi(e){for(var t=[],n=function(){var e=(0,bt.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function wi(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,bt.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function xi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Si(e,t){var n=new _i(e,t);return n.subscribe.bind(n)}var _i=function(){function e(t,n){var r=this;Ur(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Zr(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=qr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ii),void 0===r.error&&(r.error=Ii),void 0===r.complete&&(r.complete=Ii);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ii(){}function Ei(e){return e&&e._delegate?e._delegate:e}function Ti(){Ti=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(_([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==Gr(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ci(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ai(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ci(a,r,i,o,u,"next",e)}function u(e){Ci(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Ni=function(){function e(t,n,r){Ur(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Zr(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Oi="[DEFAULT]",Pi=function(){function e(t,n){Ur(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Zr(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ii;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch(s){}var t,n=qr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,bt.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ai(Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,yn.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,yn.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=qr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=(0,bt.Z)(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=qr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(VT){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Oi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(VT){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi;return this.component?this.component.multipleInstances?e:Oi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Di,Ri,Li=function(){function e(t){Ur(this,e),this.name=t,this.providers=new Map}return Zr(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Pi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Mi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ri||(Ri={}));var Fi={debug:Ri.DEBUG,verbose:Ri.VERBOSE,info:Ri.INFO,warn:Ri.WARN,error:Ri.ERROR,silent:Ri.SILENT},ji=Ri.INFO,Vi=(Di={},(0,Te.Z)(Di,Ri.DEBUG,"log"),(0,Te.Z)(Di,Ri.VERBOSE,"log"),(0,Te.Z)(Di,Ri.INFO,"info"),(0,Te.Z)(Di,Ri.WARN,"warn"),(0,Te.Z)(Di,Ri.ERROR,"error"),Di),Ui=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Vi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},zi=function(){function e(t){Ur(this,e),this.name=t,this._logLevel=ji,this._logHandler=Ui,this._userLogHandler=null,Mi.push(this)}return Zr(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ri))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Fi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ri.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ri.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ri.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ri.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ri.INFO].concat(t)),this._logHandler.apply(this,[this,Ri.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ri.WARN].concat(t)),this._logHandler.apply(this,[this,Ri.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ri.ERROR].concat(t)),this._logHandler.apply(this,[this,Ri.ERROR].concat(t))}}]),e}();var Zi,Bi;var qi=new WeakMap,Ki=new WeakMap,Wi=new WeakMap,Hi=new WeakMap,Gi=new WeakMap;var Qi={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ki.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function $i(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Bi||(Bi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ji(this),n),Xi(qi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Xi(e.apply(Ji(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ji(this),t].concat(r));return Wi.set(a,t.sort?t.sort():[t]),Xi(a)}}function Yi(e){return"function"===typeof e?$i(e):(e instanceof IDBTransaction&&function(e){if(!Ki.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ki.set(e,t)}}(e),t=e,(Zi||(Zi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Qi):e);var t}function Xi(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Xi(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&qi.set(t,e)})).catch((function(){})),Gi.set(t,e),t}(e);if(Hi.has(e))return Hi.get(e);var t=Yi(e);return t!==e&&(Hi.set(e,t),Gi.set(t,e)),t}var Ji=function(e){return Gi.get(e)};var ea,ta,na=["get","getKey","getAll","getAllKeys","count"],ra=["put","add","delete","clear"],ia=new Map;function aa(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ia.get(t))return ia.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=ra.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||na.includes(n))){var a=function(){var e=Ai(Ti().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ia.set(t,a),a}}}Qi=function(e){return Ae(Ae({},e),{},{get:function(t,n,r){return aa(t,n)||e.get(t,n,r)},has:function(t,n){return!!aa(t,n)||e.has(t,n)}})}(Qi);var oa=function(){function e(t){Ur(this,e),this.container=t}return Zr(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ua="@firebase/app",sa="0.7.28",ca=new zi("@firebase/app"),la="[DEFAULT]",fa=(ea={},(0,Te.Z)(ea,ua,"fire-core"),(0,Te.Z)(ea,"@firebase/app-compat","fire-core-compat"),(0,Te.Z)(ea,"@firebase/analytics","fire-analytics"),(0,Te.Z)(ea,"@firebase/analytics-compat","fire-analytics-compat"),(0,Te.Z)(ea,"@firebase/app-check","fire-app-check"),(0,Te.Z)(ea,"@firebase/app-check-compat","fire-app-check-compat"),(0,Te.Z)(ea,"@firebase/auth","fire-auth"),(0,Te.Z)(ea,"@firebase/auth-compat","fire-auth-compat"),(0,Te.Z)(ea,"@firebase/database","fire-rtdb"),(0,Te.Z)(ea,"@firebase/database-compat","fire-rtdb-compat"),(0,Te.Z)(ea,"@firebase/functions","fire-fn"),(0,Te.Z)(ea,"@firebase/functions-compat","fire-fn-compat"),(0,Te.Z)(ea,"@firebase/installations","fire-iid"),(0,Te.Z)(ea,"@firebase/installations-compat","fire-iid-compat"),(0,Te.Z)(ea,"@firebase/messaging","fire-fcm"),(0,Te.Z)(ea,"@firebase/messaging-compat","fire-fcm-compat"),(0,Te.Z)(ea,"@firebase/performance","fire-perf"),(0,Te.Z)(ea,"@firebase/performance-compat","fire-perf-compat"),(0,Te.Z)(ea,"@firebase/remote-config","fire-rc"),(0,Te.Z)(ea,"@firebase/remote-config-compat","fire-rc-compat"),(0,Te.Z)(ea,"@firebase/storage","fire-gcs"),(0,Te.Z)(ea,"@firebase/storage-compat","fire-gcs-compat"),(0,Te.Z)(ea,"@firebase/firestore","fire-fst"),(0,Te.Z)(ea,"@firebase/firestore-compat","fire-fst-compat"),(0,Te.Z)(ea,"fire-js","fire-js"),(0,Te.Z)(ea,"firebase","fire-js-all"),ea),ha=new Map,da=new Map;function pa(e,t){try{e.container.addComponent(t)}catch(n){ca.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function va(e,t){e.container.addOrOverwriteComponent(t)}function ma(e){var t=e.name;if(da.has(t))return ca.debug("There were multiple attempts to register component ".concat(t,".")),!1;da.set(t,e);var n,r=qr(ha.values());try{for(r.s();!(n=r.n()).done;){pa(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ya(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ga(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:la;ya(e,t).clearInstance(n)}function ka(){da.clear()}var ba=(ta={},(0,Te.Z)(ta,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Te.Z)(ta,"bad-app-name","Illegal App name: '{$appName}"),(0,Te.Z)(ta,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,Te.Z)(ta,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,Te.Z)(ta,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,Te.Z)(ta,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,Te.Z)(ta,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,Te.Z)(ta,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,Te.Z)(ta,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,Te.Z)(ta,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ta),wa=new pi("app","Firebase",ba),xa=function(){function e(t,n,r){var i=this;Ur(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ni("app",(function(){return i}),"PUBLIC"))}return Zr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw wa.create("app-deleted",{appName:this._name})}}]),e}(),Sa="9.9.0";function _a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:la,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw wa.create("bad-app-name",{appName:String(i)});var a=ha.get(i);if(a){if(gi(e,a.options)&&gi(r,a.config))return a;throw wa.create("duplicate-app",{appName:i})}var o,u=new Li(i),s=qr(da.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new xa(e,r,u);return ha.set(i,l),l}function Ia(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=ha.get(e);if(!t)throw wa.create("no-app",{appName:e});return t}function Ea(){return Array.from(ha.values())}function Ta(e){return Ca.apply(this,arguments)}function Ca(){return Ca=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ha.has(n)){e.next=6;break}return ha.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Ca.apply(this,arguments)}function Aa(e,t,n){var r,i=null!==(r=fa[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ca.warn(u.join(" "))}ma(new Ni("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Na(e,t){if(null!==e&&"function"!==typeof e)throw wa.create("invalid-log-argument");!function(e,t){var n,r=qr(Mi);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Fi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ri[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Oa(e){var t;t=e,Mi.forEach((function(e){e.setLogLevel(t)}))}var Pa="firebase-heartbeat-store",Da=null;function Ra(){return Da||(Da=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Xi(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Xi(u.result),e.oldVersion,e.newVersion,Xi(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Pa)}}).catch((function(e){throw wa.create("storage-open",{originalErrorMessage:e.message})}))),Da}function La(e){return Ma.apply(this,arguments)}function Ma(){return Ma=Ai(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ra();case 3:return r=e.sent,e.abrupt("return",r.transaction(Pa).objectStore(Pa).get(Va(t)));case 7:throw e.prev=7,e.t0=e.catch(0),wa.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ma.apply(this,arguments)}function Fa(e,t){return ja.apply(this,arguments)}function ja(){return ja=Ai(Ti().mark((function e(t,n){var r,i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ra();case 3:return i=e.sent,a=i.transaction(Pa,"readwrite"),o=a.objectStore(Pa),e.next=8,o.put(n,Va(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),wa.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),ja.apply(this,arguments)}function Va(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ua=function(){function e(t){var n=this;Ur(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Ka(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Zr(e,[{key:"triggerHeartbeat",value:function(){var e=Ai(Ti().mark((function e(){var t,n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=za(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ai(Ti().mark((function e(){var t,n,r,i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=za(),n=Za(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ti(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function za(){return(new Date).toISOString().substring(0,10)}function Za(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=qr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Wa(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Wa(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ba,qa,Ka=function(){function e(t){Ur(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Zr(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hi()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ai(Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,La(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ai(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Fa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ai(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Fa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,yn.Z)(r.heartbeats),(0,yn.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Wa(e){return ti(JSON.stringify({version:2,heartbeats:e})).length}Ba="",ma(new Ni("platform-logger",(function(e){return new oa(e)}),"PRIVATE")),ma(new Ni("heartbeat",(function(e){return new Ua(e)}),"PRIVATE")),Aa(ua,sa,Ba),Aa(ua,sa,"esm2017"),Aa("fire-js","");var Ha=function(){function e(t,n){var r=this;Ur(this,e),this._delegate=t,this.firebase=n,pa(t,new Ni("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Zr(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ta(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:la;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:la;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){pa(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){va(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ga=(qa={},(0,Te.Z)(qa,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,Te.Z)(qa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),qa),Qa=new pi("app-compat","Firebase",Ga);var $a=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=_a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(yi(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Aa,setLogLevel:Oa,onLog:Na,apps:null,SDK_VERSION:Sa,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(ma(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Qa.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ri(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!yi(n,e=e||la))throw Qa.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ha);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ri(n,e)},createSubscribe:Si,ErrorFactory:pi,deepExtend:ri}),n}(),Ya=new zi("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ya.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Xa=self.firebase.SDK_VERSION;Xa&&Xa.indexOf("LITE")>=0&&Ya.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ja=$a;!function(e){Aa("@firebase/app-compat","0.1.29",e)}();Ja.registerVersion("firebase","9.9.0","app-compat");var eo=n(3878),to=n(9199),no=n(5267);function ro(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wr(e)););return e}function io(){return io="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ro(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},io.apply(this,arguments)}function ao(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var oo;Object.create;var uo="facebook.com",so="github.com",co="google.com",lo="password",fo="twitter.com",ho="EMAIL_SIGNIN",po="PASSWORD_RESET",vo="RECOVER_EMAIL",mo="REVERT_SECOND_FACTOR_ADDITION",yo="VERIFY_AND_CHANGE_EMAIL",go="VERIFY_EMAIL";function ko(){return(0,Te.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var bo=function(){var e;return e={},(0,Te.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,Te.Z)(e,"argument-error",""),(0,Te.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,Te.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,Te.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,Te.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,Te.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,Te.Z)(e,"cors-unsupported","This browser is not supported."),(0,Te.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,Te.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,Te.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,Te.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,Te.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,Te.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,Te.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,Te.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,Te.Z)(e,"expired-action-code","The action code has expired."),(0,Te.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,Te.Z)(e,"internal-error","An internal AuthError has occurred."),(0,Te.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,Te.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,Te.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,Te.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,Te.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,Te.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,Te.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,Te.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,Te.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,Te.Z)(e,"invalid-email","The email address is badly formatted."),(0,Te.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,Te.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,Te.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,Te.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,Te.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Te.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,Te.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,Te.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,Te.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,Te.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,Te.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,Te.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,Te.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,Te.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,Te.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,Te.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,Te.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,Te.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,Te.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,Te.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,Te.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,Te.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,Te.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,Te.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,Te.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,Te.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,Te.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,Te.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,Te.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,Te.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,Te.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,Te.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,Te.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,Te.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,Te.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,Te.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,Te.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,Te.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,Te.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,Te.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,Te.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,Te.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,Te.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,Te.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,Te.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,Te.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,Te.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,Te.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,Te.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,Te.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,Te.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,Te.Z)(e,"timeout","The operation has timed out."),(0,Te.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,Te.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,Te.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,Te.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,Te.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,Te.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,Te.Z)(e,"unverified-email","The operation requires a verified email."),(0,Te.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,Te.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,Te.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,Te.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,Te.Z)(e,"user-signed-out",""),(0,Te.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,Te.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,Te.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},wo=ko,xo=new pi("auth","Firebase",ko()),So=new zi("@firebase/auth");function _o(e){if(So.logLevel<=Ri.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];So.error.apply(So,["Auth (".concat(Sa,"): ").concat(e)].concat(n))}}function Io(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ao.apply(void 0,[e].concat(n))}function Eo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ao.apply(void 0,[e].concat(n))}function To(e,t,n){var r=Object.assign(Object.assign({},wo()),(0,Te.Z)({},t,n));return new pi("auth","Firebase",r).create(t,{appName:e.name})}function Co(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Io(e,"argument-error"),To(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ao(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,yn.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,yn.Z)(o)))}return xo.create.apply(xo,[e].concat(n))}function No(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ao.apply(void 0,[t].concat(r))}}function Oo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw _o(t),new Error(t)}function Po(e,t){e||Oo(t)}var Do=new Map;function Ro(e){Po(e instanceof Function,"Expected a class definition");var t=Do.get(e);return t?(Po(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Do.set(e,t),t)}function Lo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Mo(){return"http:"===Fo()||"https:"===Fo()}function Fo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var jo=function(){function e(t,n){Ur(this,e),this.shortDelay=t,this.longDelay=n,Po(n>t,"Short delay should be less than long delay!"),this.isMobile=ui()||li()}return Zr(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Mo()||ci()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Vo(e,t){Po(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Uo=function(){function e(){Ur(this,e)}return Zr(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),zo=(oo={},(0,Te.Z)(oo,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,Te.Z)(oo,"MISSING_CUSTOM_TOKEN","internal-error"),(0,Te.Z)(oo,"INVALID_IDENTIFIER","invalid-email"),(0,Te.Z)(oo,"MISSING_CONTINUE_URI","internal-error"),(0,Te.Z)(oo,"INVALID_PASSWORD","wrong-password"),(0,Te.Z)(oo,"MISSING_PASSWORD","internal-error"),(0,Te.Z)(oo,"EMAIL_EXISTS","email-already-in-use"),(0,Te.Z)(oo,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,Te.Z)(oo,"INVALID_IDP_RESPONSE","invalid-credential"),(0,Te.Z)(oo,"INVALID_PENDING_TOKEN","invalid-credential"),(0,Te.Z)(oo,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,Te.Z)(oo,"MISSING_REQ_TYPE","internal-error"),(0,Te.Z)(oo,"EMAIL_NOT_FOUND","user-not-found"),(0,Te.Z)(oo,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,Te.Z)(oo,"EXPIRED_OOB_CODE","expired-action-code"),(0,Te.Z)(oo,"INVALID_OOB_CODE","invalid-action-code"),(0,Te.Z)(oo,"MISSING_OOB_CODE","internal-error"),(0,Te.Z)(oo,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,Te.Z)(oo,"INVALID_ID_TOKEN","invalid-user-token"),(0,Te.Z)(oo,"TOKEN_EXPIRED","user-token-expired"),(0,Te.Z)(oo,"USER_NOT_FOUND","user-token-expired"),(0,Te.Z)(oo,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,Te.Z)(oo,"INVALID_CODE","invalid-verification-code"),(0,Te.Z)(oo,"INVALID_SESSION_INFO","invalid-verification-id"),(0,Te.Z)(oo,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,Te.Z)(oo,"MISSING_SESSION_INFO","missing-verification-id"),(0,Te.Z)(oo,"SESSION_EXPIRED","code-expired"),(0,Te.Z)(oo,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,Te.Z)(oo,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,Te.Z)(oo,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,Te.Z)(oo,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,Te.Z)(oo,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,Te.Z)(oo,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,Te.Z)(oo,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,Te.Z)(oo,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,Te.Z)(oo,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,Te.Z)(oo,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,Te.Z)(oo,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),oo),Zo=new jo(3e4,6e4);function Bo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function qo(e,t,n,r){return Ko.apply(this,arguments)}function Ko(){return Ko=Ai(Ti().mark((function e(t,n,r,i){var a,o=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Wo(t,a,Ai(Ti().mark((function e(){var a,o,u,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=bi(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Uo.fetch()($o(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Wo(e,t,n){return Ho.apply(this,arguments)}function Ho(){return Ho=Ai(Ti().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},zo),n),e.prev=2,a=new Yo(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Xo(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=(0,bt.Z)(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Xo(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Xo(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Xo(t,"user-disabled",u);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw To(t,d,h);case 34:Io(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof di)){e.next=41;break}throw e.t0;case 41:Io(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Ho.apply(this,arguments)}function Go(e,t,n,r){return Qo.apply(this,arguments)}function Qo(){return Qo=Ai(Ti().mark((function e(t,n,r,i){var a,o,u=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,qo(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Io(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}function $o(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Vo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Yo=function(){function e(t){var n=this;Ur(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Eo(n.auth,"network-request-failed"))}),Zo.get())}))}return Zr(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Xo(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Eo(e,t,r);return i.customData._tokenResponse=n,i}function Jo(e,t){return eu.apply(this,arguments)}function eu(){return eu=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t){return nu.apply(this,arguments)}function nu(){return nu=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}function ru(e,t){return iu.apply(this,arguments)}function iu(){return iu=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ou(){return ou=Ai(Ti().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Ei(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,No((a=su(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:au(uu(a.auth_time)),issuedAtTime:au(uu(a.iat)),expirationTime:au(uu(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function uu(e){return 1e3*Number(e)}function su(e){var t,n=e.split("."),r=(0,bt.Z)(n,3),i=r[0],a=r[1],o=r[2];if(void 0===i||void 0===a||void 0===o)return _o("JWT malformed, contained fewer than 3 sections"),null;try{var u=ni(a);return u?JSON.parse(u):(_o("Failed to decode base64 JWT payload"),null)}catch(s){return _o("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function cu(e,t){return lu.apply(this,arguments)}function lu(){return lu=Ai(Ti().mark((function e(t,n){var r=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof di&&fu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),lu.apply(this,arguments)}function fu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var hu=function(){function e(t){Ur(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Zr(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ai(Ti().mark((function t(){return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ai(Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),du=function(){function e(t,n){Ur(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Zr(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function pu(e){return vu.apply(this,arguments)}function vu(){return vu=Ai(Ti().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,cu(t,ru(r,{idToken:i}));case 6:No(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?gu(o.providerUserInfo):[],s=yu(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new du(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),vu.apply(this,arguments)}function mu(){return(mu=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ei(t),e.next=3,pu(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,yn.Z)(n),(0,yn.Z)(t))}function gu(e){return e.map((function(e){var t=e.providerId,n=ao(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ku(e,t){return bu.apply(this,arguments)}function bu(){return bu=Ai(Ti().mark((function e(t,n){var r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wo(t,{},Ai(Ti().mark((function e(){var r,i,a,o,u,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bi({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=$o(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Uo.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),bu.apply(this,arguments)}var wu=function(){function e(){Ur(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Zr(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){No(e.idToken,"internal-error"),No("undefined"!==typeof e.idToken,"internal-error"),No("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=su(e);return No(t,"internal-error"),No("undefined"!==typeof t.exp,"internal-error"),No("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ai(Ti().mark((function e(t){var n,r=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],No(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ai(Ti().mark((function e(t,n){var r,i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ku(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Oo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(No("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(No("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(No("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function xu(e,t){No("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Su=function(){function e(t){Ur(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=ao(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,yn.Z)(a.providerData):[],this.metadata=new du(a.createdAt||void 0,a.lastLoginAt||void 0)}return Zr(e,[{key:"getIdToken",value:function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(No(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ou.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return mu.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(No(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){No(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ai(Ti().mark((function e(t){var n,r,i=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,pu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ai(Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,cu(this,Jo(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,S=n.stsTokenManager;No(k&&S,t,"internal-error");var _=wu.fromJSON(this.name,S);No("string"===typeof k,t,"internal-error"),xu(f,t.name),xu(h,t.name),No("boolean"===typeof b,t,"internal-error"),No("boolean"===typeof w,t,"internal-error"),xu(d,t.name),xu(p,t.name),xu(v,t.name),xu(m,t.name),xu(y,t.name),xu(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Ai(Ti().mark((function t(n,r){var i,a,o,u=arguments;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new wu).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,pu(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),_u=function(){function e(){Ur(this,e),this.type="NONE",this.storage={}}return Zr(e,[{key:"_isAvailable",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();_u.type="NONE";var Iu=_u;function Eu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Tu=function(){function e(t,n,r){Ur(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Eu(this.userKey,a.apiKey,o),this.fullPersistenceKey=Eu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Zr(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ai(Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Su._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ai(Ti().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ro(Iu),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ro(Iu),u=Eu(i,n.config.apiKey,n.name),s=null,c=qr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Su._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Cu(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Au(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ru(t))return"Blackberry";if(Lu(t))return"Webos";if(Nu(t))return"Safari";if((t.includes("chrome/")||Ou(t))&&!t.includes("edge/"))return"Chrome";if(Du(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Au(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi();return/firefox\//i.test(e)}function Nu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi();return/crios\//i.test(e)}function Pu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi();return/iemobile/i.test(e)}function Du(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi();return/android/i.test(e)}function Ru(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi();return/blackberry/i.test(e)}function Lu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi();return/webos/i.test(e)}function Mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Fu(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi();return Mu(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ju(){return fi()&&10===document.documentMode}function Vu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi();return Mu(e)||Du(e)||Lu(e)||Ru(e)||/windows phone/i.test(e)||Pu(e)}function Uu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Cu(oi());break;case"Worker":t="".concat(Cu(oi()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Sa,"/").concat(r)}var zu=function(){function e(t){Ur(this,e),this.auth=t,this.queue=[]}return Zr(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ai(Ti().mark((function e(t){var n,r,i,a,o,u,s,c;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=qr(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=qr(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(q){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Zu=function(){function e(t,n,r){Ur(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qu(this),this.idTokenSubscription=new qu(this),this.beforeStateQueue=new zu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xo,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Zr(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ro(t)),this._initializationPromise=this.queue(Ai(Ti().mark((function r(){var i,a;return Ti().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Tu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ai(Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ai(Ti().mark((function e(t){var n,r,i,a,o,u,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return No(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ei(t):null)&&No(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ai(Ti().mark((function e(t){var n,r=this,i=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&No(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ai(Ti().mark((function n(){return Ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ro(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new pi("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ai(Ti().mark((function e(t,n){var r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return No(n=t&&Ro(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Tu.create(this,[Ro(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ai(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ai(Ti().mark((function e(t){var n=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return No(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return No(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uu(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ai(Ti().mark((function e(){var t,n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,Te.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bu(e){return Ei(e)}var qu=function(){function e(t){var n=this;Ur(this,e),this.auth=t,this.observer=null,this.addObserver=Si((function(e){return n.observer=e}))}return Zr(e,[{key:"next",get:function(){return No(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ku(e,t,n){var r=Bu(e);No(r._canInitEmulator,r,"emulator-config-failed"),No(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Wu(t),o=function(e){var t=Wu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Hu(r.substr(a.length+1))}}var o=r.split(":"),u=(0,bt.Z)(o,2);return{host:u[0],port:Hu(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Wu(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Hu(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Gu=function(){function e(t,n){Ur(this,e),this.providerId=t,this.signInMethod=n}return Zr(e,[{key:"toJSON",value:function(){return Oo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Oo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Oo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Oo("not implemented")}}]),e}();function Qu(e,t){return $u.apply(this,arguments)}function $u(){return $u=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(t,"POST","/v1/accounts:resetPassword",Bo(t,n)));case 1:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Yu(e,t){return Xu.apply(this,arguments)}function Xu(){return Xu=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Xu.apply(this,arguments)}function Ju(e,t){return es.apply(this,arguments)}function es(){return es=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(t,"POST","/v1/accounts:update",Bo(t,n)));case 1:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return ns=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:signInWithPassword",Bo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return is=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(t,"POST","/v1/accounts:sendOobCode",Bo(t,n)));case 1:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}function as(e,t){return os.apply(this,arguments)}function os(){return os=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rs(t,n));case 1:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function us(e,t){return ss.apply(this,arguments)}function ss(){return ss=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rs(t,n));case 1:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function cs(e,t){return ls.apply(this,arguments)}function ls(){return ls=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rs(t,n));case 1:case"end":return e.stop()}}),e)}))),ls.apply(this,arguments)}function fs(e,t){return hs.apply(this,arguments)}function hs(){return hs=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rs(t,n));case 1:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}function ds(e,t){return ps.apply(this,arguments)}function ps(){return ps=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:signInWithEmailLink",Bo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(e,t){return ms.apply(this,arguments)}function ms(){return ms=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:signInWithEmailLink",Bo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}var ys=function(e){Kr(n,e);var t=$r(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ur(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Zr(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ts(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ds(t,{email:this._email,oobCode:this._password}));case 5:Io(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Yu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",vs(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Io(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Gu);function gs(e,t){return ks.apply(this,arguments)}function ks(){return ks=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:signInWithIdp",Bo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ks.apply(this,arguments)}var bs=function(e){Kr(n,e);var t=$r(n);function n(){var e;return Ur(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Zr(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return gs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,gs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,gs(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bi(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Io("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=ao(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Gu);function ws(e,t){return xs.apply(this,arguments)}function xs(){return xs=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(t,"POST","/v1/accounts:sendVerificationCode",Bo(t,n)));case 1:case"end":return e.stop()}}),e)}))),xs.apply(this,arguments)}function Ss(){return Ss=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:signInWithPhoneNumber",Bo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function _s(){return _s=Ai(Ti().mark((function e(t,n){var r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Go(t,"POST","/v1/accounts:signInWithPhoneNumber",Bo(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Xo(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}var Is=(0,Te.Z)({},"USER_NOT_FOUND","user-not-found");function Es(){return Es=Ai(Ti().mark((function e(t,n){var r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Go(t,"POST","/v1/accounts:signInWithPhoneNumber",Bo(t,r),Is));case 2:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}var Ts=function(e){Kr(n,e);var t=$r(n);function n(e){var r;return Ur(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Zr(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ss.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return _s.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Es.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Gu);var Cs=function(){function e(t){var n,r,i,a,o,u;Ur(this,e);var s=wi(xi(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);No(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Zr(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=wi(xi(e)).link,n=t?wi(xi(t)).deep_link_id:null,r=wi(xi(e)).deep_link_id;return(r?wi(xi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(VT){return null}}}]),e}();var As=function(){function e(){Ur(this,e),this.providerId=e.PROVIDER_ID}return Zr(e,null,[{key:"credential",value:function(e,t){return ys._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Cs.parseLink(t);return No(n,"argument-error"),ys._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();As.PROVIDER_ID="password",As.EMAIL_PASSWORD_SIGN_IN_METHOD="password",As.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ns=function(){function e(t){Ur(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Zr(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Os=function(e){Kr(n,e);var t=$r(n);function n(){var e;return Ur(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Zr(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,yn.Z)(this.scopes)}}]),n}(Ns),Ps=function(e){Kr(n,e);var t=$r(n);function n(){return Ur(this,n),t.apply(this,arguments)}return Zr(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return No(e.idToken||e.accessToken,"argument-error"),bs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return No("providerId"in t&&"signInMethod"in t,"argument-error"),bs._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Os),Ds=function(e){Kr(n,e);var t=$r(n);function n(){return Ur(this,n),t.call(this,"facebook.com")}return Zr(n,null,[{key:"credential",value:function(e){return bs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(VT){return null}}}]),n}(Os);Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ds.PROVIDER_ID="facebook.com";var Rs=function(e){Kr(n,e);var t=$r(n);function n(){var e;return Ur(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Zr(n,null,[{key:"credential",value:function(e,t){return bs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(VT){return null}}}]),n}(Os);Rs.GOOGLE_SIGN_IN_METHOD="google.com",Rs.PROVIDER_ID="google.com";var Ls=function(e){Kr(n,e);var t=$r(n);function n(){return Ur(this,n),t.call(this,"github.com")}return Zr(n,null,[{key:"credential",value:function(e){return bs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(VT){return null}}}]),n}(Os);Ls.GITHUB_SIGN_IN_METHOD="github.com",Ls.PROVIDER_ID="github.com";var Ms=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Zr(n,[{key:"_getIdTokenResponse",value:function(e){return gs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,gs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,gs(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Gu),Fs=function(e){Kr(n,e);var t=$r(n);function n(e){return Ur(this,n),No(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Zr(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ms.fromJSON(e);return No(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ms._create(r,n)}catch(i){return null}}}]),n}(Ns),js=function(e){Kr(n,e);var t=$r(n);function n(){return Ur(this,n),t.call(this,"twitter.com")}return Zr(n,null,[{key:"credential",value:function(e,t){return bs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(VT){return null}}}]),n}(Os);function Vs(e,t){return Us.apply(this,arguments)}function Us(){return Us=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:signUp",Bo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Us.apply(this,arguments)}js.TWITTER_SIGN_IN_METHOD="twitter.com",js.PROVIDER_ID="twitter.com";var zs=function(){function e(t){Ur(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Zr(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ai(Ti().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Su._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Zs(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ai(Ti().mark((function t(n,r,i){var a;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Zs(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Zs(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Bs(){return Bs=Ai(Ti().mark((function e(t){var n,r,i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bu(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new zs({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Vs(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,zs._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}var qs=function(e){Kr(n,e);var t=$r(n);function n(e,r,i,a){var o,u;return Ur(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(kn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Zr(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(di);function Ks(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw qs._fromErrorAndOperation(e,n,t,r);throw n}))}function Ws(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Hs(e,t){return Gs.apply(this,arguments)}function Gs(){return Gs=Ai(Ti().mark((function e(t,n){var r,i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ei(t),e.next=3,Ys(!0,r,n);case 3:return e.t0=tu,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ws(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}function Qs(e,t){return $s.apply(this,arguments)}function $s(){return $s=Ai(Ti().mark((function e(t,n){var r,i,a=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=cu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",zs._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),$s.apply(this,arguments)}function Ys(e,t,n){return Xs.apply(this,arguments)}function Xs(){return Xs=Ai(Ti().mark((function e(t,n,r){var i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pu(n);case 2:i=Ws(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",No(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Xs.apply(this,arguments)}function Js(e,t){return ec.apply(this,arguments)}function ec(){return ec=Ai(Ti().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,cu(t,Ks(a,o,n,t),r);case 6:return No((u=e.sent).idToken,a,"internal-error"),No(s=su(u.idToken),a,"internal-error"),c=s.sub,No(t.uid===c,a,"user-mismatch"),e.abrupt("return",zs._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&Io(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ec.apply(this,arguments)}function tc(e,t){return nc.apply(this,arguments)}function nc(){return nc=Ai(Ti().mark((function e(t,n){var r,i,a,o,u=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Ks(t,i,n);case 4:return a=e.sent,e.next=7,zs._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),nc.apply(this,arguments)}function rc(e,t){return ic.apply(this,arguments)}function ic(){return ic=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tc(Bu(t),n));case 1:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function ac(e,t){return oc.apply(this,arguments)}function oc(){return(oc=Ai(Ti().mark((function e(t,n){var r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ei(t),e.next=3,Ys(!1,r,n.providerId);case 3:return e.abrupt("return",Qs(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uc(e,t){return sc.apply(this,arguments)}function sc(){return(sc=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Js(Ei(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return lc=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Go(t,"POST","/v1/accounts:signInWithCustomToken",Bo(t,n)));case 1:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function fc(){return fc=Ai(Ti().mark((function e(t,n){var r,i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bu(t),e.next=3,cc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,zs._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),fc.apply(this,arguments)}var hc=function(){function e(t,n){Ur(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Zr(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?dc._fromServerResponse(e,t):Io(e,"internal-error")}}]),e}(),dc=function(e){Kr(n,e);var t=$r(n);function n(e){var r;return Ur(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Zr(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(hc);function pc(e,t,n){var r;No((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),No("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(No(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(No(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function vc(){return vc=Ai(Ti().mark((function e(t,n,r){var i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ei(t),a={requestType:"PASSWORD_RESET",email:n},r&&pc(i,a,r),e.next=5,us(i,a);case 5:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(){return mc=Ai(Ti().mark((function e(t,n,r){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qu(Ei(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function yc(){return yc=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ju(Ei(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function gc(e,t){return kc.apply(this,arguments)}function kc(){return kc=Ai(Ti().mark((function e(t,n){var r,i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ei(t),e.next=3,Qu(r,{oobCode:n});case 3:i=e.sent,No(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return No(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:No(i.mfaInfo,r,"internal-error");case 13:No(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=hc._fromServerResponse(Bu(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function bc(){return bc=Ai(Ti().mark((function e(t,n){var r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gc(Ei(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(e,t,n){return xc.apply(this,arguments)}function xc(){return xc=Ai(Ti().mark((function e(t,n,r){var i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bu(t),e.next=3,Vs(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,zs._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function Sc(){return Sc=Ai(Ti().mark((function e(t,n,r){var i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ei(t),a={requestType:"EMAIL_SIGNIN",email:n},No(r.handleCodeInApp,i,"argument-error"),r&&pc(i,a,r),e.next=6,cs(i,a);case 6:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function _c(){return _c=Ai(Ti().mark((function e(t,n,r){var i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ei(t),No((a=As.credentialWithLink(n,r||Lo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",rc(i,a));case 4:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function Ic(e,t){return Ec.apply(this,arguments)}function Ec(){return Ec=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(t,"POST","/v1/accounts:createAuthUri",Bo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}function Tc(){return Tc=Ai(Ti().mark((function e(t,n){var r,i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mo()?Lo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Ic(Ei(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Cc(){return(Cc=Ai(Ti().mark((function e(t,n){var r,i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ei(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&pc(r.auth,a,n),e.next=8,as(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ac(){return(Ac=Ai(Ti().mark((function e(t,n,r){var i,a,o,u;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ei(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&pc(i.auth,o,r),e.next=8,fs(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nc(e,t){return Oc.apply(this,arguments)}function Oc(){return Oc=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Oc.apply(this,arguments)}function Pc(){return(Pc=Ai(Ti().mark((function e(t,n){var r,i,a,o,u,s,c;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ei(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,cu(a,Nc(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dc(e,t,n){return Rc.apply(this,arguments)}function Rc(){return Rc=Ai(Ti().mark((function e(t,n,r){var i,a,o,u;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,cu(t,Yu(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}var Lc=Zr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ur(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Mc=function(e){Kr(n,e);var t=$r(n);function n(e,r,i,a){var o;return Ur(this,n),(o=t.call(this,e,r,i)).username=a,o}return Zr(n)}(Lc),Fc=function(e){Kr(n,e);var t=$r(n);function n(e,r){return Ur(this,n),t.call(this,e,"facebook.com",r)}return Zr(n)}(Lc),jc=function(e){Kr(n,e);var t=$r(n);function n(e,r){return Ur(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Zr(n)}(Mc),Vc=function(e){Kr(n,e);var t=$r(n);function n(e,r){return Ur(this,n),t.call(this,e,"google.com",r)}return Zr(n)}(Lc),Uc=function(e){Kr(n,e);var t=$r(n);function n(e,r,i){return Ur(this,n),t.call(this,e,"twitter.com",r,i)}return Zr(n)}(Mc);function zc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=su(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Lc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Fc(a,i);case"github.com":return new jc(a,i);case"google.com":return new Vc(a,i);case"twitter.com":return new Uc(a,i,e.screenName||null);case"custom":case"anonymous":return new Lc(a,null);default:return new Lc(a,r,i)}}(n)}var Zc=function(){function e(t,n){Ur(this,e),this.type=t,this.credential=n}return Zr(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,Te.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Bc=function(){function e(t,n,r){Ur(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Zr(e,[{key:"resolveSignIn",value:function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Bu(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return hc._fromServerResponse(r,e)}));No(i.mfaPendingCredential,r,"internal-error");var o=Zc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ai(Ti().mark((function e(t){var a,u,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,zs._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return No(n.user,r,"internal-error"),e.abrupt("return",zs._forOperation(n.user,n.operationType,u));case 17:Io(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function qc(e,t){return qo(e,"POST","/v2/accounts/mfaEnrollment:start",Bo(e,t))}function Kc(e,t){return qo(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Bo(e,t))}var Wc=function(){function e(t){var n=this;Ur(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return hc._fromServerResponse(t.auth,e)})))}))}return Zr(e,[{key:"getSession",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Zc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ai(Ti().mark((function e(t,n){var r,i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,cu(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ai(Ti().mark((function e(t){var n,r,i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,cu(this.user,Kc(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Hc=new WeakMap;var Gc="__sak",Qc=function(){function e(t,n){Ur(this,e),this.storageRetriever=t,this.type=n}return Zr(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch(VT){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var $c=function(e){Kr(n,e);var t=$r(n);function n(){var e;return Ur(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=oi();return Nu(e)||Mu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Vu(),e._shouldAllowMigration=!0,e}return Zr(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ju()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ai(Ti().mark((function e(t,r){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io(Wr(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ai(Ti().mark((function e(t){var r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io(Wr(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io(Wr(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Qc);$c.type="LOCAL";var Yc=$c,Xc=function(e){Kr(n,e);var t=$r(n);function n(){return Ur(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Zr(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Qc);Xc.type="SESSION";var Jc=Xc;function el(e){return Promise.all(e.map(function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var tl=function(){function e(t){Ur(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Zr(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ai(Ti().mark((function e(t){var n,r,i,a,o,u,s,c;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,el(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function nl(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}tl.receivers=[];var rl=function(){function e(t){Ur(this,e),this.target=t,this.handlers=new Set}return Zr(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ai(Ti().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=nl("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function il(){return window}function al(){return"undefined"!==typeof il().WorkerGlobalScope&&"function"===typeof il().importScripts}function ol(){return ul.apply(this,arguments)}function ul(){return(ul=Ai(Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function sl(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var cl="firebaseLocalStorageDb",ll="firebaseLocalStorage",fl="fbase_key",hl=function(){function e(t){Ur(this,e),this.request=t}return Zr(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function dl(e,t){return e.transaction([ll],t?"readwrite":"readonly").objectStore(ll)}function pl(){var e=indexedDB.deleteDatabase(cl);return new hl(e).toPromise()}function vl(){var e=indexedDB.open(cl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ll,{keyPath:fl})}catch(r){n(r)}})),e.addEventListener("success",Ai(Ti().mark((function n(){var r;return Ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ll)){n.next=12;break}return r.close(),n.next=5,pl();case 5:return n.t0=t,n.next=8,vl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ml(e,t,n){return yl.apply(this,arguments)}function yl(){return yl=Ai(Ti().mark((function e(t,n,r){var i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=dl(t,!0).put((i={},(0,Te.Z)(i,fl,n),(0,Te.Z)(i,"value",r),i)),e.abrupt("return",new hl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}function gl(e,t){return kl.apply(this,arguments)}function kl(){return kl=Ai(Ti().mark((function e(t,n){var r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dl(t,!1).get(n),e.next=3,new hl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),kl.apply(this,arguments)}function bl(e,t){var n=dl(e,!0).delete(t);return new hl(n).toPromise()}var wl=function(){function e(){Ur(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Zr(e,[{key:"_openDb",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,vl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ai(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",al()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ai(Ti().mark((function e(){var t=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=tl._getInstance(al()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ai(Ti().mark((function e(n,r){var i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ai(Ti().mark((function e(){var t,n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ol();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new rl(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&sl()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ai(Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,vl();case 5:return t=e.sent,e.next=8,ml(t,Gc,"1");case 8:return e.next=10,bl(t,Gc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ai(Ti().mark((function e(t,n){var r=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ml(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return gl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ai(Ti().mark((function e(t){var n=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return bl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ai(Ti().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=dl(e,!1).getAll();return new hl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=qr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ai(Ti().mark((function t(){return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();wl.type="LOCAL";var xl=wl;function Sl(e,t){return qo(e,"POST","/v2/accounts/mfaSignIn:start",Bo(e,t))}function _l(e){return Il.apply(this,arguments)}function Il(){return Il=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qo(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}function El(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Eo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Tl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Cl=1e12,Al=function(){function e(t){Ur(this,e),this.auth=t,this.counter=Cl,this._widgets=new Map}return Zr(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Nl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Cl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Cl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ai(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Cl,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Nl=function(){function e(t,n,r){var i=this;Ur(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;No(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Zr(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Ol=Tl("rcb"),Pl=new jo(3e4,6e4),Dl="https://www.google.com/recaptcha/api.js?",Rl=function(){function e(){var t;Ur(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=il().grecaptcha)||void 0===t?void 0:t.render)}return Zr(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return No(Ll(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(il().grecaptcha):new Promise((function(r,i){var a=il().setTimeout((function(){i(Eo(e,"network-request-failed"))}),Pl.get());il()[Ol]=function(){il().clearTimeout(a),delete il()[Ol];var o=il().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Eo(e,"internal-error"))},El("".concat(Dl,"?").concat(bi({onload:Ol,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Eo(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=il().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ll(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ml=function(){function e(){Ur(this,e)}return Zr(e,[{key:"load",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Al(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Fl="recaptcha",jl={theme:"light",type:"image"},Vl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},jl),r=arguments.length>2?arguments[2]:void 0;Ur(this,e),this.parameters=n,this.type=Fl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Bu(r),this.isInvisible="invisible"===this.parameters.size,No("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;No(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ml:new Rl,this.validateStartingState()}return Zr(e,[{key:"verify",value:function(){var e=Ai(Ti().mark((function e(){var t,n,r,i=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){No(!this.parameters.sitekey,this.auth,"argument-error"),No(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),No("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=il()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){No(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ai(Ti().mark((function e(){var t,n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ai(Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return No(Mo()&&!al(),this.auth,"internal-error"),e.next=3,Ul();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,_l(this.auth);case 8:No(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return No(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ul(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var zl=function(){function e(t,n){Ur(this,e),this.verificationId=t,this.onConfirmation=n}return Zr(e,[{key:"confirm",value:function(e){var t=Ts._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Zl(){return Zl=Ai(Ti().mark((function e(t,n,r){var i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bu(t),e.next=3,Wl(i,n,Ei(r));case 3:return a=e.sent,e.abrupt("return",new zl(a,(function(e){return rc(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}function Bl(e,t,n){return ql.apply(this,arguments)}function ql(){return(ql=Ai(Ti().mark((function e(t,n,r){var i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ei(t),e.next=3,Ys(!1,i,"phone");case 3:return e.next=5,Wl(i.auth,n,Ei(r));case 5:return a=e.sent,e.abrupt("return",new zl(a,(function(e){return ac(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kl(){return(Kl=Ai(Ti().mark((function e(t,n,r){var i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ei(t),e.next=3,Wl(i.auth,n,Ei(r));case 3:return a=e.sent,e.abrupt("return",new zl(a,(function(e){return uc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wl(e,t,n){return Hl.apply(this,arguments)}function Hl(){return Hl=Ai(Ti().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,No("string"===typeof a,t,"argument-error"),No(r.type===Fl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return No("enroll"===u.type,t,"internal-error"),e.next=13,qc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return No("signin"===u.type,t,"internal-error"),No(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Sl(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ws(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Hl.apply(this,arguments)}function Gl(){return(Gl=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qs(Ei(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ql=function(){function e(t){Ur(this,e),this.providerId=e.PROVIDER_ID,this.auth=Bu(t)}return Zr(e,[{key:"verifyPhoneNumber",value:function(e,t){return Wl(this.auth,e,Ei(t))}}],[{key:"credential",value:function(e,t){return Ts._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Ts._fromTokenResponse(n,r):null}}]),e}();function $l(e,t){return t?Ro(t):(No(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ql.PROVIDER_ID="phone",Ql.PHONE_SIGN_IN_METHOD="phone";var Yl=function(e){Kr(n,e);var t=$r(n);function n(e){var r;return Ur(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Zr(n,[{key:"_getIdTokenResponse",value:function(e){return gs(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return gs(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return gs(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Gu);function Xl(e){return tc(e.auth,new Yl(e),e.bypassAuthState)}function Jl(e){var t=e.auth,n=e.user;return No(n,t,"internal-error"),Js(n,new Yl(e),e.bypassAuthState)}function ef(e){return tf.apply(this,arguments)}function tf(){return tf=Ai(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,No(r=t.user,n,"internal-error"),e.abrupt("return",Qs(r,new Yl(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}var nf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ur(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Zr(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ai(Ti().mark((function t(n,r){return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ai(Ti().mark((function e(t){var n,r,i,a,o,u,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xl;case"linkViaPopup":case"linkViaRedirect":return ef;case"reauthViaPopup":case"reauthViaRedirect":return Jl;default:Io(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Po(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),rf=new jo(2e3,1e4);function af(e,t,n){return of.apply(this,arguments)}function of(){return of=Ai(Ti().mark((function e(t,n,r){var i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bu(t),Co(t,n,Ns),a=$l(i,r),o=new lf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}function uf(){return uf=Ai(Ti().mark((function e(t,n,r){var i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Co((i=Ei(t)).auth,n,Ns),a=$l(i.auth,r),o=new lf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),uf.apply(this,arguments)}function sf(e,t,n){return cf.apply(this,arguments)}function cf(){return cf=Ai(Ti().mark((function e(t,n,r){var i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Co((i=Ei(t)).auth,n,Ns),a=$l(i.auth,r),o=new lf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}var lf=function(e){Kr(n,e);var t=$r(n);function n(e,r,i,a,o){var u;return Ur(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=kn(u),u}return Zr(n,[{key:"executeNotNull",value:function(){var e=Ai(Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return No(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ai(Ti().mark((function e(){var t,n=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Po(1===this.filter.length,"Popup operations only handle one event"),t=nl(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Eo(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Eo(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Eo(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,rf.get())}()}}]),n}(nf);lf.currentPopupAction=null;var ff=new Map,hf=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ur(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Zr(n,[{key:"execute",value:function(){var e=Ai(Ti().mark((function e(){var t,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ff.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,df(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,io(Wr(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ff.set(this.auth._key(),t);case 21:return this.bypassAuthState||ff.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ai(Ti().mark((function e(t){var r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",io(Wr(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",io(Wr(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(nf);function df(e,t){return pf.apply(this,arguments)}function pf(){return pf=Ai(Ti().mark((function e(t,n){var r,i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kf(n),i=gf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),pf.apply(this,arguments)}function vf(e,t){return mf.apply(this,arguments)}function mf(){return mf=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gf(t)._set(kf(n),"true"));case 1:case"end":return e.stop()}}),e)}))),mf.apply(this,arguments)}function yf(e,t){ff.set(e._key(),t)}function gf(e){return Ro(e._redirectPersistence)}function kf(e){return Eu("pendingRedirect",e.config.apiKey,e.name)}function bf(e,t,n){return function(e,t,n){return wf.apply(this,arguments)}(e,t,n)}function wf(){return wf=Ai(Ti().mark((function e(t,n,r){var i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Bu(t),Co(t,n,Ns),a=$l(i,r),e.next=5,vf(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),wf.apply(this,arguments)}function xf(e,t,n){return function(e,t,n){return Sf.apply(this,arguments)}(e,t,n)}function Sf(){return Sf=Ai(Ti().mark((function e(t,n,r){var i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Co((i=Ei(t)).auth,n,Ns),a=$l(i.auth,r),e.next=5,vf(a,i.auth);case 5:return e.next=7,Nf(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),Sf.apply(this,arguments)}function _f(e,t,n){return function(e,t,n){return If.apply(this,arguments)}(e,t,n)}function If(){return If=Ai(Ti().mark((function e(t,n,r){var i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Co((i=Ei(t)).auth,n,Ns),a=$l(i.auth,r),e.next=5,Ys(!1,i,n.providerId);case 5:return e.next=7,vf(a,i.auth);case 7:return e.next=9,Nf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}function Ef(e,t){return Tf.apply(this,arguments)}function Tf(){return Tf=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bu(t)._initializationPromise;case 2:return e.abrupt("return",Cf(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Tf.apply(this,arguments)}function Cf(e,t){return Af.apply(this,arguments)}function Af(){return Af=Ai(Ti().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Bu(t),a=$l(i,n),o=new hf(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Af.apply(this,arguments)}function Nf(e){return Of.apply(this,arguments)}function Of(){return(Of=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nl("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pf=function(){function e(t){Ur(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Zr(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Rf(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Eo(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Df(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Df(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Df(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Rf(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Lf(e){return Mf.apply(this,arguments)}function Mf(){return Mf=Ai(Ti().mark((function e(t){var n,r=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",qo(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Mf.apply(this,arguments)}var Ff=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jf=/^https?/;function Vf(){return Vf=Ai(Ti().mark((function e(t){var n,r,i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Lf(t);case 4:n=e.sent,r=n.authorizedDomains,i=qr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Uf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Io(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Vf.apply(this,arguments)}function Uf(e){var t=Lo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!jf.test(r))return!1;if(Ff.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var zf=new jo(3e4,6e4);function Zf(){var e=il().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,yn.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Bf=null;function qf(e){return Bf=Bf||function(e){return new Promise((function(t,n){var r,i,a;function o(){Zf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Zf(),n(Eo(e,"network-request-failed"))},timeout:zf.get()})}if(null===(i=null===(r=il().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=il().gapi)||void 0===a?void 0:a.load)){var u=Tl("iframefcb");return il()[u]=function(){gapi.load?o():n(Eo(e,"network-request-failed"))},El("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Bf=null,e}))}(e),Bf}var Kf=new jo(5e3,15e3),Wf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gf(e){var t=e.config;No(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Vo(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Sa},i=Hf.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(bi(r).slice(1))}function Qf(e){return $f.apply(this,arguments)}function $f(){return $f=Ai(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qf(t);case 2:return n=e.sent,No(r=il().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Gf(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wf,dontclear:!0},(function(e){return new Promise(function(){var n=Ai(Ti().mark((function n(r,i){var a,o,u;return Ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){il().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Eo(t,"network-request-failed"),o=il().setTimeout((function(){i(a)}),Kf.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}var Yf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xf="_blank",Jf="http://localhost",eh=function(){function e(t){Ur(this,e),this.window=t,this.associatedEvent=null}return Zr(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function th(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Yf),{width:r.toString(),height:i.toString(),top:a,left:o}),c=oi().toLowerCase();n&&(u=Ou(c)?Xf:n),Au(c)&&(t=t||Jf,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=(0,bt.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Fu(c)&&"_self"!==u)return nh(t||"",u),new eh(null);var f=window.open(t||"",u,l);No(f,e,"popup-blocked");try{f.focus()}catch(h){}return new eh(f)}function nh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var rh="__/auth/handler",ih="emulator/auth/handler";function ah(e,t,n,r,i,a){No(e.config.authDomain,e,"auth-domain-config-required"),No(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Sa,eventId:i};if(t instanceof Ns){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=(0,bt.Z)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Os){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(rh);return Vo(t,ih)}(e),"?").concat(bi(d).slice(1))}var oh="webStorageSupport",uh=function(){function e(){Ur(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jc,this._completeRedirectFn=Cf,this._overrideRedirectResult=yf}return Zr(e,[{key:"_openPopup",value:function(){var e=Ai(Ti().mark((function e(t,n,r,i){var a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Po(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ah(t,n,r,Lo(),i),e.abrupt("return",th(t,o,nl()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ai(Ti().mark((function e(t,n,r,i){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ah(t,n,r,Lo(),i),il().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Po(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ai(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qf(t);case 2:return n=e.sent,r=new Pf(t),n.register("authEvent",(function(e){return No(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(oh,{type:oh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Io(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Vf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Vu()||Nu()||Mu()}}]),e}(),sh=uh,ch=function(){function e(t){Ur(this,e),this.factorId=t}return Zr(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Oo("unexpected MultiFactorSessionType")}}}]),e}(),lh=function(e){Kr(n,e);var t=$r(n);function n(e){var r;return Ur(this,n),(r=t.call(this,"phone")).credential=e,r}return Zr(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return qo(e,"POST","/v2/accounts/mfaEnrollment:finalize",Bo(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return qo(e,"POST","/v2/accounts/mfaSignIn:finalize",Bo(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ch),fh=function(){function e(){Ur(this,e)}return Zr(e,null,[{key:"assertion",value:function(e){return lh._fromCredential(e)}}]),e}();fh.FACTOR_ID="phone";var hh,dh="@firebase/auth",ph="0.20.5",vh=function(){function e(t){Ur(this,e),this.auth=t,this.internalListeners=new Map}return Zr(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){No(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function mh(){return window}hh="Browser",ma(new Ni("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){No(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),No(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:hh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uu(hh)},i=new Zu(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ro);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ma(new Ni("auth-internal",(function(e){return function(e){return new vh(e)}(Bu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Aa(dh,ph,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(hh)),Aa(dh,ph,"esm2017");function yh(e,t,n){return gh.apply(this,arguments)}function gh(){return gh=Ai(Ti().mark((function e(t,n,r){var i,a,o,u,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=mh(),o=a.BuildInfo,Po(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,_h(n.sessionId);case 4:return u=e.sent,s={},Mu()?s.ibi=o.packageName:Du()?s.apn=o.packageName:Io(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",ah(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),gh.apply(this,arguments)}function kh(){return kh=Ai(Ti().mark((function e(t){var n,r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mh(),r=n.BuildInfo,i={},Mu()?i.iosBundleId=r.packageName:Du()?i.androidPackageName=r.packageName:Io(t,"operation-not-supported-in-this-environment"),e.next=5,Lf(t,i);case 5:case"end":return e.stop()}}),e)}))),kh.apply(this,arguments)}function bh(e){var t=mh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function wh(e,t,n){return xh.apply(this,arguments)}function xh(){return xh=Ai(Ti().mark((function e(t,n,r){var i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Eo(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Du()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),xh.apply(this,arguments)}function Sh(e){var t,n,r,i,a,o,u,s,c,l,f=mh();No("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),No("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),No("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),No("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),No("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function _h(e){return Ih.apply(this,arguments)}function Ih(){return(Ih=Ai(Ti().mark((function e(t){var n,r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Eh(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eh(e){if(Po(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Th=function(e){Kr(n,e);var t=$r(n);function n(){var e;return Ur(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Zr(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),io(Wr(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Pf);function Ch(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Dh(),postBody:null,tenantId:e.tenantId,error:Eo(e,"no-auth-event")}}function Ah(e,t){return Rh()._set(Lh(e),t)}function Nh(e){return Oh.apply(this,arguments)}function Oh(){return Oh=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rh()._get(Lh(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Rh()._remove(Lh(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Oh.apply(this,arguments)}function Ph(e,t){var n,r,i=function(e){var t=Mh(e),n=t.link?decodeURIComponent(t.link):void 0,r=Mh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Mh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Mh(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Eo(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Dh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Rh(){return Ro(Yc)}function Lh(e){return Eu("authEvent",e.config.apiKey,e.name)}function Mh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,eo.Z)(t)||(0,to.Z)(t)||(0,Br.Z)(t)||(0,no.Z)());r[0];return wi(r.slice(1).join("?"))}var Fh=function(){function e(){Ur(this,e),this._redirectPersistence=Jc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Cf,this._overrideRedirectResult=yf}return Zr(e,[{key:"_initialize",value:function(){var e=Ai(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Th(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Io(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ai(Ti().mark((function e(t,n,r,i){var a,o,u,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sh(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ff.clear(),e.next=10,this._originValidation(t);case 10:return o=Ch(t,r,i),e.next=13,Ah(t,o);case 13:return e.next=15,yh(t,o,n);case 15:return u=e.sent,e.next=18,bh(u);case 18:return s=e.sent,e.abrupt("return",wh(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return kh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=mh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ai(Ti().mark((function n(){return Ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Nh(e);case 2:t.onEvent(Vh());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ai(Ti().mark((function n(r){var i,a;return Ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Nh(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Ph(i,r.url)),t.onEvent(a||Vh());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");mh().handleOpenURL=function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),jh=Fh;function Vh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Eo("no-auth-event")}}function Uh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function zh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi();return!("file:"!==Uh()&&"ionic:"!==Uh()&&"capacitor:"!==Uh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zh(){return fi()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Bh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi();return/Edge\/\d+/.test(e)}function qh(){try{var e=self.localStorage,t=nl();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oi();return Zh()||Bh(e)}()||hi()}catch(n){return Kh()&&hi()}return!1}function Kh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Wh(){return("http:"===Uh()||"https:"===Uh()||ci()||zh())&&!(li()||si())&&qh()&&!Kh()}function Hh(){return zh()&&"undefined"!==typeof document}function Gh(){return Qh.apply(this,arguments)}function Qh(){return(Qh=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Hh()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $h={LOCAL:"local",NONE:"none",SESSION:"session"},Yh=No,Xh="persistence";function Jh(e,t){Yh(Object.values($h).includes(t),e,"invalid-persistence-type"),li()?Yh(t!==$h.SESSION,e,"unsupported-persistence-type"):si()?Yh(t===$h.NONE,e,"unsupported-persistence-type"):Kh()?Yh(t===$h.NONE||t===$h.LOCAL&&hi(),e,"unsupported-persistence-type"):Yh(t===$h.NONE||qh(),e,"unsupported-persistence-type")}function ed(e){return td.apply(this,arguments)}function td(){return td=Ai(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=nd(),r=Eu(Xh,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var rd=No,id=function(){function e(){Ur(this,e),this.browserResolver=Ro(sh),this.cordovaResolver=Ro(jh),this.underlyingResolver=null,this._redirectPersistence=Jc,this._completeRedirectFn=Cf,this._overrideRedirectResult=yf}return Zr(e,[{key:"_initialize",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ai(Ti().mark((function e(t,n,r,i){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ai(Ti().mark((function e(t,n,r,i){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Hh()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return rd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ai(Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Gh();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ad(e){return e.unwrap()}function od(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new fd(e,function(e,t){var n,r=Ei(e),i=t;return No(t.customData.operationType,r,"argument-error"),No(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Bc._fromError(r,i)}(e,t));else if(i){var a=ud(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function ud(e){var t=(e instanceof di?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof di)&&"temporaryProof"in t&&"phoneNumber"in t)return Ql.credentialFromResult(e);var n,r=t.providerId;if(!r||r===lo)return null;switch(r){case co:n=Rs;break;case uo:n=Ds;break;case so:n=Ls;break;case fo:n=js;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Ms._create(r,u):bs._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Ps(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof di?n.credentialFromError(e):n.credentialFromResult(e)}function sd(e,t){return t.catch((function(t){throw t instanceof di&&od(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,ud(t)),additionalUserInfo:zc(e),user:hd.getOrCreate(r)}}))}function cd(e,t){return ld.apply(this,arguments)}function ld(){return ld=Ai(Ti().mark((function e(t,n){var r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return sd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),ld.apply(this,arguments)}var fd=function(){function e(t,n){Ur(this,e),this.resolver=n,this.auth=t.wrapped()}return Zr(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return sd(ad(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),hd=function(){function e(t){Ur(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ei(e);return Hc.has(t)||Hc.set(t,Wc._fromUser(t)),Hc.get(t)}(t)}return Zr(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sd(this.auth,ac(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cd(this.auth,Bl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sd(this.auth,sf(this._delegate,t,id)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ed(Bu(this.auth));case 2:return e.abrupt("return",_f(this._delegate,t,id));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sd(this.auth,uc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return cd(this.auth,function(e,t,n){return Kl.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return sd(this.auth,function(e,t,n){return uf.apply(this,arguments)}(this._delegate,e,id))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ed(Bu(this.auth));case 2:return e.abrupt("return",xf(this._delegate,t,id));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Cc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hs(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Dc(Ei(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Dc(Ei(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Gl.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Pc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Ac.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();hd.USER_MAP=new WeakMap;var dd=No,pd=function(){function e(t,n){if(Ur(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;dd(r,"invalid-api-key",{appName:t.name}),dd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?id:void 0;this._delegate=n.initialize({options:{persistence:md(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(bo),this.linkUnderlyingAuth()}return Zr(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?hd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Ku(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return yc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return gc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return mc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sd(this._delegate,wc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Tc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Cs.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ai(Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dd(Wh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Ef(this._delegate,id);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",sd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Bu(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=vd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=vd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Sc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return vc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ai(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Jh(this._delegate,t),e.t0=t,e.next=e.t0===$h.SESSION?4:e.t0===$h.LOCAL?6:e.t0===$h.NONE?11:13;break;case 4:return n=Jc,e.abrupt("break",14);case 6:return e.next=8,Ro(xl)._isAvailable();case 8:return r=e.sent,n=r?xl:Yc,e.abrupt("break",14);case 11:return n=Iu,e.abrupt("break",14);case 13:return e.abrupt("return",Io("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return sd(this._delegate,function(e){return Bs.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return sd(this._delegate,rc(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return sd(this._delegate,function(e,t){return fc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return sd(this._delegate,function(e,t,n){return rc(Ei(e),As.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return sd(this._delegate,function(e,t,n){return _c.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return cd(this._delegate,function(e,t,n){return Zl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dd(Wh(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",sd(this._delegate,af(this._delegate,t,id)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dd(Wh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ed(this._delegate);case 3:return e.abrupt("return",bf(this._delegate,t,id));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return bc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function vd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&hd.getOrCreate(e))},error:t,complete:n}}function md(e,t){var n=function(e,t){var n=nd();if(!n)return[];var r=Eu(Xh,e,t);switch(n.getItem(r)){case $h.NONE:return[Iu];case $h.LOCAL:return[xl,Jc];case $h.SESSION:return[Jc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(xl)||n.push(xl),"undefined"!==typeof window)for(var r=0,i=[Yc,Jc];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Iu)||n.push(Iu),n}pd.Persistence=$h;var yd=function(){function e(){Ur(this,e),this.providerId="phone",this._delegate=new Ql(ad(Ja.auth()))}return Zr(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Ql.credential(e,t)}}]),e}();yd.PHONE_SIGN_IN_METHOD=Ql.PHONE_SIGN_IN_METHOD,yd.PROVIDER_ID=Ql.PROVIDER_ID;var gd,kd=No,bd=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ja.app();Ur(this,e),kd(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Vl(t,n,i.auth()),this.type=this._delegate.type}return Zr(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(gd=Ja).INTERNAL.registerComponent(new Ni("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new pd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ho,PASSWORD_RESET:po,RECOVER_EMAIL:vo,REVERT_SECOND_FACTOR_ADDITION:mo,VERIFY_AND_CHANGE_EMAIL:yo,VERIFY_EMAIL:go}},EmailAuthProvider:As,FacebookAuthProvider:Ds,GithubAuthProvider:Ls,GoogleAuthProvider:Rs,OAuthProvider:Ps,SAMLAuthProvider:Fs,PhoneAuthProvider:yd,PhoneMultiFactorGenerator:fh,RecaptchaVerifier:bd,TwitterAuthProvider:js,Auth:pd,AuthCredential:Gu,Error:di}).setInstantiationMode("LAZY").setMultipleInstances(!1)),gd.registerVersion("@firebase/auth-compat","0.2.18");var wd,xd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Sd={},_d=_d||{},Id=xd||self;function Ed(){}function Td(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Cd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ad="closure_uid_"+(1e9*Math.random()>>>0),Nd=0;function Od(e,t,n){return e.call.apply(e.bind,arguments)}function Pd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Dd(e,t,n){return(Dd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Od:Pd).apply(null,arguments)}function Rd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ld(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Md(){this.s=this.s,this.o=this.o}var Fd={};Md.prototype.s=!1,Md.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ad)&&e[Ad]||(e[Ad]=++Nd)}(this);delete Fd[e]}},Md.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var jd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Vd=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ud(e){return Array.prototype.concat.apply([],arguments)}function zd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zd(e){return/^[\s\xa0]*$/.test(e)}var Bd,qd=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Kd(e,t){return-1!=e.indexOf(t)}function Wd(e,t){return e<t?-1:e>t?1:0}e:{var Hd=Id.navigator;if(Hd){var Gd=Hd.userAgent;if(Gd){Bd=Gd;break e}}Bd=""}function Qd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function $d(e){var t={};for(var n in e)t[n]=e[n];return t}var Yd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Yd.length;a++)n=Yd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Jd(e){return Jd[" "](e),e}Jd[" "]=Ed;var ep,tp=Kd(Bd,"Opera"),np=Kd(Bd,"Trident")||Kd(Bd,"MSIE"),rp=Kd(Bd,"Edge"),ip=rp||np,ap=Kd(Bd,"Gecko")&&!(Kd(Bd.toLowerCase(),"webkit")&&!Kd(Bd,"Edge"))&&!(Kd(Bd,"Trident")||Kd(Bd,"MSIE"))&&!Kd(Bd,"Edge"),op=Kd(Bd.toLowerCase(),"webkit")&&!Kd(Bd,"Edge");function up(){var e=Id.document;return e?e.documentMode:void 0}e:{var sp="",cp=function(){var e=Bd;return ap?/rv:([^\);]+)(\)|;)/.exec(e):rp?/Edge\/([\d\.]+)/.exec(e):np?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):op?/WebKit\/(\S+)/.exec(e):tp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(cp&&(sp=cp?cp[1]:""),np){var lp=up();if(null!=lp&&lp>parseFloat(sp)){ep=String(lp);break e}}ep=sp}var fp,hp={};function dp(){return function(e){var t=hp;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=qd(String(ep)).split("."),n=qd("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Wd(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Wd(0==a[2].length,0==o[2].length)||Wd(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Id.document&&np){var pp=up();fp=pp||(parseInt(ep,10)||void 0)}else fp=void 0;var vp=fp,mp=function(){if(!Id.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Id.addEventListener("test",Ed,t),Id.removeEventListener("test",Ed,t)}catch(R){}return e}();function yp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function gp(e,t){if(yp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ap){e:{try{Jd(t.nodeName);var i=!0;break e}catch(D){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:kp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&gp.Z.h.call(this)}}yp.prototype.h=function(){this.defaultPrevented=!0},Ld(gp,yp);var kp={2:"touch",3:"pen",4:"mouse"};gp.prototype.h=function(){gp.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var bp="closure_listenable_"+(1e6*Math.random()|0),wp=0;function xp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++wp,this.ca=this.fa=!1}function Sp(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function _p(e){this.src=e,this.g={},this.h=0}function Ip(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=jd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Sp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ep(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}_p.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ep(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new xp(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Tp="closure_lm_"+(1e6*Math.random()|0),Cp={};function Ap(e,t,n,r,i){if(r&&r.once)return Op(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ap(e,t[a],n,r,i);return null}return n=jp(n),e&&e[bp]?e.N(t,n,Cd(r)?!!r.capture:!!r,i):Np(e,t,n,!1,r,i)}function Np(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Cd(i)?!!i.capture:!!i,u=Mp(e);if(u||(e[Tp]=u=new _p(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Lp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)mp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Rp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Op(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Op(e,t[a],n,r,i);return null}return n=jp(n),e&&e[bp]?e.O(t,n,Cd(r)?!!r.capture:!!r,i):Np(e,t,n,!0,r,i)}function Pp(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Pp(e,t[a],n,r,i);else r=Cd(r)?!!r.capture:!!r,n=jp(n),e&&e[bp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ep(a=e.g[t],n,r,i))&&(Sp(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Mp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ep(t,n,r,i)),(n=-1<e?t[e]:null)&&Dp(n))}function Dp(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[bp])Ip(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Rp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Mp(t))?(Ip(n,e),0==n.h&&(n.src=null,t[Tp]=null)):Sp(e)}}}function Rp(e){return e in Cp?Cp[e]:Cp[e]="on"+e}function Lp(e,t){if(e.ca)e=!0;else{t=new gp(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Dp(e),e=n.call(r,t)}return e}function Mp(e){return(e=e[Tp])instanceof _p?e:null}var Fp="__closure_events_fn_"+(1e9*Math.random()>>>0);function jp(e){return"function"===typeof e?e:(e[Fp]||(e[Fp]=function(t){return e.handleEvent(t)}),e[Fp])}function Vp(){Md.call(this),this.i=new _p(this),this.P=this,this.I=null}function Up(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new yp(t,e);else if(t instanceof yp)t.target=t.target||e;else{var i=t;Xd(t=new yp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=zp(o,r,!0,t)&&i}if(i=zp(o=t.g=e,r,!0,t)&&i,i=zp(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=zp(o=t.g=n[a],r,!1,t)&&i}function zp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Ip(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ld(Vp,Md),Vp.prototype[bp]=!0,Vp.prototype.removeEventListener=function(e,t,n,r){Pp(this,e,t,n,r)},Vp.prototype.M=function(){if(Vp.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sp(n[r]);delete t.g[e],t.h--}}this.I=null},Vp.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Vp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Zp=Id.JSON.stringify;function Bp(){var e=Yp,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qp,Kp=function(){function e(){Ur(this,e),this.h=this.g=null}return Zr(e,[{key:"add",value:function(e,t){var n=Wp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Wp=new(function(){function e(t,n){Ur(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Zr(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Hp}),(function(e){return e.reset()})),Hp=function(){function e(){Ur(this,e),this.next=this.g=this.h=null}return Zr(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Gp(e){Id.setTimeout((function(){throw e}),0)}function Qp(e,t){qp||function(){var e=Id.Promise.resolve(void 0);qp=function(){e.then(Xp)}}(),$p||(qp(),$p=!0),Yp.add(e,t)}var $p=!1,Yp=new Kp;function Xp(){for(var e;e=Bp();){try{e.h.call(e.g)}catch(R){Gp(R)}var t=Wp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}$p=!1}function Jp(e,t){Vp.call(this),this.h=e||1,this.g=t||Id,this.j=Dd(this.kb,this),this.l=Date.now()}function ev(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function tv(e,t,n){if("function"===typeof e)n&&(e=Dd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Dd(e.handleEvent,e)}return 2147483647<Number(t)?-1:Id.setTimeout(e,t||0)}function nv(e){e.g=tv((function(){e.g=null,e.i&&(e.i=!1,nv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ld(Jp,Vp),(wd=Jp.prototype).da=!1,wd.S=null,wd.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Up(this,"tick"),this.da&&(ev(this),this.start()))}},wd.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wd.M=function(){Jp.Z.M.call(this),ev(this),delete this.g};var rv=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Zr(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:nv(this)}},{key:"M",value:function(){io(Wr(n.prototype),"M",this).call(this),this.g&&(Id.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Md);function iv(e){Md.call(this),this.h=e,this.g={}}Ld(iv,Md);var av=[];function ov(e,t,n,r){Array.isArray(n)||(n&&(av[0]=n.toString()),n=av);for(var i=0;i<n.length;i++){var a=Ap(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function uv(e){Qd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Dp(e)}),e),e.g={}}function sv(){this.g=!0}function cv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Zp(n)}catch(E){return t}}(e,n)+(r?" "+r:"")}))}iv.prototype.M=function(){iv.Z.M.call(this),uv(this)},iv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sv.prototype.Aa=function(){this.g=!1},sv.prototype.info=function(){};var lv={},fv=null;function hv(){return fv=fv||new Vp}function dv(e){yp.call(this,lv.Ma,e)}function pv(e){var t=hv();Up(t,new dv(t,e))}function vv(e,t){yp.call(this,lv.STAT_EVENT,e),this.stat=t}function mv(e){var t=hv();Up(t,new vv(t,e))}function yv(e,t){yp.call(this,lv.Na,e),this.size=t}function gv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Id.setTimeout((function(){e()}),t)}lv.Ma="serverreachability",Ld(dv,yp),lv.STAT_EVENT="statevent",Ld(vv,yp),lv.Na="timingevent",Ld(yv,yp);var kv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},bv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function wv(){}function xv(e){return e.h||(e.h=e.i())}function Sv(){}wv.prototype.h=null;var _v,Iv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ev(){yp.call(this,"d")}function Tv(){yp.call(this,"c")}function Cv(){}function Av(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new iv(this),this.P=Ov,e=ip?125:void 0,this.W=new Jp(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Nv}function Nv(){this.i=null,this.g="",this.h=!1}Ld(Ev,yp),Ld(Tv,yp),Ld(Cv,wv),Cv.prototype.g=function(){return new XMLHttpRequest},Cv.prototype.i=function(){return{}},_v=new Cv;var Ov=45e3,Pv={},Dv={};function Rv(e,t,n){e.K=1,e.v=rm(Yv(t)),e.s=n,e.U=!0,Lv(e,null)}function Lv(e,t){e.F=Date.now(),Vv(e),e.A=Yv(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),mm(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Nv,e.g=yy(e.l,n?t:null,!e.s),0<e.O&&(e.L=new rv(Dd(e.Ia,e,e.g),e.O)),ov(e.V,e.g,"readystatechange",e.gb),t=e.H?$d(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),pv(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Mv(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Fv(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=jv(e,n))==Dv){4==t&&(e.o=4,mv(14),i=!1),cv(e.j,e.m,null,"[Incomplete Response]");break}if(r==Pv){e.o=4,mv(15),cv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}cv(e.j,e.m,r,null),qv(e,r)}Mv(e)&&r!=Dv&&r!=Pv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,mv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),cy(t),t.L=!0,mv(11))):(cv(e.j,e.m,n,"[Invalid Chunked Response]"),Bv(e),Zv(e))}function jv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Dv:(n=Number(t.substring(n,r)),isNaN(n)?Pv:(r+=1)+n>t.length?Dv:(t=t.substr(r,n),e.C=r+n,t))}function Vv(e){e.Y=Date.now()+e.P,Uv(e,e.P)}function Uv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=gv(Dd(e.eb,e),t)}function zv(e){e.B&&(Id.clearTimeout(e.B),e.B=null)}function Zv(e){0==e.l.G||e.I||hy(e.l,e)}function Bv(e){zv(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ev(e.W),uv(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function qv(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Sm(n.i,e)))if(n.I=e.N,!e.J&&Sm(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;fy(n),ey(n)}sy(n),mv(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=gv(Dd(n.ab,n),6e3));if(1>=xm(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else py(n,11)}else if((e.J||n.g==e)&&fy(n),!Zd(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Kd(l,"spdy")||Kd(l,"quic")||Kd(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(_m(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,nm(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=my(r,r.H?r.la:null,r.W),d.J){Im(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(zv(p),Vv(p)),r.g=d}else uy(r);0<n.l.length&&ry(n)}else"stop"!=a[0]&&"close"!=a[0]||py(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?py(n,7):Jm(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}pv(4)}catch(a){}}function Kv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Td(e)||"string"===typeof e)Vd(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Td(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Td(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Wv(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Wv)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Hv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Gv(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Gv(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Gv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(wd=Av.prototype).setTimeout=function(e){this.P=e},wd.gb=function(e){e=e.target;var t=this.L;t&&3==Gm(e)?t.l():this.Ia(e)},wd.Ia=function(e){try{if(e==this.g)e:{var t=Gm(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ip||this.g&&(this.h.h||this.g.ga()||Qm(this.g)))){this.I||4!=t||7==n||pv(8==n||0>=r?3:2),zv(this);var i=this.g.ba();this.N=i;t:if(Mv(this)){var a=Qm(this.g);e="";var o=a.length,u=4==Gm(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Bv(this),Zv(this);var s="";break t}this.h.i=new Id.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zd(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,mv(12),Bv(this),Zv(this);break e}cv(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qv(this,i)}this.U?(Fv(this,t,s),ip&&this.i&&3==t&&(ov(this.V,this.W,"tick",this.fb),this.W.start())):(cv(this.j,this.m,s,null),qv(this,s)),4==t&&Bv(this),this.i&&!this.I&&(4==t?hy(this.l,this):(this.i=!1,Vv(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,mv(12)):(this.o=0,mv(13)),Bv(this),Zv(this)}}}catch(t){}},wd.fb=function(){if(this.g){var e=Gm(this.g),t=this.g.ga();this.C<t.length&&(zv(this),Fv(this,e,t),this.i&&4!=e&&Vv(this))}},wd.cancel=function(){this.I=!0,Bv(this)},wd.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(pv(3),mv(17)),Bv(this),this.o=2,Zv(this)):Uv(this,this.Y-e)},(wd=Wv.prototype).R=function(){Hv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},wd.T=function(){return Hv(this),this.g.concat()},wd.get=function(e,t){return Gv(this.h,e)?this.h[e]:t},wd.set=function(e,t){Gv(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},wd.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Qv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $v(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof $v){this.g=void 0!==t?t:e.g,Xv(this,e.j),this.s=e.s,Jv(this,e.i),em(this,e.m),this.l=e.l,t=e.h;var n=new hm;n.i=t.i,t.g&&(n.g=new Wv(t.g),n.h=t.h),tm(this,n),this.o=e.o}else e&&(n=String(e).match(Qv))?(this.g=!!t,Xv(this,n[1]||"",!0),this.s=im(n[2]||""),Jv(this,n[3]||"",!0),em(this,n[4]),this.l=im(n[5]||"",!0),tm(this,n[6]||"",!0),this.o=im(n[7]||"")):(this.g=!!t,this.h=new hm(null,this.g))}function Yv(e){return new $v(e)}function Xv(e,t,n){e.j=n?im(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Jv(e,t,n){e.i=n?im(t,!0):t}function em(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function tm(e,t,n){t instanceof hm?(e.h=t,function(e,t){t&&!e.j&&(dm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(pm(this,t),mm(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=am(t,lm)),e.h=new hm(t,e.g))}function nm(e,t,n){e.h.set(t,n)}function rm(e){return nm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function im(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function am(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,om),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function om(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}$v.prototype.toString=function(){var e=[],t=this.j;t&&e.push(am(t,um,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(am(t,um,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(am(n,"/"==n.charAt(0)?cm:sm,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",am(n,fm)),e.join("")};var um=/[#\/\?@]/g,sm=/[#\?:]/g,cm=/[#\?]/g,lm=/[#\?@]/g,fm=/#/g;function hm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function dm(e){e.g||(e.g=new Wv,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function pm(e,t){dm(e),t=ym(e,t),Gv(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Gv((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Hv(e)))}function vm(e,t){return dm(e),t=ym(e,t),Gv(e.g.h,t)}function mm(e,t,n){pm(e,t),0<n.length&&(e.i=null,e.g.set(ym(e,t),zd(n)),e.h+=n.length)}function ym(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(wd=hm.prototype).add=function(e,t){dm(this),this.i=null,e=ym(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},wd.forEach=function(e,t){dm(this),this.g.forEach((function(n,r){Vd(n,(function(n){e.call(t,n,r,this)}),this)}),this)},wd.T=function(){dm(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},wd.R=function(e){dm(this);var t=[];if("string"===typeof e)vm(this,e)&&(t=Ud(t,this.g.get(ym(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ud(t,e[n])}return t},wd.set=function(e,t){return dm(this),this.i=null,vm(this,e=ym(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},wd.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},wd.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var gm=Zr((function e(t,n){Ur(this,e),this.h=t,this.g=n}));function km(e){this.l=e||bm,Id.PerformanceNavigationTiming?e=0<(e=Id.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Id.g&&Id.g.Ea&&Id.g.Ea()&&Id.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bm=10;function wm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function xm(e){return e.h?1:e.g?e.g.size:0}function Sm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function _m(e,t){e.g?e.g.add(t):e.h=t}function Im(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Em(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=qr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return zd(e.i)}function Tm(){}function Cm(){this.g=new Tm}function Am(e,t,n){var r=n||"";try{Kv(e,(function(e,n){var i=e;Cd(e)&&(i=Zp(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(D){}}function Om(e){this.l=e.$b||null,this.j=e.ib||!1}function Pm(e,t){Vp.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Dm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}km.prototype.cancel=function(){if(this.i=Em(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=qr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Tm.prototype.stringify=function(e){return Id.JSON.stringify(e,void 0)},Tm.prototype.parse=function(e){return Id.JSON.parse(e,void 0)},Ld(Om,wv),Om.prototype.g=function(){return new Pm(this.l,this.j)},Om.prototype.i=function(e){return function(){return e}}({}),Ld(Pm,Vp);var Dm=0;function Rm(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Lm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Mm(e)}function Mm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(wd=Pm.prototype).open=function(e,t){if(this.readyState!=Dm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Mm(this)},wd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Id).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},wd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lm(this)),this.readyState=Dm},wd.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Mm(this)),this.g&&(this.readyState=3,Mm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Id.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Rm(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},wd.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Lm(this):Mm(this),3==this.readyState&&Rm(this)}},wd.Ua=function(e){this.g&&(this.response=this.responseText=e,Lm(this))},wd.Ta=function(e){this.g&&(this.response=e,Lm(this))},wd.ha=function(){this.g&&Lm(this)},wd.setRequestHeader=function(e,t){this.v.append(e,t)},wd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},wd.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fm=Id.JSON.parse;function jm(e){Vp.call(this),this.headers=new Wv,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Vm,this.K=this.L=!1}Ld(jm,Vp);var Vm="",Um=/^https?$/i,zm=["POST","PUT"];function Zm(e){return"content-type"==e.toLowerCase()}function Bm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,qm(e),Wm(e)}function qm(e){e.D||(e.D=!0,Up(e,"complete"),Up(e,"error"))}function Km(e){if(e.h&&"undefined"!=typeof _d&&(!e.C[1]||4!=Gm(e)||2!=e.ba()))if(e.v&&4==Gm(e))tv(e.Fa,0,e);else if(Up(e,"readystatechange"),4==Gm(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Qv)[1]||null;if(!a&&Id.self&&Id.self.location){var o=Id.self.location.protocol;a=o.substr(0,o.length-1)}i=!Um.test(a?a.toLowerCase():"")}t=i}if(t)Up(e,"complete"),Up(e,"success");else{e.m=6;try{var u=2<Gm(e)?e.g.statusText:""}catch(O){u=""}e.j=u+" ["+e.ba()+"]",qm(e)}}finally{Wm(e)}}}function Wm(e,t){if(e.g){Hm(e);var n=e.g,r=e.C[0]?Ed:null;e.g=null,e.C=null,t||Up(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Hm(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Id.clearTimeout(e.A),e.A=null)}function Gm(e){return e.g?e.g.readyState:0}function Qm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Vm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Z){return null}}function $m(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Qd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):nm(e,t,n))}function Ym(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Xm(e){this.za=0,this.l=[],this.h=new sv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ym("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ym("baseRetryDelayMs",5e3,e),this.$a=Ym("retryDelaySeedMs",1e4,e),this.Ya=Ym("forwardChannelMaxRetries",2,e),this.ra=Ym("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new km(e&&e.concurrentRequestLimit),this.Ca=new Cm,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Jm(e){if(ty(e),3==e.G){var t=e.V++,n=Yv(e.F);nm(n,"SID",e.J),nm(n,"RID",t),nm(n,"TYPE","terminate"),ay(e,n),(t=new Av(e,e.h,t,void 0)).K=2,t.v=rm(Yv(n)),n=!1,Id.navigator&&Id.navigator.sendBeacon&&(n=Id.navigator.sendBeacon(t.v.toString(),"")),!n&&Id.Image&&((new Image).src=t.v,n=!0),n||(t.g=yy(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Vv(t)}vy(e)}function ey(e){e.g&&(cy(e),e.g.cancel(),e.g=null)}function ty(e){ey(e),e.u&&(Id.clearTimeout(e.u),e.u=null),fy(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Id.clearTimeout(e.m),e.m=null)}function ny(e,t){e.l.push(new gm(e.Za++,t)),3==e.G&&ry(e)}function ry(e){wm(e.i)||e.m||(e.m=!0,Qp(e.Ha,e),e.C=0)}function iy(e,t){var n;n=t?t.m:e.V++;var r=Yv(e.F);nm(r,"SID",e.J),nm(r,"RID",n),nm(r,"AID",e.U),ay(e,r),e.o&&e.s&&$m(r,e.o,e.s),n=new Av(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=oy(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),_m(e.i,n),Rv(n,r,t)}function ay(e,t){e.j&&Kv({},(function(e,n){nm(t,n,e)}))}function oy(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Dd(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Am(l,o,"req"+c+"_")}catch(se){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function uy(e){e.g||e.u||(e.Y=1,Qp(e.Ga,e),e.A=0)}function sy(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=gv(Dd(e.Ga,e),dy(e,e.A)),e.A++,!0)}function cy(e){null!=e.B&&(Id.clearTimeout(e.B),e.B=null)}function ly(e){e.g=new Av(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Yv(e.oa);nm(t,"RID","rpc"),nm(t,"SID",e.J),nm(t,"CI",e.N?"0":"1"),nm(t,"AID",e.U),ay(e,t),nm(t,"TYPE","xmlhttp"),e.o&&e.s&&$m(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=rm(Yv(t)),n.s=null,n.U=!0,Lv(n,e)}function fy(e){null!=e.v&&(Id.clearTimeout(e.v),e.v=null)}function hy(e,t){var n=null;if(e.g==t){fy(e),cy(e),e.g=null;var r=2}else{if(!Sm(e.i,t))return;n=t.D,Im(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Up(r=hv(),new yv(r,n,t,i)),ry(e)}else uy(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(xm(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=gv(Dd(e.Ha,e,t),dy(e,e.C)),e.C++,!0))}(e,t)||2==r&&sy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:py(e,5);break;case 4:py(e,10);break;case 3:py(e,6);break;default:py(e,2)}}function dy(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function py(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Dd(e.jb,e);n||(n=new $v("//www.google.com/images/cleardot.gif"),Id.location&&"http"==Id.location.protocol||Xv(n,"https"),rm(n)),function(e,t){var n=new sv;if(Id.Image){var r=new Image;r.onload=Rd(Nm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Rd(Nm,n,r,"TestLoadImage: error",!1,t),r.onabort=Rd(Nm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Rd(Nm,n,r,"TestLoadImage: timeout",!1,t),Id.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else mv(2);e.G=0,e.j&&e.j.va(t),vy(e),ty(e)}function vy(e){e.G=0,e.I=-1,e.j&&(0==Em(e.i).length&&0==e.l.length||(e.i.i.length=0,zd(e.l),e.l.length=0),e.j.ua())}function my(e,t,n){var r=function(e){return e instanceof $v?Yv(e):new $v(e,void 0)}(n);if(""!=r.i)t&&Jv(r,t+"."+r.i),em(r,r.m);else{var i=Id.location;r=function(e,t,n,r){var i=new $v(null,void 0);return e&&Xv(i,e),t&&Jv(i,t),n&&em(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Qd(e.aa,(function(e,t){nm(r,t,e)})),t=e.D,n=e.sa,t&&n&&nm(r,t,n),nm(r,"VER",e.ma),ay(e,r),r}function yy(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new jm(new Om({ib:!0})):new jm(e.qa)).L=e.H,t}function gy(){}function ky(){if(np&&!(10<=Number(vp)))throw Error("Environmental error: no available transport.")}function by(e,t){Vp.call(this),this.g=new Xm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Zd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zd(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Sy(this)}function wy(e){Ev.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function xy(){Tv.call(this),this.status=1}function Sy(e){this.g=e}(wd=jm.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_v.g(),this.C=this.u?xv(this.u):xv(_v),this.g.onreadystatechange=Dd(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(D){return void Bm(this,D)}e=n||"";var i=new Wv(this.headers);r&&Kv(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Zm,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Id.FormData&&e instanceof Id.FormData,!(0<=jd(zm,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Hm(this),0<this.B&&((this.K=function(e){return np&&dp()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dd(this.pa,this)):this.A=tv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(D){Bm(this,D)}},wd.pa=function(){"undefined"!=typeof _d&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Up(this,"timeout"),this.abort(8))},wd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Up(this,"complete"),Up(this,"abort"),Wm(this))},wd.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wm(this,!0)),jm.Z.M.call(this)},wd.Fa=function(){this.s||(this.F||this.v||this.l?Km(this):this.cb())},wd.cb=function(){Km(this)},wd.ba=function(){try{return 2<Gm(this)?this.g.status:-1}catch(P){return-1}},wd.ga=function(){try{return this.g?this.g.responseText:""}catch(P){return""}},wd.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fm(t)}},wd.Da=function(){return this.m},wd.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(wd=Xm.prototype).ma=8,wd.G=1,wd.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(Z){}},wd.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Av(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Xd(n=$d(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=oy(this,t,r),nm(i=Yv(this.F),"RID",e),nm(i,"CVER",22),this.D&&nm(i,"X-HTTP-Session-Id",this.D),ay(this,i),this.o&&n&&$m(i,this.o,n),_m(this.i,t),this.Ra&&nm(i,"TYPE","init"),this.ja?(nm(i,"$req",r),nm(i,"SID","null"),t.$=!0,Rv(t,i,null)):Rv(t,i,r),this.G=2}}else 3==this.G&&(e?iy(this,e):0==this.l.length||wm(this.i)||iy(this))},wd.Ga=function(){if(this.u=null,ly(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=gv(Dd(this.bb,this),e)}},wd.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mv(10),ey(this),ly(this))},wd.ab=function(){null!=this.v&&(this.v=null,ey(this),sy(this),mv(19))},wd.jb=function(e){e?(this.h.info("Successfully pinged google.com"),mv(2)):(this.h.info("Failed to ping google.com"),mv(1))},(wd=gy.prototype).xa=function(){},wd.wa=function(){},wd.va=function(){},wd.ua=function(){},wd.Oa=function(){},ky.prototype.g=function(e,t){return new by(e,t)},Ld(by,Vp),by.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Qp(Dd(e.hb,e,t))),mv(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=my(e,null,e.W),ry(e)},by.prototype.close=function(){Jm(this.g)},by.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ny(this.g,t)}else this.v?((t={}).__data__=Zp(e),ny(this.g,t)):ny(this.g,e)},by.prototype.M=function(){this.g.j=null,delete this.j,Jm(this.g),delete this.g,by.Z.M.call(this)},Ld(wy,Ev),Ld(xy,Tv),Ld(Sy,gy),Sy.prototype.xa=function(){Up(this.g,"a")},Sy.prototype.wa=function(e){Up(this.g,new wy(e))},Sy.prototype.va=function(e){Up(this.g,new xy(e))},Sy.prototype.ua=function(){Up(this.g,"b")},ky.prototype.createWebChannel=ky.prototype.g,by.prototype.send=by.prototype.u,by.prototype.open=by.prototype.m,by.prototype.close=by.prototype.close,kv.NO_ERROR=0,kv.TIMEOUT=8,kv.HTTP_ERROR=6,bv.COMPLETE="complete",Sv.EventType=Iv,Iv.OPEN="a",Iv.CLOSE="b",Iv.ERROR="c",Iv.MESSAGE="d",Vp.prototype.listen=Vp.prototype.N,jm.prototype.listenOnce=jm.prototype.O,jm.prototype.getLastError=jm.prototype.La,jm.prototype.getLastErrorCode=jm.prototype.Da,jm.prototype.getStatus=jm.prototype.ba,jm.prototype.getResponseJson=jm.prototype.Qa,jm.prototype.getResponseText=jm.prototype.ga,jm.prototype.send=jm.prototype.ea;var _y=Sd.createWebChannelTransport=function(){return new ky},Iy=Sd.getStatEventTarget=function(){return hv()},Ey=Sd.ErrorCode=kv,Ty=Sd.EventType=bv,Cy=Sd.Event=lv,Ay=Sd.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ny=Sd.FetchXmlHttpFactory=Om,Oy=Sd.WebChannel=Sv,Py=Sd.XhrIo=jm,Dy="@firebase/firestore",Ry=function(){function e(t){Ur(this,e),this.uid=t}return Zr(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ry.UNAUTHENTICATED=new Ry(null),Ry.GOOGLE_CREDENTIALS=new Ry("google-credentials-uid"),Ry.FIRST_PARTY=new Ry("first-party-uid"),Ry.MOCK_USER=new Ry("mock-user");var Ly="9.9.0",My=new zi("@firebase/firestore");function Fy(){return My.logLevel}function jy(e){if(My.logLevel<=Ri.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zy);My.debug.apply(My,["Firestore (".concat(Ly,"): ").concat(e)].concat((0,yn.Z)(i)))}}function Vy(e){if(My.logLevel<=Ri.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zy);My.error.apply(My,["Firestore (".concat(Ly,"): ").concat(e)].concat((0,yn.Z)(i)))}}function Uy(e){if(My.logLevel<=Ri.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(zy);My.warn.apply(My,["Firestore (".concat(Ly,"): ").concat(e)].concat((0,yn.Z)(i)))}}function zy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Zy(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Ly,") INTERNAL ASSERTION FAILED: ")+e;throw Vy(t),new Error(t)}function By(e,t){e||Zy()}function qy(e,t){return e}var Ky={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wy=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Zr(n)}(di),Hy=Zr((function e(){var t=this;Ur(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Gy=Zr((function e(t,n){Ur(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Qy=function(){function e(){Ur(this,e)}return Zr(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ry.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),$y=function(){function e(t){Ur(this,e),this.token=t,this.changeListener=null}return Zr(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Yy=function(){function e(t){Ur(this,e),this.t=t,this.currentUser=Ry.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Zr(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Hy;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Hy,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){jy("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(jy("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hy)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(jy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(By("string"==typeof n.accessToken),new Gy(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return By(null===e||"string"==typeof e),new Ry(e)}}]),e}(),Xy=Zr((function e(t,n,r){Ur(this,e),this.type="FirstParty",this.user=Ry.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Jy=function(){function e(t,n,r){Ur(this,e),this.h=t,this.l=n,this.m=r}return Zr(e,[{key:"getToken",value:function(){return Promise.resolve(new Xy(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ry.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),eg=Zr((function e(t){Ur(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),tg=function(){function e(t){Ur(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Zr(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&jy("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,jy("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){jy("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):jy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(By("string"==typeof t.token),e.p=t.token,new eg(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function ng(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var rg=function(){function e(){Ur(this,e)}return Zr(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=ng(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function ig(e,t){return e<t?-1:e>t?1:0}function ag(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function og(e){return e+"\0"}var ug=function(){function e(t,n){if(Ur(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Wy(Ky.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Wy(Ky.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Wy(Ky.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Wy(Ky.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Zr(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?ig(this.nanoseconds,e.nanoseconds):ig(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),sg=function(){function e(t){Ur(this,e),this.timestamp=t}return Zr(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ug(0,0))}},{key:"max",value:function(){return new e(new ug(253402300799,999999999))}}]),e}(),cg=function(){function e(t,n,r){Ur(this,e),void 0===n?n=0:n>t.length&&Zy(),void 0===r?r=t.length-n:r>t.length-n&&Zy(),this.segments=t,this.offset=n,this.len=r}return Zr(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),lg=function(e){Kr(n,e);var t=$r(n);function n(){return Ur(this,n),t.apply(this,arguments)}return Zr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Wy(Ky.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,yn.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(cg),fg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hg=function(e){Kr(n,e);var t=$r(n);function n(){return Ur(this,n),t.apply(this,arguments)}return Zr(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return fg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Wy(Ky.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Wy(Ky.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Wy(Ky.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Wy(Ky.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(cg),dg=function(){function e(t){Ur(this,e),this.path=t}return Zr(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===lg.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(lg.fromString(t))}},{key:"fromName",value:function(t){return new e(lg.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(lg.emptyPath())}},{key:"comparator",value:function(e,t){return lg.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new lg(t.slice()))}}]),e}(),pg=Zr((function e(t,n,r,i){Ur(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function vg(e){return e.fields.find((function(e){return 2===e.kind}))}function mg(e){return e.fields.filter((function(e){return 2!==e.kind}))}pg.UNKNOWN_ID=-1;var yg=Zr((function e(t,n){Ur(this,e),this.fieldPath=t,this.kind=n})),gg=function(){function e(t,n){Ur(this,e),this.sequenceNumber=t,this.offset=n}return Zr(e,null,[{key:"empty",value:function(){return new e(0,wg.min())}}]),e}();function kg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=sg.fromTimestamp(1e9===r?new ug(n+1,0):new ug(n,r));return new wg(i,dg.empty(),t)}function bg(e){return new wg(e.readTime,e.key,-1)}var wg=function(){function e(t,n,r){Ur(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Zr(e,null,[{key:"min",value:function(){return new e(sg.min(),dg.empty(),-1)}},{key:"max",value:function(){return new e(sg.max(),dg.empty(),-1)}}]),e}();function xg(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=dg.comparator(e.documentKey,t.documentKey))?n:ig(e.largestBatchId,t.largestBatchId)}var Sg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_g=function(){function e(){Ur(this,e),this.onCommittedListeners=[]}return Zr(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Ig(e){return Eg.apply(this,arguments)}function Eg(){return Eg=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ky.FAILED_PRECONDITION&&t.message===Sg){e.next=2;break}throw t;case 2:jy("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}var Tg=function(){function e(t){var n=this;Ur(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Zr(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Zy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=qr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Cg=function(){function e(t,n){var r=this;Ur(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new Hy,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new Og(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=Mg(e.target.error);r.T.reject(new Og(t,n))}}return Zr(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(jy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Dg(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Og(n,t)}}}]),e}(),Ag=function(){function e(t,n,r){Ur(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(oi())&&Vy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Zr(e,[{key:"k",value:function(){var e=Ai(Ti().mark((function e(t){var n=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return jy("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Og(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Wy(Ky.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Wy(Ky.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Og(t,n))},i.onupgradeneeded=function(e){jy("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){jy("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ai(Ti().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Ti().mark((function e(){var n,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=Cg.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),Tg.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,jy("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return jy("SimpleDb","Removing database:",e),Rg(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!hi())return!1;if(e.S())return!0;var t=oi(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/email-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Ng=function(){function e(t){Ur(this,e),this.$=t,this.B=!1,this.L=null}return Zr(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return Rg(this.$.delete())}}]),e}(),Og=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this,Ky.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Zr(n)}(Wy);function Pg(e){return"IndexedDbTransactionError"===e.name}var Dg=function(){function e(t){Ur(this,e),this.store=t}return Zr(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(jy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(jy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Rg(n)}},{key:"add",value:function(e){return jy("SimpleDb","ADD",this.store.name,e,e),Rg(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Rg(this.store.get(e)).next((function(n){return void 0===n&&(n=null),jy("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return jy("SimpleDb","DELETE",this.store.name,e),Rg(this.store.delete(e))}},{key:"count",value:function(){return jy("SimpleDb","COUNT",this.store.name),Rg(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Tg((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Tg((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){jy("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new Tg((function(n,r){t.onerror=function(e){var t=Mg(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Tg((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Ng(i),o=t(i.primaryKey,i.value,a);if(o instanceof Tg){var u=o.catch((function(e){return a.done(),Tg.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Tg.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Rg(e){return new Tg((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Mg(e.target.error);n(t)}}))}var Lg=!1;function Mg(e){var t=Ag.v(oi());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Wy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Lg||(Lg=!0,setTimeout((function(){throw r}),0)),r}}return e}var Fg=function(){function e(t,n){Ur(this,e),this.asyncQueue=t,this.X=n,this.task=null}return Zr(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;jy("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=jy,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Pg(e.t4)){e.next=17;break}jy("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Ig(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),jg=function(){function e(t,n){Ur(this,e),this.localStore=t,this.persistence=n}return Zr(e,[{key:"tt",value:function(){var e=Ai(Ti().mark((function e(){var t,n=this,r=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Tg.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return jy("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return jy("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=bg(t);xg(r,n)>0&&(n=r)})),new wg(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Vg=function(){function e(t,n){var r=this;Ur(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return Zr(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Ug(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zg(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zg(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Vg.ot=-1;var Bg=function(){function e(t,n){Ur(this,e),this.comparator=t,this.root=n||Kg.EMPTY}return Zr(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Kg.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kg.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new qg(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new qg(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new qg(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new qg(this.root,e,this.comparator,!0)}}]),e}(),qg=function(){function e(t,n,r,i){Ur(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Zr(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Kg=function(){function e(t,n,r,i,a){Ur(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Zr(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Zy();if(this.right.isRed())throw Zy();var e=this.left.check();if(e!==this.right.check())throw Zy();return e+(this.isRed()?0:1)}}]),e}();Kg.EMPTY=null,Kg.RED=!0,Kg.BLACK=!1,Kg.EMPTY=new(function(){function e(){Ur(this,e),this.size=0}return Zr(e,[{key:"key",get:function(){throw Zy()}},{key:"value",get:function(){throw Zy()}},{key:"color",get:function(){throw Zy()}},{key:"left",get:function(){throw Zy()}},{key:"right",get:function(){throw Zy()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Kg(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Wg=function(){function e(t){Ur(this,e),this.comparator=t,this.data=new Bg(this.comparator)}return Zr(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Hg(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Hg(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Hg=function(){function e(t){Ur(this,e),this.iter=t}return Zr(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Gg(e){return e.hasNext()?e.getNext():void 0}var Qg=function(){function e(t){Ur(this,e),this.fields=t,t.sort(hg.comparator)}return Zr(e,[{key:"unionWith",value:function(t){var n,r=new Wg(hg.comparator),i=qr(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=qr(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=qr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ag(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var $g=function(e){function t(e){Ur(this,t),this.binaryString=e}return Zr(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return ig(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();$g.EMPTY_BYTE_STRING=new $g("");var Yg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xg(e){if(By(!!e),"string"==typeof e){var t=0,n=Yg.exec(e);if(By(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Jg(e.seconds),nanos:Jg(e.nanos)}}function Jg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ek(e){return"string"==typeof e?$g.fromBase64String(e):$g.fromUint8Array(e)}function tk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nk(e){var t=e.mapValue.fields.__previous_value__;return tk(t)?nk(t):t}function rk(e){var t=Xg(e.mapValue.fields.__local_write_time__.timestampValue);return new ug(t.seconds,t.nanos)}var ik=Zr((function e(t,n,r,i,a,o,u,s){Ur(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),ak=function(){function e(t,n){Ur(this,e),this.projectId=t,this.database=n||"(default)"}return Zr(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function ok(e){return null==e}function uk(e){return 0===e&&1/e==-1/0}function sk(e){return"number"==typeof e&&Number.isInteger(e)&&!uk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ck={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lk={nullValue:"NULL_VALUE"};function fk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tk(e)?4:Ik(e)?9007199254740991:10:Zy()}function hk(e,t){if(e===t)return!0;var n=fk(e);if(n!==fk(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rk(e).isEqual(rk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Xg(e.timestampValue),r=Xg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ek(e.bytesValue).isEqual(ek(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Jg(e.geoPointValue.latitude)===Jg(t.geoPointValue.latitude)&&Jg(e.geoPointValue.longitude)===Jg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Jg(e.integerValue)===Jg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Jg(e.doubleValue),r=Jg(t.doubleValue);return n===r?uk(n)===uk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ag(e.arrayValue.values||[],t.arrayValue.values||[],hk);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ug(n)!==Ug(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!hk(n[i],r[i])))return!1;return!0}(e,t);default:return Zy()}}function dk(e,t){return void 0!==(e.values||[]).find((function(e){return hk(e,t)}))}function pk(e,t){if(e===t)return 0;var n=fk(e),r=fk(t);if(n!==r)return ig(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ig(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Jg(e.integerValue||e.doubleValue),r=Jg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return vk(e.timestampValue,t.timestampValue);case 4:return vk(rk(e),rk(t));case 5:return ig(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ek(e),r=ek(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=ig(n[i],r[i]);if(0!==a)return a}return ig(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=ig(Jg(e.latitude),Jg(t.latitude));return 0!==n?n:ig(Jg(e.longitude),Jg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=pk(n[i],r[i]);if(a)return a}return ig(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ck.mapValue&&t===ck.mapValue)return 0;if(e===ck.mapValue)return 1;if(t===ck.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=ig(r[o],a[o]);if(0!==u)return u;var s=pk(n[r[o]],i[a[o]]);if(0!==s)return s}return ig(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Zy()}}function vk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ig(e,t);var n=Xg(e),r=Xg(t),i=ig(n.seconds,r.seconds);return 0!==i?i:ig(n.nanos,r.nanos)}function mk(e){return yk(e)}function yk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Xg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ek(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,dg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=qr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=yk(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=qr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(yk(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Zy();var t,n}function gk(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function kk(e){return!!e&&"integerValue"in e}function bk(e){return!!e&&"arrayValue"in e}function wk(e){return!!e&&"nullValue"in e}function xk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sk(e){return!!e&&"mapValue"in e}function _k(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return zg(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=_k(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=_k(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ik(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ek(e){return"nullValue"in e?lk:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?gk(ak.empty(),dg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Zy()}function Tk(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?gk(ak.empty(),dg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ck:Zy()}function Ck(e,t){var n=pk(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ak(e,t){var n=pk(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Nk=function(){function e(t){Ur(this,e),this.value=t}return Zr(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Sk(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_k(t)}},{key:"setAll",value:function(e){var t=this,n=hg.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=_k(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Sk(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return hk(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Sk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){zg(t,(function(t,n){return e[t]=n}));var r,i=qr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(_k(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ok(e){var t=[];return zg(e.fields,(function(e,n){var r=new hg([e]);if(Sk(n)){var i=Ok(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=qr(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Qg(t)}var Pk=function(){function e(t,n,r,i,a,o){Ur(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Zr(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Nk.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Nk.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=sg.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,sg.min(),sg.min(),Nk.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,sg.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,sg.min(),Nk.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,sg.min(),Nk.empty(),2)}}]),e}(),Dk=Zr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ur(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function Rk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Dk(e,t,n,r,i,a,o)}function Lk(e){var t=qy(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+mk(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ok(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return mk(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return mk(e)})).join(",")),t.ut=n}return t.ut}function Mk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Xk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!hk(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!eb(e.startAt,t.startAt)&&eb(e.endAt,t.endAt)}function Fk(e){return dg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function jk(e,t){return e.filters.filter((function(e){return e instanceof zk&&e.field.isEqual(t)}))}function Vk(e,t,n){var r,i=lk,a=!0,o=qr(jk(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=lk,c=!0;switch(u.op){case"<":case"<=":s=Ek(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=lk}Ck({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ck({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Uk(e,t,n){var r,i=ck,a=!0,o=qr(jk(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=ck,c=!0;switch(u.op){case">=":case">":s=Tk(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=ck}Ak({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ak({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var zk=function(e){Kr(n,e);var t=$r(n);function n(e,r,i){var a;return Ur(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Zr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(pk(t,this.value)):null!==t&&fk(this.value)===fk(t)&&this.at(pk(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zy()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Zk(e,t,r):"array-contains"===t?new Wk(e,r):"in"===t?new Hk(e,r):"not-in"===t?new Gk(e,r):"array-contains-any"===t?new Qk(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Bk(e,n):new qk(e,n)}}]),n}(function(){return Zr((function e(){Ur(this,e)}))}()),Zk=function(e){Kr(n,e);var t=$r(n);function n(e,r,i){var a;return Ur(this,n),(a=t.call(this,e,r,i)).key=dg.fromName(i.referenceValue),a}return Zr(n,[{key:"matches",value:function(e){var t=dg.comparator(e.key,this.key);return this.at(t)}}]),n}(zk),Bk=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this,e,"in",r)).keys=Kk("in",r),i}return Zr(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zk),qk=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this,e,"not-in",r)).keys=Kk("not-in",r),i}return Zr(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zk);function Kk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return dg.fromName(e.referenceValue)}))}var Wk=function(e){Kr(n,e);var t=$r(n);function n(e,r){return Ur(this,n),t.call(this,e,"array-contains",r)}return Zr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return bk(t)&&dk(t.arrayValue,this.value)}}]),n}(zk),Hk=function(e){Kr(n,e);var t=$r(n);function n(e,r){return Ur(this,n),t.call(this,e,"in",r)}return Zr(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&dk(this.value.arrayValue,t)}}]),n}(zk),Gk=function(e){Kr(n,e);var t=$r(n);function n(e,r){return Ur(this,n),t.call(this,e,"not-in",r)}return Zr(n,[{key:"matches",value:function(e){if(dk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!dk(this.value.arrayValue,t)}}]),n}(zk),Qk=function(e){Kr(n,e);var t=$r(n);function n(e,r){return Ur(this,n),t.call(this,e,"array-contains-any",r)}return Zr(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!bk(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return dk(t.value.arrayValue,e)}))}}]),n}(zk),$k=Zr((function e(t,n){Ur(this,e),this.position=t,this.inclusive=n})),Yk=Zr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ur(this,e),this.field=t,this.dir=n}));function Xk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Jk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?dg.comparator(dg.fromName(o.referenceValue),n.key):pk(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function eb(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!hk(e.position[n],t.position[n]))return!1;return!0}var tb=Zr((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ur(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function nb(e,t,n,r,i,a,o,u){return new tb(e,t,n,r,i,a,o,u)}function rb(e){return new tb(e)}function ib(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ab(e){var t,n=qr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function ob(e){return null!==e.collectionGroup}function ub(e){var t=qy(e);if(null===t.lt){t.lt=[];var n=ab(t),r=ib(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new Yk(n)),t.lt.push(new Yk(hg.keyField(),"asc"));else{var i,a=!1,o=qr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new Yk(hg.keyField(),s))}}}return t.lt}function sb(e){var t=qy(e);if(!t.ft)if("F"===t.limitType)t.ft=Rk(t.path,t.collectionGroup,ub(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=qr(ub(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Yk(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new $k(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new $k(t.startAt.position,t.startAt.inclusive):null;t.ft=Rk(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function cb(e,t,n){return new tb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lb(e,t){return Mk(sb(e),sb(t))&&e.limitType===t.limitType}function fb(e){return"".concat(Lk(sb(e)),"|lt:").concat(e.limitType)}function hb(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(mk(t.value));var t})).join(", "),"]")),ok(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return mk(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return mk(e)})).join(",")),"Target(".concat(t,")")}(sb(e)),"; limitType=").concat(e.limitType,")")}function db(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):dg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=qr(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=qr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Jk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ub(e),t))&&!(e.endAt&&!function(e,t,n){var r=Jk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ub(e),t))}(e,t)}function pb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function vb(e){return function(t,n){var r,i=!1,a=qr(ub(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=mb(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function mb(e,t,n){var r=e.field.isKeyField()?dg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?pk(r,i):Zy()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zy()}}function yb(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uk(t)?"-0":t}}function gb(e){return{integerValue:""+e}}function kb(e,t){return sk(t)?gb(t):yb(e,t)}var bb=Zr((function e(){Ur(this,e),this._=void 0}));function wb(e,t,n){return e instanceof _b?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ib?Eb(e,t):e instanceof Tb?Cb(e,t):function(e,t){var n=Sb(e,t),r=Nb(n)+Nb(e._t);return kk(n)&&kk(e._t)?gb(r):yb(e.wt,r)}(e,t)}function xb(e,t,n){return e instanceof Ib?Eb(e,t):e instanceof Tb?Cb(e,t):n}function Sb(e,t){return e instanceof Ab?kk(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var _b=function(e){Kr(n,e);var t=$r(n);function n(){return Ur(this,n),t.apply(this,arguments)}return Zr(n)}(bb),Ib=function(e){Kr(n,e);var t=$r(n);function n(e){var r;return Ur(this,n),(r=t.call(this)).elements=e,r}return Zr(n)}(bb);function Eb(e,t){var n,r=Ob(t),i=qr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return hk(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Tb=function(e){Kr(n,e);var t=$r(n);function n(e){var r;return Ur(this,n),(r=t.call(this)).elements=e,r}return Zr(n)}(bb);function Cb(e,t){var n,r=Ob(t),i=qr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!hk(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ab=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this)).wt=e,i._t=r,i}return Zr(n)}(bb);function Nb(e){return Jg(e.integerValue||e.doubleValue)}function Ob(e){return bk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Pb=Zr((function e(t,n){Ur(this,e),this.field=t,this.transform=n}));var Db=Zr((function e(t,n){Ur(this,e),this.version=t,this.transformResults=n})),Rb=function(){function e(t,n){Ur(this,e),this.updateTime=t,this.exists=n}return Zr(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Lb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Mb=Zr((function e(){Ur(this,e)}));function Fb(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Qb(e.key,Rb.none()):new Zb(e.key,e.data,Rb.none());var n,r=e.data,i=Nk.empty(),a=new Wg(hg.comparator),o=qr(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Bb(e.key,i,new Qg(a.toArray()),Rb.none())}function jb(e,t,n){e instanceof Zb?function(e,t,n){var r=e.value.clone(),i=Kb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Bb?function(e,t,n){if(Lb(e.precondition,t)){var r=Kb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(qb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Vb(e,t,n,r){return e instanceof Zb?function(e,t,n,r){if(!Lb(e.precondition,t))return n;var i=e.value.clone(),a=Wb(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Bb?function(e,t,n,r){if(!Lb(e.precondition,t))return n;var i=Wb(e.fieldTransforms,r,t),a=t.data;return a.setAll(qb(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Lb(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ub(e,t){var n,r=null,i=qr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Sb(a.transform,o||null);null!=u&&(null===r&&(r=Nk.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function zb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ag(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ib&&t instanceof Ib||e instanceof Tb&&t instanceof Tb?ag(e.elements,t.elements,hk):e instanceof Ab&&t instanceof Ab?hk(e._t,t._t):e instanceof _b&&t instanceof _b}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Zb=function(e){Kr(n,e);var t=$r(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ur(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Zr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Mb),Bb=function(e){Kr(n,e);var t=$r(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ur(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Zr(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Mb);function qb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Kb(e,t,n){var r=new Map;By(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,xb(o,u,n[i]))}return r}function Wb(e,t,n){var r,i=new Map,a=qr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,wb(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Hb,Gb,Qb=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Zr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Mb),$b=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Zr(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Mb),Yb=Zr((function e(t){Ur(this,e),this.count=t}));function Xb(e){switch(e){default:return Zy();case Ky.CANCELLED:case Ky.UNKNOWN:case Ky.DEADLINE_EXCEEDED:case Ky.RESOURCE_EXHAUSTED:case Ky.INTERNAL:case Ky.UNAVAILABLE:case Ky.UNAUTHENTICATED:return!1;case Ky.INVALID_ARGUMENT:case Ky.NOT_FOUND:case Ky.ALREADY_EXISTS:case Ky.PERMISSION_DENIED:case Ky.FAILED_PRECONDITION:case Ky.ABORTED:case Ky.OUT_OF_RANGE:case Ky.UNIMPLEMENTED:case Ky.DATA_LOSS:return!0}}function Jb(e){if(void 0===e)return Vy("GRPC error has no .code"),Ky.UNKNOWN;switch(e){case Hb.OK:return Ky.OK;case Hb.CANCELLED:return Ky.CANCELLED;case Hb.UNKNOWN:return Ky.UNKNOWN;case Hb.DEADLINE_EXCEEDED:return Ky.DEADLINE_EXCEEDED;case Hb.RESOURCE_EXHAUSTED:return Ky.RESOURCE_EXHAUSTED;case Hb.INTERNAL:return Ky.INTERNAL;case Hb.UNAVAILABLE:return Ky.UNAVAILABLE;case Hb.UNAUTHENTICATED:return Ky.UNAUTHENTICATED;case Hb.INVALID_ARGUMENT:return Ky.INVALID_ARGUMENT;case Hb.NOT_FOUND:return Ky.NOT_FOUND;case Hb.ALREADY_EXISTS:return Ky.ALREADY_EXISTS;case Hb.PERMISSION_DENIED:return Ky.PERMISSION_DENIED;case Hb.FAILED_PRECONDITION:return Ky.FAILED_PRECONDITION;case Hb.ABORTED:return Ky.ABORTED;case Hb.OUT_OF_RANGE:return Ky.OUT_OF_RANGE;case Hb.UNIMPLEMENTED:return Ky.UNIMPLEMENTED;case Hb.DATA_LOSS:return Ky.DATA_LOSS;default:return Zy()}}(Gb=Hb||(Hb={}))[Gb.OK=0]="OK",Gb[Gb.CANCELLED=1]="CANCELLED",Gb[Gb.UNKNOWN=2]="UNKNOWN",Gb[Gb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gb[Gb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gb[Gb.NOT_FOUND=5]="NOT_FOUND",Gb[Gb.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gb[Gb.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gb[Gb.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gb[Gb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gb[Gb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gb[Gb.ABORTED=10]="ABORTED",Gb[Gb.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gb[Gb.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gb[Gb.INTERNAL=13]="INTERNAL",Gb[Gb.UNAVAILABLE=14]="UNAVAILABLE",Gb[Gb.DATA_LOSS=15]="DATA_LOSS";var ew=function(){function e(t,n){Ur(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Zr(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=qr(n);try{for(i.s();!(r=i.n()).done;){var a=(0,bt.Z)(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){zg(this.inner,(function(t,n){var r,i=qr(n);try{for(i.s();!(r=i.n()).done;){var a=(0,bt.Z)(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Zg(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),tw=new Bg(dg.comparator);function nw(){return tw}var rw=new Bg(dg.comparator);function iw(){for(var e=rw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function aw(e){var t=rw;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function ow(){return sw()}function uw(){return sw()}function sw(){return new ew((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var cw=new Bg(dg.comparator),lw=new Wg(dg.comparator);function fw(){for(var e=lw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var hw=new Wg(ig);function dw(){return hw}var pw=function(){function e(t,n,r,i,a){Ur(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Zr(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,vw.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(sg.min(),r,dw(),nw(),fw())}}]),e}(),vw=function(){function e(t,n,r,i,a){Ur(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Zr(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e($g.EMPTY_BYTE_STRING,n,fw(),fw(),fw())}}]),e}(),mw=Zr((function e(t,n,r,i){Ur(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),yw=Zr((function e(t,n){Ur(this,e),this.targetId=t,this.It=n})),gw=Zr((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$g.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ur(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),kw=function(){function e(){Ur(this,e),this.Tt=0,this.Et=xw(),this.At=$g.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return Zr(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=fw(),t=fw(),n=fw();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zy()}})),new vw(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=xw()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),bw=function(){function e(t){Ur(this,e),this.Mt=t,this.Ft=new Map,this.$t=nw(),this.Bt=ww(),this.Lt=new Wg(ig)}return Zr(e,[{key:"Ut",value:function(e){var t,n=qr(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=qr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Zy()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(Fk(i))if(0===n){var a=new dg(i.path);this.Kt(t,a,Pk.newNoDocument(a,sg.min()))}else By(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&Fk(a.target)){var o=new dg(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,Pk.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=fw();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new pw(e,n,this.Lt,this.$t,r);return this.$t=nw(),this.Bt=ww(),this.Lt=new Wg(ig),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new kw,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new Wg(ig),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||jy("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new kw),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ww(){return new Bg(dg.comparator)}function xw(){return new Bg(dg.comparator)}var Sw={asc:"ASCENDING",desc:"DESCENDING"},_w={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iw=Zr((function e(t,n){Ur(this,e),this.databaseId=t,this.dt=n}));function Ew(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Tw(e,t){return e.dt?t.toBase64():t.toUint8Array()}function Cw(e,t){return Ew(e,t.toTimestamp())}function Aw(e){return By(!!e),sg.fromTimestamp(function(e){var t=Xg(e);return new ug(t.seconds,t.nanos)}(e))}function Nw(e,t){return function(e){return new lg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ow(e){var t=lg.fromString(e);return By(ex(t)),t}function Pw(e,t){return Nw(e.databaseId,t.path)}function Dw(e,t){var n=Ow(t);if(n.get(1)!==e.databaseId.projectId)throw new Wy(Ky.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Wy(Ky.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dg(Fw(n))}function Rw(e,t){return Nw(e.databaseId,t)}function Lw(e){var t=Ow(e);return 4===t.length?lg.emptyPath():Fw(t)}function Mw(e){return new lg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Fw(e){return By(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jw(e,t,n){return{name:Pw(e,t),fields:n.value.mapValue.fields}}function Vw(e,t,n){var r=Dw(e,t.name),i=Aw(t.updateTime),a=new Nk({mapValue:{fields:t.fields}}),o=Pk.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Uw(e,t){return"found"in t?function(e,t){By(!!t.found),t.found.name,t.found.updateTime;var n=Dw(e,t.found.name),r=Aw(t.found.updateTime),i=new Nk({mapValue:{fields:t.found.fields}});return Pk.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){By(!!t.missing),By(!!t.readTime);var n=Dw(e,t.missing),r=Aw(t.readTime);return Pk.newNoDocument(n,r)}(e,t):Zy()}function zw(e,t){var n;if(t instanceof Zb)n={update:jw(e,t.key,t.value)};else if(t instanceof Qb)n={delete:Pw(e,t.key)};else if(t instanceof Bb)n={update:jw(e,t.key,t.data),updateMask:Jw(t.fieldMask)};else{if(!(t instanceof $b))return Zy();n={verify:Pw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof _b)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ib)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Tb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ab)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Zy()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Cw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zy()}(e,t.precondition)),n}function Zw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Rb.updateTime(Aw(e.updateTime)):void 0!==e.exists?Rb.exists(e.exists):Rb.none()}(t.currentDocument):Rb.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)By("REQUEST_TIME"===t.setToServerValue),n=new _b;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ib(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Tb(i)}else"increment"in t?n=new Ab(e,t.increment):Zy();var a=hg.fromServerFormat(t.fieldPath);return new Pb(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Dw(e,t.update.name),a=new Nk({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Qg(t.map((function(e){return hg.fromServerFormat(e)})))}(t.updateMask);return new Bb(i,a,o,n,r)}return new Zb(i,a,n,r)}if(t.delete){var u=Dw(e,t.delete);return new Qb(u,n)}if(t.verify){var s=Dw(e,t.verify);return new $b(s,n)}return Zy()}function Bw(e,t){return{documents:[Rw(e,t.path)]}}function qw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Rw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Rw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(xk(e.value))return{unaryFilter:{field:Qw(e.field),op:"IS_NAN"}};if(wk(e.value))return{unaryFilter:{field:Qw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xk(e.value))return{unaryFilter:{field:Qw(e.field),op:"IS_NOT_NAN"}};if(wk(e.value))return{unaryFilter:{field:Qw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qw(e.field),op:Gw(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Qw(e.field),direction:Hw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||ok(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Kw(e){var t=Lw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){By(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Ww(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Yk($w(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ok(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new $k(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new $k(n,t)}(n.endAt)),nb(t,i,u,o,s,"F",c,l)}function Ww(e){return e?void 0!==e.unaryFilter?[Xw(e)]:void 0!==e.fieldFilter?[Yw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ww(e)})).reduce((function(e,t){return e.concat(t)})):Zy():[]}function Hw(e){return Sw[e]}function Gw(e){return _w[e]}function Qw(e){return{fieldPath:e.canonicalString()}}function $w(e){return hg.fromServerFormat(e.fieldPath)}function Yw(e){return zk.create($w(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zy()}}(e.fieldFilter.op),e.fieldFilter.value)}function Xw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=$w(e.unaryFilter.field);return zk.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=$w(e.unaryFilter.field);return zk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=$w(e.unaryFilter.field);return zk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=$w(e.unaryFilter.field);return zk.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zy()}}function Jw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ex(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function tx(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=rx(t)),t=nx(e.get(n),t);return rx(t)}function nx(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function rx(e){return e+"\x01\x01"}function ix(e){var t=e.length;if(By(t>=2),2===t)return By("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),lg.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Zy(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Zy()}a=o+2}return new lg(r)}var ax=["userId","batchId"];function ox(e,t){return[e,tx(t)]}function ux(e,t,n){return[e,tx(t),n]}var sx={},cx=["prefixPath","collectionGroup","readTime","documentId"],lx=["prefixPath","collectionGroup","documentId"],fx=["collectionGroup","readTime","prefixPath","documentId"],hx=["canonicalId","targetId"],dx=["targetId","path"],px=["path","targetId"],vx=["collectionId","parent"],mx=["indexId","uid"],yx=["uid","sequenceNumber"],gx=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kx=["indexId","uid","orderedDocumentKey"],bx=["userId","collectionPath","documentId"],wx=["userId","collectionPath","largestBatchId"],xx=["userId","collectionGroup","largestBatchId"],Sx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),_x=[].concat((0,yn.Z)(Sx),["documentOverlays"]),Ix=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ex=Ix,Tx=[].concat(Ex,["indexConfiguration","indexState","indexEntries"]),Cx=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return Zr(n)}(_g);function Ax(e,t){var n=qy(e);return Ag.N(n.ee,t)}var Nx=function(){function e(t,n,r,i){Ur(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Zr(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&jb(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=qr(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Vb(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=qr(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Vb(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=uw();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Fb(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(sg.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),fw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ag(this.mutations,e.mutations,(function(e,t){return zb(e,t)}))&&ag(this.baseMutations,e.baseMutations,(function(e,t){return zb(e,t)}))}}]),e}(),Ox=function(){function e(t,n,r,i){Ur(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Zr(e,null,[{key:"from",value:function(t,n,r){By(t.mutations.length===r.length);for(var i=cw,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Px=function(){function e(t,n){Ur(this,e),this.largestBatchId=t,this.mutation=n}return Zr(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Dx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sg.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$g.EMPTY_BYTE_STRING;Ur(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Zr(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Rx=Zr((function e(t){Ur(this,e),this.ne=t}));function Lx(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Mx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Pw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ew(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Fx(t.version)};else{if(!t.isUnknownDocument())return Zy();r.unknownDocument={path:n.path.toArray(),version:Fx(t.version)}}return r}function Mx(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Fx(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function jx(e){var t=new ug(e.seconds,e.nanoseconds);return sg.fromTimestamp(t)}function Vx(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Zw(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Zw(e.ne,t)})),u=ug.fromMillis(t.localWriteTimeMs);return new Nx(t.batchId,u,n,o)}function Ux(e){var t,n,r=jx(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?jx(e.lastLimboFreeSnapshotVersion):sg.min();return void 0!==e.query.documents?(By(1===(n=e.query).documents.length),t=sb(rb(Lw(n.documents[0])))):t=function(e){return sb(Kw(e))}(e.query),new Dx(t,e.targetId,0,e.lastListenSequenceNumber,r,i,$g.fromBase64String(e.resumeToken))}function zx(e,t){var n,r=Fx(t.snapshotVersion),i=Fx(t.lastLimboFreeSnapshotVersion);n=Fk(t.target)?Bw(e.ne,t.target):qw(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Lk(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Zx(e){var t=Kw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?cb(t,t.limit,"L"):t}function Bx(e,t){return new Px(t.largestBatchId,Zw(e.ne,t.overlayMutation))}function qx(e,t){var n=t.path.lastSegment();return[e,tx(t.path.popLast()),n]}function Kx(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Fx(r.readTime),documentKey:tx(r.documentKey.path),largestBatchId:r.largestBatchId}}var Wx=function(){function e(){Ur(this,e)}return Zr(e,[{key:"getBundleMetadata",value:function(e,t){return Hx(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:jx(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Hx(e).put({bundleId:(n=t).id,createTime:Fx(Aw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Gx(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Zx(t.bundledQuery),readTime:jx(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Gx(e).put(function(e){return{name:e.name,readTime:Fx(Aw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Hx(e){return Ax(e,"bundles")}function Gx(e){return Ax(e,"namedQueries")}var Qx=function(){function e(t,n){Ur(this,e),this.wt=t,this.userId=n}return Zr(e,[{key:"getOverlay",value:function(e,t){var n=this;return $x(e).get(qx(this.userId,t)).next((function(e){return e?Bx(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=ow();return Tg.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Px(t,a);i.push(r.ie(e,o))})),Tg.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(tx(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push($x(e).W("collectionPathOverlayIndex",i))})),Tg.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=ow(),a=tx(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return $x(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=qr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Bx(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=ow(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $x(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Bx(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return $x(e).put(function(e,t,n){var r=qx(t,n.mutation.key),i=(0,bt.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:zw(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function $x(e){return Ax(e,"documentOverlays")}var Yx=function(){function e(){Ur(this,e)}return Zr(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Jg(e.integerValue));else if("doubleValue"in e){var n=Jg(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),uk(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(ek(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Ik(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Zy()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=qr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),dg.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function Xx(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Jx(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Xx(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Yx.ye=new Yx;var eS=function(){function e(){Ur(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Zr(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=qr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=qr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=Jx(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=Jx(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),tS=function(){function e(t){Ur(this,e),this.Me=t}return Zr(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),nS=function(){function e(t){Ur(this,e),this.Me=t}return Zr(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),rS=function(){function e(){Ur(this,e),this.Me=new eS,this.Fe=new tS(this.Me),this.$e=new nS(this.Me)}return Zr(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),iS=function(){function e(t,n,r,i){Ur(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Zr(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function aS(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=oS(e.arrayValue,t.arrayValue))?n:0!==(n=oS(e.directionalValue,t.directionalValue))?n:dg.comparator(e.documentKey,t.documentKey)}function oS(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var uS=function(){function e(t){Ur(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=qr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Zr(e,[{key:"Ge",value:function(e){var t=vg(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=mg(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=qr(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),sS=function(){function e(){Ur(this,e),this.ze=new cS}return Zr(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),Tg.resolve()}},{key:"getCollectionParents",value:function(e,t){return Tg.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Tg.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Tg.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Tg.resolve(null)}},{key:"getIndexType",value:function(e,t){return Tg.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Tg.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Tg.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Tg.resolve(wg.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Tg.resolve(wg.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Tg.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Tg.resolve()}}]),e}(),cS=function(){function e(){Ur(this,e),this.index={}}return Zr(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Wg(lg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Wg(lg.comparator)).toArray()}}]),e}(),lS=new Uint8Array(0),fS=function(){function e(t,n){Ur(this,e),this.user=t,this.databaseId=n,this.He=new cS,this.Je=new ew((function(e){return Lk(e)}),(function(e,t){return Mk(e,t)})),this.uid=t.uid||""}return Zr(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:tx(i)};return hS(e).put(a)}return Tg.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[og(t),""],!1,!0);return hS(e).K(r).next((function(e){var r,i=qr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ix(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=pS(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=vS(e);return a.next((function(e){o.put(Kx(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=pS(e),r=vS(e),i=dS(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=dS(e),i=!0,a=new Map;return Tg.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=fw(),o=[];return Tg.forEach(a,(function(i,a){var u;jy("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Lk(t)));var s=function(e,t){var n=vg(t);if(void 0===n)return null;var r,i=qr(jk(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=qr(mg(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=qr(jk(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=qr(mg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Vk(e,o.fieldPath,e.startAt):Uk(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new $k(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=qr(mg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Uk(e,o.fieldPath,e.endAt):Vk(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new $k(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return Tg.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=dg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Tg.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):lS,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,(0,yn.Z)(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new iS(e,dg.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new iS(e,dg.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new uS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=qr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Tg.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Wg(hg.comparator),r=!1,i=qr(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=qr(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new rS,i=qr(mg(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);Yx.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new rS;return Yx.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new rS;return Yx.ye.re(gk(this.databaseId,t),n.Be(function(e){var t=mg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new rS);var i,a=0,o=qr(mg(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=qr(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&bk(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);Yx.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=(0,yn.Z)(e),a=[],o=qr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=qr(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new rS;f.seed(l.Oe()),Yx.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof zk&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=pS(e),i=vS(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return Tg.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new gg(t.sequenceNumber,new wg(jx(t.readTime),new dg(ix(t.documentKey)),t.largestBatchId)):gg.empty(),r=e.fields.map((function(e){var t=(0,bt.Z)(e,2),n=t[0],r=t[1];return new yg(hg.fromServerFormat(n),r)}));return new pg(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ig(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=pS(e),a=vS(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Tg.forEach(t,(function(t){return a.put(Kx(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Tg.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Tg.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Tg.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?Tg.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return dS(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return dS(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=dS(e),i=new Wg(aS);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new iS(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new Wg(aS),r=this.on(t,e);if(null==r)return n;var i=vg(t);if(null!=i){var a=e.data.field(i.fieldPath);if(bk(a)){var o,u=qr(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new iS(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new iS(t.indexId,e.key,lS,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;jy("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Gg(a),s=Gg(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Gg(o)):l?(i(u),u=Gg(a)):(u=Gg(a),s=Gg(o))}}(r,i,aS,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),Tg.waitFor(o)}},{key:"ln",value:function(e){var t=1;return vS(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return aS(e,t)})).filter((function(e,t,n){return!t||0!==aS(e,n[t-1])}));var r=[];r.push(e);var i,a=qr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=aS(o,e),s=aS(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,lS,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,lS,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(mS)}},{key:"getMinOffset",value:function(e,t){var n=this;return Tg.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||Zy()}))})).next(mS)}}]),e}();function hS(e){return Ax(e,"collectionParents")}function dS(e){return Ax(e,"indexEntries")}function pS(e){return Ax(e,"indexConfiguration")}function vS(e){return Ax(e,"indexState")}function mS(e){By(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;xg(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new wg(t.readTime,t.documentKey,n)}var yS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gS=function(){function e(t,n,r){Ur(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Zr(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function kS(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){By(1===u)})));var c,l=[],f=qr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=ux(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Tg.waitFor(a).next((function(){return l}))}function bS(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Zy();t=e.noDocument}return JSON.stringify(t).length}gS.DEFAULT_COLLECTION_PERCENTILE=10,gS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gS.DEFAULT=new gS(41943040,gS.DEFAULT_COLLECTION_PERCENTILE,gS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gS.DISABLED=new gS(-1,0,0);var wS=function(){function e(t,n,r,i){Ur(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return Zr(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return SS(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=_S(e),o=SS(e);return o.add({}).next((function(u){By("number"==typeof u);var s,c=new Nx(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return zw(e.ne,t)})),i=n.mutations.map((function(t){return zw(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new Wg((function(e,t){return ig(e.canonicalString(),t.canonicalString())})),d=qr(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=ux(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,sx))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),Tg.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return SS(e).get(t).next((function(e){return e?(By(e.userId===n.userId),Vx(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?Tg.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return SS(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(By(t.batchId>=r),a=Vx(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return SS(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return SS(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return Vx(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=ox(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return _S(e).J({range:i},(function(r,i,o){var u=(0,bt.Z)(r,3),s=u[0],c=u[1],l=u[2],f=ix(c);if(s===n.userId&&t.path.isEqual(f))return SS(e).get(l).next((function(e){if(!e)throw Zy();By(e.userId===n.userId),a.push(Vx(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Wg(ig),i=[];return t.forEach((function(t){var a=ox(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=_S(e).J({range:o},(function(e,i,a){var o=(0,bt.Z)(e,3),u=o[0],s=o[1],c=o[2],l=ix(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Tg.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=ox(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Wg(ig);return _S(e).J({range:o},(function(e,t,a){var o=(0,bt.Z)(e,3),s=o[0],c=o[1],l=o[2],f=ix(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(SS(e).get(t).next((function(e){if(null===e)throw Zy();By(e.userId===n.userId),r.push(Vx(n.wt,e))})))})),Tg.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return kS(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),Tg.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Tg.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return _S(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ix(e[1]);i.push(a)}else r.done()})).next((function(){By(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return xS(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return IS(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return By(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function xS(e,t,n){var r=ox(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return _S(e).J({range:a,H:!0},(function(e,n,r){var a=(0,bt.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function SS(e){return Ax(e,"mutations")}function _S(e){return Ax(e,"documentMutations")}function IS(e){return Ax(e,"mutationQueues")}var ES=function(){function e(t){Ur(this,e),this.En=t}return Zr(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),TS=function(){function e(t,n){Ur(this,e),this.referenceDelegate=t,this.wt=n}return Zr(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new ES(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return sg.fromTimestamp(new ug(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return CS(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return By(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return CS(e).J((function(o,u){var s=Ux(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Tg.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return CS(e).J((function(e,n){var r=Ux(n);t(r)}))}},{key:"bn",value:function(e){return AS(e).get("targetGlobalKey").next((function(e){return By(null!==e),e}))}},{key:"Pn",value:function(e,t){return AS(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return CS(e).put(zx(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Lk(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return CS(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Ux(n);Mk(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=NS(e);return t.forEach((function(t){var o=tx(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Tg.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=NS(e);return Tg.forEach(t,(function(t){var a=tx(t.path);return Tg.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=NS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=NS(e),i=fw();return r.J({range:n,H:!0},(function(e,t,n){var r=ix(e[1]),a=new dg(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=tx(t.path),r=IDBKeyRange.bound([n],[og(n)],!1,!0),i=0;return NS(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=(0,bt.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return CS(e).get(t).next((function(e){return e?Ux(e):null}))}}]),e}();function CS(e){return Ax(e,"targets")}function AS(e){return Ax(e,"targetGlobal")}function NS(e){return Ax(e,"targetDocuments")}function OS(e,t){var n=(0,bt.Z)(e,2),r=n[0],i=n[1],a=(0,bt.Z)(t,2),o=a[0],u=a[1],s=ig(r,o);return 0===s?ig(i,u):s}var PS=function(){function e(t){Ur(this,e),this.Sn=t,this.buffer=new Wg(OS),this.Dn=0}return Zr(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();OS(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),DS=function(){function e(t,n,r){Ur(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return Zr(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;jy("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Pg(e.t0)){e.next=12;break}jy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Ig(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),RS=function(){function e(t,n){Ur(this,e),this.On=t,this.params=n}return Zr(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Tg.resolve(Vg.ot);var r=new PS(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(jy("LruGarbageCollector","Garbage collection skipped; disabled"),Tg.resolve(yS)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(jy("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),yS):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(jy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Fy()<=Ri.DEBUG&&jy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Tg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),LS=function(){function e(t,n){Ur(this,e),this.db=t,this.garbageCollector=function(e,t){return new RS(e,t)}(this,n)}return Zr(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return MS(e,n)}},{key:"removeReference",value:function(e,t,n){return MS(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return MS(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return IS(e).Y((function(r){return xS(e,r,t).next((function(e){return e&&(n=!0),Tg.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,sg.min()),NS(e).delete([0,tx(o.path)])}))}));i.push(s)}})).next((function(){return Tg.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return MS(e,t)}},{key:"Ln",value:function(e,t){var n,r=NS(e),i=Vg.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=(0,bt.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Vg.ot&&t(new dg(ix(n)),i),i=s,n=u):i=Vg.ot})).next((function(){i!==Vg.ot&&t(new dg(ix(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function MS(e,t){return NS(e).put(function(e,t){return{targetId:0,path:tx(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var FS=function(){function e(){Ur(this,e),this.changes=new ew((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Zr(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Pk.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Tg.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),jS=function(){function e(t){Ur(this,e),this.wt=t}return Zr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return ZS(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return ZS(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Mx(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Pk.newInvalidDocument(t);return ZS(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(BS(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:Pk.newInvalidDocument(t)};return ZS(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(BS(t))},(function(e,i){r={document:n.Kn(t,i),size:bS(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=nw();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=nw(),i=new Bg(dg.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,bS(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return Tg.resolve();var r=new Wg(KS);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(BS(r.first()),BS(r.last())),a=r.getIterator(),o=a.getNext();return ZS(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=dg.fromSegments([].concat((0,yn.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&KS(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(BS(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Mx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ZS(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=nw(),i=qr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(dg.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=nw(),o=qS(t,n),u=qS(t,wg.max());return ZS(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(dg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new US(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return zS(e).get("remoteDocumentGlobalKey").next((function(e){return By(!!e),e}))}},{key:"qn",value:function(e,t){return zS(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Vw(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=dg.fromSegments(t.noDocument.path),i=jx(t.noDocument.readTime);n=Pk.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Zy();var a=dg.fromSegments(t.unknownDocument.path),o=jx(t.unknownDocument.version);n=Pk.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new ug(e[0],e[1]);return sg.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(sg.min()))return n}return Pk.newInvalidDocument(e)}}]),e}();function VS(e){return new jS(e)}var US=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new ew((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Zr(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Wg((function(e,t){return ig(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Lx(t.zn.wt,o);i=i.add(a.path.popLast());var c=bS(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Lx(t.zn.wt,o.convertToNoDocument(sg.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),Tg.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(FS);function zS(e){return Ax(e,"remoteDocumentGlobal")}function ZS(e){return Ax(e,"remoteDocumentsV14")}function BS(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function qS(e,t){var n=t.documentKey.path.toArray();return[e,Mx(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function KS(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=ig(n[a],r[a]))return i;return(i=ig(n.length,r.length))||((i=ig(n[n.length-2],r[r.length-2]))||ig(n[n.length-1],r[r.length-1]))}var WS=Zr((function e(t,n){Ur(this,e),this.overlayedDocument=t,this.mutatedFields=n})),HS=function(){function e(t,n,r,i){Ur(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Zr(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Vb(r.mutation,e,Qg.empty(),ug.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,fw()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fw(),i=ow();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=iw();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=ow();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,fw())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=nw(),a=sw(),o=sw();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Bb)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Vb(o.mutation,t,o.mutation.getFieldMask(),ug.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new WS(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=sw(),i=new Bg((function(e,t){return e-t})),a=fw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=qr(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Qg.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||fw()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=uw();c.forEach((function(e){if(!a.has(e)){var n=Fb(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Tg.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return dg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ob(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Tg.resolve(ow()),u=-1,s=a;return o.next((function(t){return Tg.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Tg.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,fw())})).next((function(e){return{batchId:u,changes:aw(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new dg(t)).next((function(e){var t=iw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=iw();return this.indexManager.getCollectionParents(e,i).next((function(o){return Tg.forEach(o,(function(o){var u=function(e,t){return new tb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Pk.newInvalidDocument(n)))}));var n=iw();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Vb(a.mutation,i,Qg.empty(),ug.now()),db(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Tg.resolve(Pk.newInvalidDocument(t))}}]),e}(),GS=function(){function e(t){Ur(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return Zr(e,[{key:"getBundleMetadata",value:function(e,t){return Tg.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Aw(n.createTime)}),Tg.resolve()}},{key:"getNamedQuery",value:function(e,t){return Tg.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:Zx(e.bundledQuery),readTime:Aw(e.readTime)}}(t)),Tg.resolve()}}]),e}(),QS=function(){function e(){Ur(this,e),this.overlays=new Bg(dg.comparator),this.Xn=new Map}return Zr(e,[{key:"getOverlay",value:function(e,t){return Tg.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=ow();return Tg.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),Tg.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),Tg.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=ow(),i=t.length+1,a=new dg(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Tg.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Bg((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=ow(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=ow(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Tg.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Px(t,n));var a=this.Xn.get(t);void 0===a&&(a=fw(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),$S=function(){function e(){Ur(this,e),this.Zn=new Wg(YS.ts),this.es=new Wg(YS.ns)}return Zr(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new YS(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new YS(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new dg(new lg([])),r=new YS(n,e),i=new YS(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new dg(new lg([])),n=new YS(t,e),r=new YS(t,e+1),i=fw();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new YS(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),YS=function(){function e(t,n){Ur(this,e),this.key=t,this.ls=n}return Zr(e,null,[{key:"ts",value:function(e,t){return dg.comparator(e.key,t.key)||ig(e.ls,t.ls)}},{key:"ns",value:function(e,t){return ig(e.ls,t.ls)||dg.comparator(e.key,t.key)}}]),e}(),XS=function(){function e(t,n){Ur(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Wg(YS.ts)}return Zr(e,[{key:"checkEmpty",value:function(e){return Tg.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Nx(i,t,n,r);this.mutationQueue.push(a);var o,u=qr(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new YS(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Tg.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Tg.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Tg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Tg.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Tg.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new YS(t,0),i=new YS(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),Tg.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Wg(ig);return t.forEach((function(e){var t=new YS(e,0),i=new YS(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Tg.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;dg.isDocumentKey(i)||(i=i.child(""));var a=new YS(new dg(i),0),o=new Wg(ig);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Tg.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;By(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return Tg.forEach(t.mutations,(function(i){var a=new YS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new YS(t,0),r=this.ds.firstAfterOrEqual(n);return Tg.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Tg.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),JS=function(){function e(t){Ur(this,e),this.ps=t,this.docs=new Bg(dg.comparator),this.size=0}return Zr(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Tg.resolve(n?n.document.mutableCopy():Pk.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=nw();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Pk.newInvalidDocument(e))})),Tg.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=nw(),i=new dg(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||xg(bg(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Tg.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Zy()}},{key:"Is",value:function(e,t){return Tg.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new e_(this)}},{key:"getSize",value:function(e){return Tg.resolve(this.size)}}]),e}(),e_=function(e){Kr(n,e);var t=$r(n);function n(e){var r;return Ur(this,n),(r=t.call(this)).zn=e,r}return Zr(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),Tg.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(FS),t_=function(){function e(t){Ur(this,e),this.persistence=t,this.Ts=new ew((function(e){return Lk(e)}),Mk),this.lastRemoteSnapshotVersion=sg.min(),this.highestTargetId=0,this.Es=0,this.As=new $S,this.targetCount=0,this.Rs=ES.An()}return Zr(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Tg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Tg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Tg.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Tg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Tg.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new ES(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,Tg.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),Tg.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Tg.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Tg.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Tg.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Tg.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Tg.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Tg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),Tg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Tg.resolve(n)}},{key:"containsKey",value:function(e,t){return Tg.resolve(this.As.containsKey(t))}}]),e}(),n_=function(){function e(t,n){var r=this;Ur(this,e),this.bs={},this.overlays={},this.Ps=new Vg(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new t_(this),this.indexManager=new sS,this.remoteDocumentCache=new JS((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new Rx(n),this.Ds=new GS(this.wt)}return Zr(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new QS,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new XS(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;jy("MemoryPersistence","Starting transaction:",e);var i=new r_(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return Tg.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),r_=function(e){Kr(n,e);var t=$r(n);function n(e){var r;return Ur(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Zr(n)}(_g),i_=function(){function e(t){Ur(this,e),this.persistence=t,this.ks=new $S,this.Os=null}return Zr(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw Zy()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Tg.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Tg.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),Tg.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tg.forEach(this.Fs,(function(r){var i=dg.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,sg.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Tg.or([function(){return Tg.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),a_=function(){function e(t){Ur(this,e),this.wt=t}return Zr(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new Cg("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ax,{unique:!0}),e.createObjectStore("documentMutations")}(e),o_(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Tg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),o_(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:sg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ax,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Tg.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:bx});t.createIndex("collectionPathOverlayIndex",wx,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",xx,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:cx});t.createIndex("documentKeyIndex",lx),t.createIndex("collectionGroupIndex",fx)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:mx}).createIndex("sequenceNumberIndex",yx,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:gx}).createIndex("documentKeyIndex",kx,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=bS(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return Tg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return Tg.forEach(r,(function(r){By(r.userId===n.userId);var i=Vx(t.wt,r);return kS(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new lg(n),o=function(e){return[0,tx(e)]}(a);r.push(t.get(o).next((function(n){return n?Tg.resolve():function(n){return t.put({targetId:0,path:tx(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Tg.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:vx});var n=t.store("collectionParents"),r=new cS,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:tx(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new lg(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=(0,bt.Z)(e,3),r=(n[0],n[1]),a=(n[2],ix(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=Ux(r),a=zx(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new dg(lg.fromString(i.document.name).popFirst(5)):i.noDocument?dg.fromSegments(i.noDocument.path):i.unknownDocument?dg.fromSegments(i.unknownDocument.path):Zy()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Tg.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=VS(this.wt),a=new n_(i_.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:fw();Vx(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Tg.forEach(r,(function(e,r){var o=new Ry(r),u=Qx.se(n.wt,o),s=a.getIndexManager(o),c=wS.se(o,n.wt,s,a.referenceDelegate);return new HS(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Cx(t,Vg.ot),e).next()}))}))}}]),e}();function o_(e){e.createObjectStore("targetDocuments",{keyPath:dx}).createIndex("documentTargetsIndex",px,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hx,{unique:!0}),e.createObjectStore("targetGlobal")}var u_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",s_=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(Ur(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new Wy(Ky.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LS(this,i),this.ei=n+"main",this.wt=new Rx(s),this.ni=new Ag(this.ei,this.Hs,new a_(this.wt)),this.Vs=new TS(this.referenceDelegate,this.wt),this.remoteDocumentCache=VS(this.wt),this.Ds=new Wx,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&Vy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Zr(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Wy(Ky.FAILED_PRECONDITION,u_);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new Vg(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=Ai(Ti().mark((function n(r){return Ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=Ai(Ti().mark((function t(n){return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return l_(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(Pg(t))return jy("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return jy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return c_(e).get("owner").next((function(e){return Tg.resolve(t.di(e))}))}},{key:"_i",value:function(e){return l_(e).delete(this.clientId)}},{key:"wi",value:function(){var e=Ai(Ti().mark((function e(){var t,n,r,i,a=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ax(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Tg.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=qr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?Tg.resolve(!0):c_(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new Wy(Ky.FAILED_PRECONDITION,u_);return!1}}return!(!t.networkEnabled||!t.inForeground)||l_(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&jy("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ai(Ti().mark((function e(){var t=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Cx(e,Vg.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return l_(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return wS.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new fS(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Qx.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;jy("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?Tx:14===i?Ex:13===i?Ix:12===i?_x:11===i?Sx:void Zy();return this.ni.runTransaction(e,o,u,(function(i){return a=new Cx(i,r.Ps?r.Ps.next():Vg.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw Vy("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new Wy(Ky.FAILED_PRECONDITION,Sg);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return c_(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Wy(Ky.FAILED_PRECONDITION,u_)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return c_(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=c_(e);return n.get("owner").next((function(e){return t.di(e)?(jy("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Tg.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Vy("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!si()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return jy("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Vy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(C){Vy("Failed to set zombie client id.",C)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(C){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return Ag.V()}}]),e}();function c_(e){return Ax(e,"owner")}function l_(e){return Ax(e,"clientMetadata")}function f_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var h_=function(){function e(t,n,r,i){Ur(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return Zr(e,null,[{key:"Vi",value:function(t,n){var r,i=fw(),a=fw(),o=qr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),d_=function(){function e(){Ur(this,e),this.Si=!1}return Zr(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return Tg.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(sg.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(Fy()<=Ri.DEBUG&&jy("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hb(t)),i.Mi(e,o,t,kg(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new Wg(vb(e));return t.forEach((function(t,r){db(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return Fy()<=Ri.DEBUG&&jy("QueryEngine","Using full collection scan to execute query:",hb(t)),this.Di.getDocumentsMatchingQuery(e,t,wg.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),p_=function(){function e(t,n,r,i){Ur(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Bg(ig),this.Bi=new ew((function(e){return Lk(e)}),Mk),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return Zr(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HS(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function v_(e,t,n,r){return new p_(e,t,n,r)}function m_(e,t){return y_.apply(this,arguments)}function y_(){return y_=Ai(Ti().mark((function e(t,n){var r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qy(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=fw(),s=qr(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=qr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=qr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=qr(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),y_.apply(this,arguments)}function g_(e,t){var n=qy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Tg.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);By(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=fw(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function k_(e){var t=qy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function b_(e,t){var n=qy(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken($g.EMPTY_BYTE_STRING,sg.min()).withLastLimboFreeSnapshotVersion(sg.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=nw(),s=fw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(w_(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(sg.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Tg.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function w_(e,t,n){var r=fw(),i=fw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=nw();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(sg.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):jy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function x_(e,t){var n=qy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function S_(e,t){var n=qy(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,Tg.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new Dx(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function __(e,t,n){return I_.apply(this,arguments)}function I_(){return I_=Ai(Ti().mark((function e(t,n,r){var i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=qy(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Pg(e.t1)){e.next=12;break}throw e.t1;case 12:jy("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),I_.apply(this,arguments)}function E_(e,t,n){var r=qy(e),i=sg.min(),a=fw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=qy(e),i=r.Bi.get(n);return void 0!==i?Tg.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,sb(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:sg.min(),n?a:fw())})).next((function(e){return A_(r,pb(t),e),{documents:e,ji:a}}))}))}function T_(e,t){var n=qy(e),r=qy(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function C_(e,t){var n=qy(e),r=n.Li.get(t)||sg.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,kg(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return A_(n,t,e),e}))}function A_(e,t,n){var r=sg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function N_(e,t,n,r){return O_.apply(this,arguments)}function O_(){return O_=Ai(Ti().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=qy(t),o=fw(),u=nw(),s=qr(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,S_(a,function(e){return sb(rb(lg.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return w_(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),O_.apply(this,arguments)}function P_(e,t){return D_.apply(this,arguments)}function D_(){return D_=Ai(Ti().mark((function e(t,n){var r,i,a,o=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:fw(),e.next=3,S_(t,sb(Zx(n.bundledQuery)));case 3:return i=e.sent,a=qy(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Aw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken($g.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),D_.apply(this,arguments)}function R_(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function L_(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function M_(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var F_=function(){function e(t,n,r,i){Ur(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Zr(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Wy(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Vy("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),j_=function(){function e(t,n,r){Ur(this,e),this.targetId=t,this.state=n,this.error=r}return Zr(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Wy(i.error.code,i.error.message))),a?new e(t,i.state,r):(Vy("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),V_=function(){function e(t,n){Ur(this,e),this.clientId=t,this.activeTargetIds=n}return Zr(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=dw(),o=0;i&&o<r.activeTargetIds.length;++o)i=sk(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Vy("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),U_=function(){function e(t,n){Ur(this,e),this.clientId=t,this.onlineState=n}return Zr(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Vy("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),z_=function(){function e(){Ur(this,e),this.activeTargetIds=dw()}return Zr(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Z_=function(){function e(t,n,r,i,a){Ur(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Bg(ig),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=R_(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new z_),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return Zr(e,[{key:"start",value:function(){var e=Ai(Ti().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=qr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(R_(this.persistenceKey,i)))&&(o=V_.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=qr(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(M_(this.persistenceKey,e));if(n){var r=j_.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(M_(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return jy("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){jy("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){jy("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(jy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Vy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(Ai(Ti().mark((function e(){var r,i,a,o,u,s,c;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Vg.ot;if(null!=e)try{var n=JSON.parse(e);By("number"==typeof n),t=n}catch(e){Vy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Vg.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new F_(this.currentUser,e,t,n),i=L_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=L_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=M_(this.persistenceKey,e),i=new j_(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return V_.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return F_.Ji(new Ry(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return j_.Ji(r,t)}},{key:"wr",value:function(e){return U_.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:jy("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=dw();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),B_=function(){function e(){Ur(this,e),this.Fr=new z_,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Zr(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new z_,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),q_=function(){function e(){Ur(this,e)}return Zr(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),K_=function(){function e(){var t=this;Ur(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return Zr(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){jy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=qr(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){jy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=qr(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),W_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},H_=function(){function e(t){Ur(this,e),this.jr=t.jr,this.Wr=t.Wr}return Zr(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),G_=function(e){Kr(n,e);var t=$r(n);function n(e){var r;return Ur(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Zr(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Py;o.listenOnce(Ty.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Ey.NO_ERROR:var t=o.getResponseJson();jy("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ey.TIMEOUT:jy("Connection",'RPC "'+e+'" timed out'),a(new Wy(Ky.DEADLINE_EXCEEDED,"Request time out"));break;case Ey.HTTP_ERROR:var n=o.getStatus();if(jy("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ky).indexOf(t)>=0?t:Ky.UNKNOWN}(r.status);a(new Wy(u,r.message))}else a(new Wy(Ky.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Wy(Ky.UNAVAILABLE,"Connection failed."));break;default:Zy()}}finally{jy("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=_y(),a=Iy(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ny({})),this.uo(o.initMessageHeaders,t,n),ui()||li()||oi().indexOf("Electron/")>=0||fi()||oi().indexOf("MSAppHost/")>=0||ci()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");jy("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new H_({jr:function(e){l?jy("Connection","Not sending because WebChannel is closed:",e):(c||(jy("Connection","Opening WebChannel transport."),s.open(),c=!0),jy("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Oy.EventType.OPEN,(function(){l||jy("Connection","WebChannel transport opened.")})),h(s,Oy.EventType.CLOSE,(function(){l||(l=!0,jy("Connection","WebChannel transport closed"),f.eo())})),h(s,Oy.EventType.ERROR,(function(e){l||(l=!0,Uy("Connection","WebChannel transport errored:",e),f.eo(new Wy(Ky.UNAVAILABLE,"The operation could not be completed")))})),h(s,Oy.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];By(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){jy("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Hb[e];if(void 0!==t)return Jb(t)}(a),u=i.message;void 0===o&&(o=Ky.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Wy(o,u)),s.close()}else jy("Connection","WebChannel received:",n),f.no(n)}})),h(a,Cy.STAT_EVENT,(function(e){e.stat===Ay.PROXY?jy("Connection","Detected buffering proxy"):e.stat===Ay.NOPROXY&&jy("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){Ur(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Zr(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);jy("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return jy("RestConnection","Received: ",e),e}),(function(t){throw Uy("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ly,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=W_[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function Q_(){return"undefined"!=typeof window?window:null}function $_(){return"undefined"!=typeof document?document:null}function Y_(e){return new Iw(e,!0)}var X_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ur(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return Zr(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&jy("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),J_=function(){function e(t,n,r,i,a,o,u,s){Ur(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new X_(t,n)}return Zr(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Ky.RESOURCE_EXHAUSTED?(Vy(n.toString()),Vy("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Ky.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,bt.Z)(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Wy(Ky.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(Ai(Ti().mark((function t(){return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return jy("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(jy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),eI=function(e){Kr(n,e);var t=$r(n);function n(e,r,i,a,o,u){var s;return Ur(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return Zr(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zy()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(By(void 0===t||"string"==typeof t),$g.fromBase64String(t||"")):(By(void 0===t||t instanceof Uint8Array),$g.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Ky.UNKNOWN:Jb(e.code);return new Wy(t,e.message||"")}(o);n=new gw(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Dw(e,s.document.name),l=Aw(s.document.updateTime),f=new Nk({mapValue:{fields:s.document.fields}}),h=Pk.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new mw(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Dw(e,v.document),y=v.readTime?Aw(v.readTime):sg.min(),g=Pk.newNoDocument(m,y),k=v.removedTargetIds||[];n=new mw([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Dw(e,b.document),x=b.removedTargetIds||[];n=new mw([],x,w,null)}else{if(!("filter"in t))return Zy();t.filter;var S=t.filter;S.targetId;var _=S.count||0,I=new Yb(_),E=S.targetId;n=new yw(E,I)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return sg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?sg.min():t.readTime?Aw(t.readTime):sg.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Mw(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=Fk(r)?{documents:Bw(e,r)}:{query:qw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Tw(e,t.resumeToken):t.snapshotVersion.compareTo(sg.min())>0&&(n.readTime=Ew(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zy()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=Mw(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(J_),tI=function(e){Kr(n,e);var t=$r(n);function n(e,r,i,a,o,u){var s;return Ur(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return Zr(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,io(Wr(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(By(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(By(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Aw(e.updateTime):Aw(t);return n.isEqual(sg.min())&&(n=Aw(t)),new Db(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Aw(e.commitTime);return this.listener.Jo(n,t)}return By(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Mw(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return zw(t.wt,e)}))};this.Mo(n)}}]),n}(J_),nI=function(e){Kr(n,e);var t=$r(n);function n(e,r,i,a){var o;return Ur(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return Zr(n,[{key:"tu",value:function(){if(this.Zo)throw new Wy(Ky.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,bt.Z)(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ky.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Wy(Ky.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,bt.Z)(a,2),u=o[0],s=o[1];return i.bo.ao(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ky.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Wy(Ky.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return Zr((function e(){Ur(this,e)}))}()),rI=function(){function e(t,n){Ur(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return Zr(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Vy(t),this.su=!1):jy("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),iI=Zr((function e(t,n,r,i,a){var o=this;Ur(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=vI(o),!e.t0){e.next=5;break}return jy("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=qy(t)).lu.add(4),e.next=4,uI(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,aI(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new rI(r,i)}));function aI(e){return oI.apply(this,arguments)}function oI(){return oI=Ai(Ti().mark((function e(t){var n,r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!vI(t)){e.next=18;break}n=qr(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),oI.apply(this,arguments)}function uI(e){return sI.apply(this,arguments)}function sI(){return sI=Ai(Ti().mark((function e(t){var n,r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qr(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),sI.apply(this,arguments)}function cI(e,t){var n=qy(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),pI(n)?dI(n):qI(n).Co()&&fI(n,t))}function lI(e,t){var n=qy(e),r=qI(n);n.hu.delete(t),r.Co()&&hI(n,t),0===n.hu.size&&(r.Co()?r.ko():vI(n)&&n._u.set("Unknown"))}function fI(e,t){e.wu.Nt(t.targetId),qI(e).Qo(t)}function hI(e,t){e.wu.Nt(t),qI(e).jo(t)}function dI(e){e.wu=new bw({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),qI(e).start(),e._u.iu()}function pI(e){return vI(e)&&!qI(e).Do()&&e.hu.size>0}function vI(e){return 0===qy(e).lu.size}function mI(e){e.wu=void 0}function yI(e){return gI.apply(this,arguments)}function gI(){return gI=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){fI(t,e)}));case 1:case"end":return e.stop()}}),e)}))),gI.apply(this,arguments)}function kI(e,t){return bI.apply(this,arguments)}function bI(){return bI=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:mI(t),pI(t)?(t._u.uu(n),dI(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),bI.apply(this,arguments)}function wI(e,t,n){return xI.apply(this,arguments)}function xI(){return xI=Ai(Ti().mark((function e(t,n,r){var i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof gw&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ai(Ti().mark((function e(t,n){var r,i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=qr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),jy("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,SI(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof mw?t.wu.Ut(n):n instanceof yw?t.wu.zt(n):t.wu.Gt(n),r.isEqual(sg.min())){e.next=29;break}return e.prev=14,e.next=17,k_(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken($g.EMPTY_BYTE_STRING,n.snapshotVersion)),hI(e,t);var r=new Dx(n.target,t,1,n.sequenceNumber);fI(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),jy("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,SI(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),xI.apply(this,arguments)}function SI(e,t,n){return _I.apply(this,arguments)}function _I(){return _I=Ai(Ti().mark((function e(t,n,r){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pg(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,uI(t);case 5:t._u.set("Offline"),r||(r=function(){return k_(t.localStore)}),t.asyncQueue.enqueueRetryable(Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jy("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,aI(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),_I.apply(this,arguments)}function II(e,t){return t().catch((function(n){return SI(e,n,t)}))}function EI(e){return TI.apply(this,arguments)}function TI(){return TI=Ai(Ti().mark((function e(t){var n,r,i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qy(t),r=KI(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!CI(n)){e.next=19;break}return e.prev=3,e.next=6,x_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,AI(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,SI(n,e.t0);case 17:e.next=2;break;case 19:NI(n)&&OI(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),TI.apply(this,arguments)}function CI(e){return vI(e)&&e.au.length<10}function AI(e,t){e.au.push(t);var n=KI(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function NI(e){return vI(e)&&!KI(e).Do()&&e.au.length>0}function OI(e){KI(e).start()}function PI(e){return DI.apply(this,arguments)}function DI(){return DI=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:KI(t).Xo();case 1:case"end":return e.stop()}}),e)}))),DI.apply(this,arguments)}function RI(e){return LI.apply(this,arguments)}function LI(){return LI=Ai(Ti().mark((function e(t){var n,r,i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=KI(t),r=qr(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function MI(e,t,n){return FI.apply(this,arguments)}function FI(){return FI=Ai(Ti().mark((function e(t,n,r){var i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=Ox.from(i,n,r),e.next=3,II(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,EI(t);case 5:case"end":return e.stop()}}),e)}))),FI.apply(this,arguments)}function jI(e,t){return VI.apply(this,arguments)}function VI(){return VI=Ai(Ti().mark((function e(t,n){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&KI(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ai(Ti().mark((function e(t,n){var r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Xb(i=n.code)||i===Ky.ABORTED){e.next=7;break}return r=t.au.shift(),KI(t).No(),e.next=5,II(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,EI(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:NI(t)&&OI(t);case 5:case"end":return e.stop()}}),e)}))),VI.apply(this,arguments)}function UI(e,t){return zI.apply(this,arguments)}function zI(){return zI=Ai(Ti().mark((function e(t,n){var r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=qy(t)).asyncQueue.verifyOperationInProgress(),jy("RemoteStore","RemoteStore received new credentials"),i=vI(r),r.lu.add(3),e.next=6,uI(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,aI(r);case 12:case"end":return e.stop()}}),e)}))),zI.apply(this,arguments)}function ZI(e,t){return BI.apply(this,arguments)}function BI(){return BI=Ai(Ti().mark((function e(t,n){var r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qy(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,aI(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,uI(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),BI.apply(this,arguments)}function qI(e){return e.mu||(e.mu=function(e,t,n){var r=qy(e);return r.tu(),new eI(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:yI.bind(null,e),Jr:kI.bind(null,e),Go:wI.bind(null,e)}),e.fu.push(function(){var t=Ai(Ti().mark((function t(n){return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),pI(e)?dI(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:mI(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function KI(e){return e.gu||(e.gu=function(e,t,n){var r=qy(e);return r.tu(),new tI(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:PI.bind(null,e),Jr:jI.bind(null,e),Yo:RI.bind(null,e),Jo:MI.bind(null,e)}),e.fu.push(function(){var t=Ai(Ti().mark((function t(n){return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,EI(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(jy("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var WI=function(){function e(t,n,r,i,a){Ur(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Hy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Zr(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wy(Ky.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function HI(e,t){if(Vy("AsyncQueue","".concat(t,": ").concat(e)),Pg(e))return new Wy(Ky.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var GI=function(){function e(t){Ur(this,e),this.comparator=t?function(e,n){return t(e,n)||dg.comparator(e.key,n.key)}:function(e,t){return dg.comparator(e.key,t.key)},this.keyedMap=iw(),this.sortedSet=new Bg(this.comparator)}return Zr(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),QI=function(){function e(){Ur(this,e),this.yu=new Bg(dg.comparator)}return Zr(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Zy():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),$I=function(){function e(t,n,r,i,a,o,u,s){Ur(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Zr(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,GI.emptySet(n),a,r,i,!0,!1)}}]),e}(),YI=Zr((function e(){Ur(this,e),this.Iu=void 0,this.listeners=[]})),XI=Zr((function e(){Ur(this,e),this.queries=new ew((function(e){return fb(e)}),lb),this.onlineState="Unknown",this.Tu=new Set}));function JI(e,t){return eE.apply(this,arguments)}function eE(){return eE=Ai(Ti().mark((function e(t,n){var r,i,a,o,u;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qy(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new YI),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=HI(e.t0,"Initialization of query '".concat(hb(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&aE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),eE.apply(this,arguments)}function tE(e,t){return nE.apply(this,arguments)}function nE(){return nE=Ai(Ti().mark((function e(t,n){var r,i,a,o,u;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qy(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(e,t){var n,r=qy(e),i=!1,a=qr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=qr(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&aE(r)}function iE(e,t,n){var r=qy(e),i=r.queries.get(t);if(i){var a,o=qr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function aE(e){e.Tu.forEach((function(e){e.next()}))}var oE=function(){function e(t,n,r){Ur(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return Zr(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=qr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new $I(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=$I.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),uE=function(){function e(t,n){Ur(this,e),this.payload=t,this.byteLength=n}return Zr(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),sE=function(){function e(t){Ur(this,e),this.wt=t}return Zr(e,[{key:"Wi",value:function(e){return Dw(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?Vw(this.wt,e.document,!1):Pk.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return Aw(e)}}]),e}(),cE=function(){function e(t,n,r){Ur(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lE(t)}return Zr(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=lg.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new sE(this.wt),i=qr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=qr(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||fw()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ai(Ti().mark((function e(){var t,n,r,i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N_(this.localStore,new sE(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=qr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,P_(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function lE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var fE=Zr((function e(t){Ur(this,e),this.key=t})),hE=Zr((function e(t){Ur(this,e),this.key=t})),dE=function(){function e(t,n){Ur(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=fw(),this.mutatedKeys=fw(),this.Lu=vb(t),this.Uu=new GI(this.Lu)}return Zr(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new QI,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=db(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zy()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new $I(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new QI,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=fw(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new hE(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new fE(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=fw();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return $I.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),pE=Zr((function e(t,n,r){Ur(this,e),this.query=t,this.targetId=n,this.view=r})),vE=Zr((function e(t){Ur(this,e),this.key=t,this.Xu=!1})),mE=function(){function e(t,n,r,i,a,o){Ur(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new ew((function(e){return fb(e)}),lb),this.ec=new Map,this.nc=new Set,this.sc=new Bg(dg.comparator),this.ic=new Map,this.rc=new $S,this.oc={},this.uc=new Map,this.cc=ES.Rn(),this.onlineState="Unknown",this.ac=void 0}return Zr(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function yE(e,t){return gE.apply(this,arguments)}function gE(){return gE=Ai(Ti().mark((function e(t,n){var r,i,a,o,u,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lT(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,S_(r.localStore,sb(n));case 8:return u=e.sent,r.isPrimaryClient&&cI(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,kE(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t,n,r){return bE.apply(this,arguments)}function bE(){return bE=Ai(Ti().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=Ai(Ti().mark((function e(t,n,r,i){var a,o,u;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,E_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(UE(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,E_(t.localStore,n,!0);case 3:return a=e.sent,o=new dE(n,a.ji),u=o.Ku(a.documents),s=vw.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),UE(t,r,c.zu),l=new pE(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t){return xE.apply(this,arguments)}function xE(){return xE=Ai(Ti().mark((function e(t,n){var r,i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qy(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!lb(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,__(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),lI(r.remoteStore,i.targetId),jE(r,i.targetId)})).catch(Ig);case 9:e.next=14;break;case 11:return jE(r,i.targetId),e.next=14,__(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function SE(e,t,n){return _E.apply(this,arguments)}function _E(){return _E=Ai(Ti().mark((function e(t,n,r){var i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fT(t),e.prev=1,e.next=4,function(e,t){var n,r,i=qy(e),a=ug.now(),o=t.reduce((function(e,t){return e.add(t.key)}),fw());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=nw(),s=fw();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=qr(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Ub(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Bb(c.key,l,Ok(l.value.mapValue),Rb.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:aw(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Bg(ig)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,BE(i,a.changes);case 9:return e.next=11,EI(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=HI(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),_E.apply(this,arguments)}function IE(e,t){return EE.apply(this,arguments)}function EE(){return EE=Ai(Ti().mark((function e(t,n){var r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qy(t),e.prev=1,e.next=4,b_(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(By(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?By(n.Xu):e.removedDocuments.size>0&&(By(n.Xu),n.Xu=!1))})),e.next=8,BE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Ig(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),EE.apply(this,arguments)}function TE(e,t,n){var r=qy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=qy(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=qr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&aE(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function CE(e,t,n){return AE.apply(this,arguments)}function AE(){return AE=Ai(Ti().mark((function e(t,n,r){var i,a,o,u,s,c;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=qy(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Bg(dg.comparator)).insert(o,Pk.newNoDocument(o,sg.min())),s=fw().add(o),c=new pw(sg.min(),new Map,new Wg(ig),u,s),e.next=9,IE(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),ZE(i),e.next=16;break;case 14:return e.next=16,__(i.localStore,n,!1).then((function(){return jE(i,n,r)})).catch(Ig);case 16:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}function NE(e,t){return OE.apply(this,arguments)}function OE(){return OE=Ai(Ti().mark((function e(t,n){var r,i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qy(t),i=n.batch.batchId,e.prev=1,e.next=4,g_(r.localStore,n);case 4:return a=e.sent,FE(r,i,null),ME(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,BE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ig(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),OE.apply(this,arguments)}function PE(e,t,n){return DE.apply(this,arguments)}function DE(){return DE=Ai(Ti().mark((function e(t,n,r){var i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qy(t),e.prev=1,e.next=4,function(e,t){var n=qy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return By(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,FE(i,n,r),ME(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,BE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Ig(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),DE.apply(this,arguments)}function RE(e,t){return LE.apply(this,arguments)}function LE(){return LE=Ai(Ti().mark((function e(t,n){var r,i,a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vI((r=qy(t)).remoteStore)||jy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=qy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=HI(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),LE.apply(this,arguments)}function ME(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function FE(e,t,n){var r=qy(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function jE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=qr(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||VE(e,t)}))}function VE(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(lI(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),ZE(e))}function UE(e,t,n){var r,i=qr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof fE?(e.rc.addReference(a.key,t),zE(e,a)):a instanceof hE?(jy("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||VE(e,a.key)):Zy()}}catch(o){i.e(o)}finally{i.f()}}function zE(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(jy("SyncEngine","New document in limbo: "+n),e.nc.add(r),ZE(e))}function ZE(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new dg(lg.fromString(t)),r=e.cc.next();e.ic.set(r,new vE(n)),e.sc=e.sc.insert(n,r),cI(e.remoteStore,new Dx(sb(rb(n.path)),r,2,Vg.ot))}}function BE(e,t,n){return qE.apply(this,arguments)}function qE(){return qE=Ai(Ti().mark((function e(t,n,r){var i,a,o,u;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=qy(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=h_.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=Ai(Ti().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qy(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Tg.forEach(n,(function(t){return Tg.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Tg.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Pg(e.t0)){e.next=10;break}throw e.t0;case 10:jy("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=qr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),qE.apply(this,arguments)}function KE(e,t){return WE.apply(this,arguments)}function WE(){return WE=Ai(Ti().mark((function e(t,n){var r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=qy(t)).currentUser.isEqual(n)){e.next=11;break}return jy("SyncEngine","User change. New user:",n.toKey()),e.next=5,m_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new Wy(Ky.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,BE(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function HE(e,t){var n=qy(e),r=n.ic.get(t);if(r&&r.Xu)return fw().add(r.key);var i=fw(),a=n.ec.get(t);if(!a)return i;var o,u=qr(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function GE(e,t){return QE.apply(this,arguments)}function QE(){return QE=Ai(Ti().mark((function e(t,n){var r,i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qy(t),e.next=3,E_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&UE(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),QE.apply(this,arguments)}function $E(e,t){return YE.apply(this,arguments)}function YE(){return YE=Ai(Ti().mark((function e(t,n){var r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qy(t),e.abrupt("return",C_(r.localStore,n).then((function(e){return BE(r,e)})));case 2:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}function XE(e,t,n,r){return JE.apply(this,arguments)}function JE(){return JE=Ai(Ti().mark((function e(t,n,r,i){var a,o;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qy(t),e.next=3,function(e,t){var n=qy(e),r=qy(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Tg.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,EI(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(FE(a,n,i||null),ME(a,n),function(e,t){qy(qy(e).mutationQueue).In(t)}(a.localStore,n)):Zy();case 11:return e.next=13,BE(a,o);case 13:e.next=16;break;case 15:jy("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),JE.apply(this,arguments)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=Ai(Ti().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lT(r=qy(t)),fT(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,nT(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,ZI(r.remoteStore,!0);case 9:o=qr(a);try{for(o.s();!(u=o.n()).done;)s=u.value,cI(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return jE(r,t),__(r.localStore,t,!0)})),lI(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,nT(r,c);case 21:return function(e){var t=qy(e);t.ic.forEach((function(e,n){lI(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new Bg(dg.comparator)}(r),r.ac=!1,e.next=25,ZI(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t,n){return rT.apply(this,arguments)}function rT(){return rT=Ai(Ti().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=qy(t),a=[],o=[],u=qr(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,S_(i.localStore,sb(f[0]));case 11:l=e.sent,h=qr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,GE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,T_(i.localStore,c);case 36:return y=e.sent,e.next=39,S_(i.localStore,y);case 39:return l=e.sent,e.next=42,kE(i,iT(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),rT.apply(this,arguments)}function iT(e){return nb(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function aT(e){var t=qy(e);return qy(qy(t.localStore).persistence).Ri()}function oT(e,t,n,r){return uT.apply(this,arguments)}function uT(){return uT=Ai(Ti().mark((function e(t,n,r,i){var a,o,u,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=qy(t)).ac){e.next=3;break}return e.abrupt("return",void jy("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,C_(a.localStore,pb(o[0]));case 10:return u=e.sent,s=pw.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,BE(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,__(a.localStore,n,!0);case 17:return jE(a,n,i),e.abrupt("break",20);case 19:Zy();case 20:case"end":return e.stop()}}),e)}))),uT.apply(this,arguments)}function sT(e,t,n){return cT.apply(this,arguments)}function cT(){return cT=Ai(Ti().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=lT(t)).ac){e.next=45;break}a=qr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return jy("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,T_(i.localStore,u);case 12:return s=e.sent,e.next=15,S_(i.localStore,s);case 15:return c=e.sent,e.next=18,kE(i,iT(s),c.targetId,!1);case 18:cI(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=qr(r),e.prev=30,h=Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,__(i.localStore,t,!1).then((function(){lI(i.remoteStore,t),jE(i,t)})).catch(Ig);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),cT.apply(this,arguments)}function lT(e){var t=qy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=IE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CE.bind(null,t),t.Zu.Go=rE.bind(null,t.eventManager),t.Zu.lc=iE.bind(null,t.eventManager),t}function fT(e){var t=qy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=PE.bind(null,t),t}function hT(e,t,n){var r=qy(e);(function(){var e=Ai(Ti().mark((function e(t,n,r){var i,a,o,u,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=qy(e),r=Aw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(lE(i)),a=new cE(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,BE(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=qy(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Uy("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var dT=function(){function e(){Ur(this,e),this.synchronizeTabs=!1}return Zr(e,[{key:"initialize",value:function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=Y_(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return v_(this.persistence,new d_,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new n_(i_.Ms,this.wt)}},{key:"dc",value:function(e){return new B_}},{key:"terminate",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),pT=function(e){Kr(n,e);var t=$r(n);function n(e,r,i){var a;return Ur(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Zr(n,[{key:"initialize",value:function(){var e=Ai(Ti().mark((function e(t){var r=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io(Wr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,fT(this.yc.syncEngine);case 6:return e.next=8,EI(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return v_(this.persistence,new d_,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new DS(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new jg(t,this.persistence);return new Fg(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=f_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gS.withCacheSize(this.cacheSizeBytes):gS.DEFAULT;return new s_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Q_(),$_(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new B_}}]),n}(dT),vT=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Zr(n,[{key:"initialize",value:function(){var e=Ai(Ti().mark((function e(t){var r,i=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io(Wr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof Z_,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:XE.bind(null,r),Or:oT.bind(null,r),Mr:sT.bind(null,r),Ri:aT.bind(null,r),Nr:$E.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eT(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=Q_();if(!Z_.V(t))throw new Wy(Ky.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=f_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Z_(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(pT),mT=function(){function e(){Ur(this,e)}return Zr(e,[{key:"initialize",value:function(){var e=Ai(Ti().mark((function e(t,n){var r=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return TE(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=KE.bind(null,this.syncEngine),e.next=12,ZI(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new XI}},{key:"createDatastore",value:function(e){var t,n=Y_(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new G_(t));return function(e,t,n,r){return new nI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return TE(o.syncEngine,e,0)},a=K_.V()?new K_:new q_,new iI(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new mE(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qy(t),jy("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,uI(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function yT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ai(Ti().mark((function r(){var i;return Ti().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var gT=function(){function e(t){Ur(this,e),this.observer=t,this.muted=!1}return Zr(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),kT=function(){function e(t,n){var r=this;Ur(this,e),this.Ec=t,this.wt=n,this.metadata=new Hy,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Zr(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=Ai(Ti().mark((function e(){var t,n,r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new uE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=Ai(Ti().mark((function e(){var t,n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=Ai(Ti().mark((function e(){var t,n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),bT=function(){function e(t){Ur(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Zr(e,[{key:"lookup",value:function(){var e=Ai(Ti().mark((function e(t){var n,r=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Wy(Ky.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ai(Ti().mark((function e(t,n){var r,i,a,o,u,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qy(t),i=Mw(r.wt)+"/documents",a={documents:n.map((function(e){return Pw(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Uw(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());By(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Qb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ai(Ti().mark((function e(){var t,n=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=dg.fromPath(t);n.mutations.push(new $b(r,n.precondition(r)))})),e.next=7,function(){var e=Ai(Ti().mark((function e(t,n){var r,i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qy(t),i=Mw(r.wt)+"/documents",a={writes:n.map((function(e){return zw(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Zy();t=sg.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Wy(Ky.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Rb.updateTime(t):Rb.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(sg.min()))throw new Wy(Ky.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rb.updateTime(t)}return Rb.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),wT=function(){function e(t,n,r,i,a){Ur(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new X_(this.asyncQueue,"transaction_retry")}return Zr(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(Ai(Ti().mark((function t(){var n,r;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new bT(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!ok(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Xb(t)}return!1}}]),e}(),xT=function(){function e(t,n,r,i){var a=this;Ur(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ry.UNAUTHENTICATED,this.clientId=rg.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jy("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return jy("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Zr(e,[{key:"getConfiguration",value:function(){var e=Ai(Ti().mark((function e(){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Wy(Ky.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Hy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ai(Ti().mark((function n(){var r;return Ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=HI(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ST(e,t){return _T.apply(this,arguments)}function _T(){return _T=Ai(Ti().mark((function e(t,n){var r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),jy("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,m_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),_T.apply(this,arguments)}function IT(e,t){return ET.apply(this,arguments)}function ET(){return ET=Ai(Ti().mark((function e(t,n){var r,i;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,TT(t);case 3:return r=e.sent,jy("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return UI(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return UI(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}function TT(e){return CT.apply(this,arguments)}function CT(){return CT=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return jy("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ST(t,new dT);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),CT.apply(this,arguments)}function AT(e){return NT.apply(this,arguments)}function NT(){return NT=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return jy("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,IT(t,new mT);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),NT.apply(this,arguments)}function OT(e){return TT(e).then((function(e){return e.persistence}))}function PT(e){return TT(e).then((function(e){return e.localStore}))}function DT(e){return AT(e).then((function(e){return e.remoteStore}))}function RT(e){return AT(e).then((function(e){return e.syncEngine}))}function LT(e){return MT.apply(this,arguments)}function MT(){return MT=Ai(Ti().mark((function e(t){var n,r;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=yE.bind(null,n.syncEngine),r.onUnlisten=wE.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),MT.apply(this,arguments)}function FT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Hy;return e.asyncQueue.enqueueAndForget(Ai(Ti().mark((function i(){return Ti().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new gT({next:function(a){t.enqueueAndForget((function(){return tE(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Wy(Ky.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Wy(Ky.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new oE(rb(n.path),a,{includeMetadataChanges:!0,Du:!0});return JI(e,o)},i.next=3,LT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function jT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Hy;return e.asyncQueue.enqueueAndForget(Ai(Ti().mark((function i(){return Ti().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new gT({next:function(n){t.enqueueAndForget((function(){return tE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Wy(Ky.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new oE(n,a,{includeMetadataChanges:!0,Du:!0});return JI(e,o)},i.next=3,LT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var VT=new Map;function UT(e,t,n){if(!n)throw new Wy(Ky.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function zT(e,t,n,r){if(!0===t&&!0===r)throw new Wy(Ky.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ZT(e){if(!dg.isDocumentKey(e))throw new Wy(Ky.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function BT(e){if(dg.isDocumentKey(e))throw new Wy(Ky.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function qT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Zy()}function KT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Wy(Ky.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=qT(e);throw new Wy(Ky.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function WT(e,t){if(t<=0)throw new Wy(Ky.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var HT=function(){function e(t){var n;if(Ur(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Wy(Ky.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Wy(Ky.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,zT("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Zr(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),GT=function(){function e(t,n,r){Ur(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HT({}),this._settingsFrozen=!1,t instanceof ak?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Wy(Ky.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ak(e.options.projectId)}(t))}return Zr(e,[{key:"app",get:function(){if(!this._app)throw new Wy(Ky.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Wy(Ky.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Qy;switch(e.type){case"gapi":var t=e.client;return By(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Jy(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Wy(Ky.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=VT.get(e);t&&(jy("ComponentProvider","Removing Datastore"),VT.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function QT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=KT(e,GT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Uy("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Ry.MOCK_USER;else{o=ai(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Wy(Ky.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ry(s)}e._authCredentials=new $y(new Gy(o,u))}}var $T=function(){function e(t,n,r){Ur(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Zr(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new XT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),YT=function(){function e(t,n,r){Ur(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Zr(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),XT=function(e){Kr(n,e);var t=$r(n);function n(e,r,i){var a;return Ur(this,n),(a=t.call(this,e,r,rb(i)))._path=i,a.type="collection",a}return Zr(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new $T(this.firestore,null,new dg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(YT);function JT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ei(e),UT("collection","path",t),e instanceof GT){var a=lg.fromString.apply(lg,[t].concat(r));return BT(a),new XT(e,null,a)}if(!(e instanceof $T||e instanceof XT))throw new Wy(Ky.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lg.fromString.apply(lg,[t].concat(r)));return BT(o),new XT(e.firestore,null,o)}function eC(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ei(e),1===arguments.length&&(t=rg.I()),UT("doc","path",t),e instanceof GT){var a=lg.fromString.apply(lg,[t].concat(r));return ZT(a),new $T(e,null,new dg(a))}if(!(e instanceof $T||e instanceof XT))throw new Wy(Ky.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(lg.fromString.apply(lg,[t].concat(r)));return ZT(o),new $T(e.firestore,e instanceof XT?e.converter:null,new dg(o))}function tC(e,t){return e=Ei(e),t=Ei(t),(e instanceof $T||e instanceof XT)&&(t instanceof $T||t instanceof XT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function nC(e,t){return e=Ei(e),t=Ei(t),e instanceof YT&&t instanceof YT&&e.firestore===t.firestore&&lb(e._query,t._query)&&e.converter===t.converter}var rC=function(){function e(){var t=this;Ur(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new X_(this,"async_queue_retry"),this.Kc=function(){var e=$_();e&&jy("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=$_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return Zr(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=$_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Hy;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=Ai(Ti().mark((function e(){var t=this;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Pg(e.t0)){e.next=12;break}throw e.t0;case 12:jy("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Vy("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=WI.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Zy()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Ai(Ti().mark((function e(){var t;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=qr(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=qr(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function iC(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=qr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var aC=function(){function e(){Ur(this,e),this._progressObserver={},this._taskCompletionResolver=new Hy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Zr(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),oC=function(e){Kr(n,e);var t=$r(n);function n(e,r,i){var a;return Ur(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new rC,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Zr(n,[{key:"_terminate",value:function(){return this._firestoreClient||sC(this),this._firestoreClient.terminate()}}]),n}(GT);function uC(e){return e._firestoreClient||sC(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function sC(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ik(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new xT(e._authCredentials,e._appCheckCredentials,e._queue,r)}function cC(e,t,n){var r=new Hy;return e.asyncQueue.enqueue(Ai(Ti().mark((function i(){var a;return Ti().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ST(e,n);case 3:return i.next=5,IT(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Ky.FAILED_PRECONDITION||e.code===Ky.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function lC(e){return function(e){return e.asyncQueue.enqueue(Ai(Ti().mark((function t(){var n,r;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,OT(e);case 2:return n=t.sent,t.next=5,DT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=qy(e);return t.lu.delete(0),aI(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(uC(e=KT(e,oC)))}function fC(e){return function(e){return e.asyncQueue.enqueue(Ai(Ti().mark((function t(){var n,r;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,OT(e);case 2:return n=t.sent,t.next=5,DT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=qy(t)).lu.add(0),e.next=4,uI(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(uC(e=KT(e,oC)))}function hC(e,t){var n=uC(e=KT(e,oC)),r=new aC;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new kT(e,t)}(function(e,t){if(e instanceof Uint8Array)return yT(e,t);if(e instanceof ArrayBuffer)return yT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Y_(t));e.asyncQueue.enqueueAndForget(Ai(Ti().mark((function t(){return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=hT,t.next=3,RT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function dC(e,t){return function(e,t){return e.asyncQueue.enqueue(Ai(Ti().mark((function n(){return Ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=qy(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,PT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(uC(e=KT(e,oC)),t).then((function(t){return t?new YT(e,null,t.query):null}))}function pC(e){if(e._initialized||e._terminated)throw new Wy(Ky.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var vC=function(){function e(){Ur(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Wy(Ky.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hg(n)}return Zr(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var mC=function(){function e(t){Ur(this,e),this._byteString=t}return Zr(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e($g.fromBase64String(t))}catch(t){throw new Wy(Ky.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e($g.fromUint8Array(t))}}]),e}(),yC=Zr((function e(t){Ur(this,e),this._methodName=t})),gC=function(){function e(t,n){if(Ur(this,e),!isFinite(t)||t<-90||t>90)throw new Wy(Ky.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Wy(Ky.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Zr(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return ig(this._lat,e._lat)||ig(this._long,e._long)}}]),e}(),kC=/^__.*__$/,bC=function(){function e(t,n,r){Ur(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Zr(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Bb(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zb(e,this.data,t,this.fieldTransforms)}}]),e}(),wC=function(){function e(t,n,r){Ur(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Zr(e,[{key:"toMutation",value:function(e,t){return new Bb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function xC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zy()}}var SC=function(){function e(t,n,r,i,a,o){Ur(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Zr(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return BC(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(xC(this.Zc)&&kC.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),_C=function(){function e(t,n,r){Ur(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||Y_(t)}return Zr(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new SC({Zc:e,methodName:t,ca:n,path:hg.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function IC(e){var t=e._freezeSettings(),n=Y_(e._databaseId);return new _C(e._databaseId,!!t.ignoreUndefinedProperties,n)}function EC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);VC("Data must be an object, but it was:",o,r);var u,s,c=FC(r,o);if(a.merge)u=new Qg(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=qr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=UC(t,d,n);if(!o.contains(p))throw new Wy(Ky.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));qC(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Qg(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new bC(new Nk(c),u,s)}var TC=function(e){Kr(n,e);var t=$r(n);function n(){return Ur(this,n),t.apply(this,arguments)}return Zr(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(yC);function CC(e,t,n){return new SC({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var AC=function(e){Kr(n,e);var t=$r(n);function n(){return Ur(this,n),t.apply(this,arguments)}return Zr(n,[{key:"_toFieldTransform",value:function(e){return new Pb(e.path,new _b)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(yC),NC=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this,e)).ha=r,i}return Zr(n,[{key:"_toFieldTransform",value:function(e){var t=CC(this,e,!0),n=this.ha.map((function(e){return MC(e,t)})),r=new Ib(n);return new Pb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yC),OC=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this,e)).ha=r,i}return Zr(n,[{key:"_toFieldTransform",value:function(e){var t=CC(this,e,!0),n=this.ha.map((function(e){return MC(e,t)})),r=new Tb(n);return new Pb(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yC),PC=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this,e)).la=r,i}return Zr(n,[{key:"_toFieldTransform",value:function(e){var t=new Ab(e.wt,kb(e.wt,this.la));return new Pb(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yC);function DC(e,t,n,r){var i=e.aa(1,t,n);VC("Data must be an object, but it was:",i,r);var a=[],o=Nk.empty();zg(r,(function(e,r){var u=ZC(t,e,n);r=Ei(r);var s=i.ia(u);if(r instanceof TC)a.push(u);else{var c=MC(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Qg(a);return new wC(o,u,i.fieldTransforms)}function RC(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[UC(t,r,n)],s=[i];if(a.length%2!=0)throw new Wy(Ky.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(UC(t,a[c])),s.push(a[c+1]);for(var l=[],f=Nk.empty(),h=u.length-1;h>=0;--h)if(!qC(l,u[h])){var d=u[h],p=s[h];p=Ei(p);var v=o.ia(d);if(p instanceof TC)l.push(d);else{var m=MC(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Qg(l);return new wC(f,y,o.fieldTransforms)}function LC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return MC(n,e.aa(r?4:3,t))}function MC(e,t){if(jC(e=Ei(e)))return VC("Unsupported field value:",t,e),FC(e,t);if(e instanceof yC)return function(e,t){if(!xC(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=qr(e);try{for(a.s();!(n=a.n()).done;){var o=MC(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ei(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return kb(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ug.fromDate(e);return{timestampValue:Ew(t.wt,n)}}if(e instanceof ug){var r=new ug(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ew(t.wt,r)}}if(e instanceof gC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mC)return{bytesValue:Tw(t.wt,e._byteString)};if(e instanceof $T){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Nw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(qT(e)))}(e,t)}function FC(e,t){var n={};return Zg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zg(e,(function(e,r){var i=MC(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function jC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ug||e instanceof gC||e instanceof mC||e instanceof $T||e instanceof yC)}function VC(e,t,n){if(!jC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=qT(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function UC(e,t,n){if((t=Ei(t))instanceof vC)return t._internalPath;if("string"==typeof t)return ZC(e,t);throw BC("Field path arguments must be of type string or ",e,!1,void 0,n)}var zC=new RegExp("[~\\*/\\[\\]]");function ZC(e,t,n){if(t.search(zC)>=0)throw BC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Yr(vC,(0,yn.Z)(t.split(".")))._internalPath}catch(L){throw BC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function BC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Wy(Ky.INVALID_ARGUMENT,u+e+s)}function qC(e,t){return e.some((function(e){return e.isEqual(t)}))}var KC=function(){function e(t,n,r,i,a){Ur(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Zr(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new $T(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new WC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(HC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),WC=function(e){Kr(n,e);var t=$r(n);function n(){return Ur(this,n),t.apply(this,arguments)}return Zr(n,[{key:"data",value:function(){return io(Wr(n.prototype),"data",this).call(this)}}]),n}(KC);function HC(e,t){return"string"==typeof t?ZC(e,t):t instanceof vC?t._internalPath:t._delegate._internalPath}var GC=function(){function e(t,n){Ur(this,e),this.hasPendingWrites=t,this.fromCache=n}return Zr(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),QC=function(e){Kr(n,e);var t=$r(n);function n(e,r,i,a,o,u){var s;return Ur(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Zr(n,[{key:"exists",value:function(){return io(Wr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new $C(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(HC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(KC),$C=function(e){Kr(n,e);var t=$r(n);function n(){return Ur(this,n),t.apply(this,arguments)}return Zr(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return io(Wr(n.prototype),"data",this).call(this,e)}}]),n}(QC),YC=function(){function e(t,n,r,i){Ur(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new GC(i.hasPendingWrites,i.fromCache),this.query=r}return Zr(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new $C(n._firestore,n._userDataWriter,r.key,r,new GC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Wy(Ky.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new $C(e._firestore,e._userDataWriter,t.doc.key,t.doc,new GC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new $C(e._firestore,e._userDataWriter,t.doc.key,t.doc,new GC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:XC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function XC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zy()}}function JC(e,t){return e instanceof QC&&t instanceof QC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof YC&&t instanceof YC&&e._firestore===t._firestore&&nC(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function eA(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Wy(Ky.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tA=Zr((function e(){Ur(this,e)}));function nA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var rA=function(e){Kr(n,e);var t=$r(n);function n(e,r,i){var a;return Ur(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return Zr(n,[{key:"_apply",value:function(e){var t=IC(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Wy(Ky.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){pA(o,a);var s,c=[],l=qr(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(dA(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=dA(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||pA(o,a),u=LC(n,"where",o,"in"===a||"not-in"===a);var h=zk.create(i,a,u);return function(e,t){if(t.ht()){var n=ab(e);if(null!==n&&!n.isEqual(t.field))throw new Wy(Ky.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=ib(e);null!==r&&vA(e,t.field,r)}var i=function(e,t){var n,r=qr(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Wy(Ky.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Wy(Ky.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new YT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new tb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(tA);var iA=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return Zr(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Wy(Ky.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Wy(Ky.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Yk(t,n);return function(e,t){if(null===ib(e)){var n=ab(e);null!==n&&vA(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new YT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new tb(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(tA);var aA=function(e){Kr(n,e);var t=$r(n);function n(e,r,i){var a;return Ur(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return Zr(n,[{key:"_apply",value:function(e){return new YT(e.firestore,e.converter,cb(e._query,this.ma,this.ga))}}]),n}(tA);var oA=function(e){Kr(n,e);var t=$r(n);function n(e,r,i){var a;return Ur(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Zr(n,[{key:"_apply",value:function(e){var t=hA(e,this.type,this.ya,this.pa);return new YT(e.firestore,e.converter,function(e,t){return new tb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(tA);function uA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oA("startAt",t,!0)}function sA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oA("startAfter",t,!1)}var cA=function(e){Kr(n,e);var t=$r(n);function n(e,r,i){var a;return Ur(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return Zr(n,[{key:"_apply",value:function(e){var t=hA(e,this.type,this.ya,this.pa);return new YT(e.firestore,e.converter,function(e,t){return new tb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(tA);function lA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cA("endBefore",t,!1)}function fA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cA("endAt",t,!0)}function hA(e,t,n,r){if(n[0]=Ei(n[0]),n[0]instanceof KC)return function(e,t,n,r,i){if(!r)throw new Wy(Ky.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=qr(ub(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(gk(t,r.key));else{var c=r.data.field(s.field);if(tk(c))throw new Wy(Ky.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Wy(Ky.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new $k(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=IC(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Wy(Ky.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Wy(Ky.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ob(e)&&-1!==c.indexOf("/"))throw new Wy(Ky.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(lg.fromString(c));if(!dg.isDocumentKey(l))throw new Wy(Ky.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new dg(l);u.push(gk(t,f))}else{var h=LC(n,r,c);u.push(h)}}return new $k(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function dA(e,t,n){if("string"==typeof(n=Ei(n))){if(""===n)throw new Wy(Ky.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ob(t)&&-1!==n.indexOf("/"))throw new Wy(Ky.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(lg.fromString(n));if(!dg.isDocumentKey(r))throw new Wy(Ky.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return gk(e,new dg(r))}if(n instanceof $T)return gk(e,n._key);throw new Wy(Ky.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(qT(n),"."))}function pA(e,t){if(!Array.isArray(e)||0===e.length)throw new Wy(Ky.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Wy(Ky.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function vA(e,t,n){if(!n.isEqual(t))throw new Wy(Ky.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var mA={maxAttempts:5},yA=function(){function e(){Ur(this,e)}return Zr(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(fk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ek(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zy()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return zg(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new gC(Jg(e.latitude),Jg(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=nk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rk(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Xg(e);return new ug(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=lg.fromString(e);By(ex(n));var r=new ak(n.get(1),n.get(3)),i=new dg(n.popFirst(5));return r.isEqual(t)||Vy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function gA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var kA=function(e){Kr(n,e);var t=$r(n);function n(e){var r;return Ur(this,n),(r=t.call(this)).firestore=e,r}return Zr(n,[{key:"convertBytes",value:function(e){return new mC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $T(this.firestore,null,t)}}]),n}(yA),bA=function(){function e(t,n){Ur(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=IC(t)}return Zr(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=wA(e,this._firestore),i=gA(r.converter,t,n),a=EC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Rb.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=wA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ei(t))||t instanceof vC?RC(this._dataReader,"WriteBatch.update",i._key,t,n,o):DC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Rb.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=wA(e,this._firestore);return this._mutations=this._mutations.concat(new Qb(t._key,Rb.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Wy(Ky.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function wA(e,t){if((e=Ei(e)).firestore!==t)throw new Wy(Ky.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var xA=function(e){Kr(n,e);var t=$r(n);function n(e){var r;return Ur(this,n),(r=t.call(this)).firestore=e,r}return Zr(n,[{key:"convertBytes",value:function(e){return new mC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new $T(this.firestore,null,t)}}]),n}(yA);function SA(e){e=KT(e,$T);var t=KT(e.firestore,oC),n=uC(t),r=new xA(t);return function(e,t){var n=new Hy;return e.asyncQueue.enqueueAndForget(Ai(Ti().mark((function r(){return Ti().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ai(Ti().mark((function e(t,n,r){var i,a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=qy(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Wy(Ky.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=HI(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,PT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new QC(t,r,e._key,n,new GC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function _A(e){e=KT(e,YT);var t=KT(e.firestore,oC),n=uC(t),r=new xA(t);return function(e,t){var n=new Hy;return e.asyncQueue.enqueueAndForget(Ai(Ti().mark((function r(){return Ti().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ai(Ti().mark((function e(t,n,r){var i,a,o,u,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E_(t,n,!0);case 3:i=e.sent,a=new dE(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=HI(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,PT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new YC(t,r,e,n)}))}function IA(e,t,n){e=KT(e,$T);var r=KT(e.firestore,oC),i=gA(e.converter,t,n);return AA(r,[EC(IC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Rb.none())])}function EA(e,t,n){e=KT(e,$T);for(var r=KT(e.firestore,oC),i=IC(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return AA(r,[("string"==typeof(t=Ei(t))||t instanceof vC?RC(i,"updateDoc",e._key,t,n,o):DC(i,"updateDoc",e._key,t)).toMutation(e._key,Rb.exists(!0))])}function TA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ei(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||iC(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(iC(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof $T)l=KT(e.firestore,oC),f=rb(e._key.path),c={next:function(t){n[s]&&n[s](NA(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=KT(e,YT);l=KT(p.firestore,oC),f=p._query;var v=new xA(l);c={next:function(e){n[s]&&n[s](new YC(l,v,p,e))},error:n[s+1],complete:n[s+2]},eA(e._query)}return function(e,t,n,r){var i=new gT(r),a=new oE(t,i,n);return e.asyncQueue.enqueueAndForget(Ai(Ti().mark((function t(){return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=JI,t.next=3,LT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(Ai(Ti().mark((function t(){return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tE,t.next=3,LT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(uC(l),f,h,c)}function CA(e,t){return function(e,t){var n=new gT(t);return e.asyncQueue.enqueueAndForget(Ai(Ti().mark((function t(){return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){qy(e).Tu.add(t),t.next()},t.next=3,LT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(Ai(Ti().mark((function t(){return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){qy(e).Tu.delete(t)},t.next=3,LT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(uC(e=KT(e,oC)),iC(t)?t:{next:t})}function AA(e,t){return function(e,t){var n=new Hy;return e.asyncQueue.enqueueAndForget(Ai(Ti().mark((function r(){return Ti().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=SE,r.next=3,RT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(uC(e),t)}function NA(e,t,n){var r=n.docs.get(t._key),i=new xA(e);return new QC(e,i,t._key,r,new GC(n.hasPendingWrites,n.fromCache),t.converter)}var OA=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this,e,r))._firestore=e,i}return Zr(n,[{key:"get",value:function(e){var t=this,r=wA(e,this._firestore),i=new xA(this._firestore);return io(Wr(n.prototype),"get",this).call(this,e).then((function(e){return new QC(t._firestore,i,r._key,e._document,new GC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ur(this,e),this._firestore=t,this._transaction=n,this._dataReader=IC(t)}return Zr(e,[{key:"get",value:function(e){var t=this,n=wA(e,this._firestore),r=new kA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Zy();var i=e[0];if(i.isFoundDocument())return new KC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new KC(t._firestore,r,n._key,null,n.converter);throw Zy()}))}},{key:"set",value:function(e,t,n){var r=wA(e,this._firestore),i=gA(r.converter,t,n),a=EC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=wA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ei(t))||t instanceof vC?RC(this._dataReader,"Transaction.update",i._key,t,n,o):DC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=wA(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function PA(e,t,n){e=KT(e,oC);var r=Object.assign(Object.assign({},mA),n);return function(e){if(e.maxAttempts<1)throw new Wy(Ky.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Hy;return e.asyncQueue.enqueueAndForget(Ai(Ti().mark((function i(){var a;return Ti().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return AT(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new wT(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(uC(e),(function(n){return t(new OA(e,n))}),r)}function DA(){return new AC("serverTimestamp")}function RA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new NC("arrayUnion",t)}function LA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new OC("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Ly=e}(Sa),ma(new Ni("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new oC(i,new Yy(e.getProvider("auth-internal")),new tg(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Aa(Dy,"3.4.12",e),Aa(Dy,"3.4.12","esm2017")}();function MA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Wy("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function FA(){if("undefined"===typeof Uint8Array)throw new Wy("unimplemented","Uint8Arrays are not available in this environment.")}function jA(){if("undefined"==typeof atob)throw new Wy("unimplemented","Blobs are unavailable in Firestore in this environment.")}var VA=function(){function e(t){Ur(this,e),this._delegate=t}return Zr(e,[{key:"toBase64",value:function(){return jA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return FA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return jA(),new e(mC.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return FA(),new e(mC.fromUint8Array(t))}}]),e}();function UA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=qr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var zA=function(){function e(){Ur(this,e)}return Zr(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){pC(e=KT(e,oC));var n=uC(e),r=e._freezeSettings(),i=new mT;return cC(n,i,new pT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){pC(e=KT(e,oC));var t=uC(e),n=e._freezeSettings(),r=new mT;return cC(t,r,new vT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Wy(Ky.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Hy;return e._queue.enqueueAndForgetEvenWhileRestricted(Ai(Ti().mark((function n(){return Ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ag.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Ag.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(f_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),ZA=function(){function e(t,n,r){var i=this;Ur(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof ak||(this._appCompat=t)}return Zr(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Uy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};QT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return lC(this._delegate)}},{key:"disableNetwork",value:function(){return fC(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&zT("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Hy;return e.asyncQueue.enqueueAndForget(Ai(Ti().mark((function n(){return Ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=RE,n.next=3,RT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(uC(e=KT(e,oC)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return CA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Wy("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new nN(this,JT(this._delegate,e))}catch(t){throw GA(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new HA(this,eC(this._delegate,e))}catch(t){throw GA(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new JA(this,function(e,t){if(e=KT(e,GT),UT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Wy(Ky.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new YT(e,null,function(e){return new tb(lg.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw GA(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return PA(this._delegate,(function(n){return e(new qA(t,n))}))}},{key:"batch",value:function(){var e=this;return uC(this._delegate),new KA(new bA(this._delegate,(function(t){return AA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return hC(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return dC(this._delegate,e).then((function(e){return e?new JA(t,e):null}))}}]),e}(),BA=function(e){Kr(n,e);var t=$r(n);function n(e){var r;return Ur(this,n),(r=t.call(this)).firestore=e,r}return Zr(n,[{key:"convertBytes",value:function(e){return new VA(new mC(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return HA.forKey(t,this.firestore,null)}}]),n}(yA);var qA=function(){function e(t,n){Ur(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new BA(t)}return Zr(e,[{key:"get",value:function(e){var t=this,n=rN(e);return this._delegate.get(n).then((function(e){return new YA(t._firestore,new QC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=rN(e);return n?(MA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=rN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=rN(e);return this._delegate.delete(t),this}}]),e}(),KA=function(){function e(t){Ur(this,e),this._delegate=t}return Zr(e,[{key:"set",value:function(e,t,n){var r=rN(e);return n?(MA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=rN(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=rN(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),WA=function(){function e(t,n,r){Ur(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Zr(e,[{key:"fromFirestore",value:function(e,t){var n=new $C(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new XA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new BA(t),n),i.set(n,a)),a}}]),e}();WA.INSTANCES=new WeakMap;var HA=function(){function e(t,n){Ur(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new BA(t)}return Zr(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new nN(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new nN(this.firestore,JT(this._delegate,e))}catch(t){throw GA(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ei(e))instanceof $T&&tC(this._delegate,e)}},{key:"set",value:function(e,t){t=MA("DocumentReference.set",t);try{return t?IA(this._delegate,e,t):IA(this._delegate,e)}catch(n){throw GA(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?EA(this._delegate,e):EA.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw GA(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return AA(KT(e.firestore,oC),[new Qb(e._key,Rb.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QA(n),a=$A(n,(function(t){return new YA(e.firestore,new QC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return TA(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?SA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=KT(e,$T);var t=KT(e.firestore,oC);return FT(uC(t),e._key,{source:"server"}).then((function(n){return NA(t,e,n)}))}(this._delegate):function(e){e=KT(e,$T);var t=KT(e.firestore,oC);return FT(uC(t),e._key).then((function(n){return NA(t,e,n)}))}(this._delegate),t.then((function(e){return new YA(n.firestore,new QC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(WA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Wy("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new $T(n._delegate,r,new dg(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new $T(n._delegate,r,t))}}]),e}();function GA(e,t,n){return e.message=e.message.replace(t,n),e}function QA(e){var t,n=qr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!UA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function $A(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=UA(e[0])?e[0]:UA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var YA=function(){function e(t,n){Ur(this,e),this._firestore=t,this._delegate=n}return Zr(e,[{key:"ref",get:function(){return new HA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return JC(this._delegate,e._delegate)}}]),e}(),XA=function(e){Kr(n,e);var t=$r(n);function n(){return Ur(this,n),t.apply(this,arguments)}return Zr(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Zy()}(void 0!==t),t}}]),n}(YA),JA=function(){function e(t,n){Ur(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new BA(t)}return Zr(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,nA(this._delegate,function(e,t,n){var r=t,i=HC("where",e);return new rA(i,r,n)}(t,n,r)))}catch(i){throw GA(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,nA(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=HC("orderBy",e);return new iA(n,t)}(t,n)))}catch(r){throw GA(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,nA(this._delegate,function(e){return WT("limit",e),new aA("limit",e,"F")}(t)))}catch(n){throw GA(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,nA(this._delegate,function(e){return WT("limitToLast",e),new aA("limitToLast",e,"L")}(t)))}catch(n){throw GA(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,nA(this._delegate,uA.apply(void 0,arguments)))}catch(t){throw GA(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,nA(this._delegate,sA.apply(void 0,arguments)))}catch(t){throw GA(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,nA(this._delegate,lA.apply(void 0,arguments)))}catch(t){throw GA(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,nA(this._delegate,fA.apply(void 0,arguments)))}catch(t){throw GA(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return nC(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?_A(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=KT(e,YT);var t=KT(e.firestore,oC),n=uC(t),r=new xA(t);return jT(n,e._query,{source:"server"}).then((function(n){return new YC(t,r,e,n)}))}(this._delegate):function(e){e=KT(e,YT);var t=KT(e.firestore,oC),n=uC(t),r=new xA(t);return eA(e._query),jT(n,e._query).then((function(n){return new YC(t,r,e,n)}))}(this._delegate),t.then((function(e){return new tN(n.firestore,new YC(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=QA(n),a=$A(n,(function(t){return new tN(e.firestore,new YC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return TA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(WA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),eN=function(){function e(t,n){Ur(this,e),this._firestore=t,this._delegate=n}return Zr(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new XA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),tN=function(){function e(t,n){Ur(this,e),this._firestore=t,this._delegate=n}return Zr(e,[{key:"query",get:function(){return new JA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new XA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new eN(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new XA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return JC(this._delegate,e._delegate)}}]),e}(),nN=function(e){Kr(n,e);var t=$r(n);function n(e,r){var i;return Ur(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Zr(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new HA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new HA(this.firestore,void 0===e?eC(this._delegate):eC(this._delegate,e))}catch(t){throw GA(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=KT(e.firestore,oC),r=eC(e),i=gA(e.converter,t);return AA(n,[EC(IC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Rb.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new HA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return tC(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(WA.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(JA);function rN(e){return KT(e,$T)}var iN=function(){function e(){Ur(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Yr(vC,n)}return Zr(e,[{key:"isEqual",value:function(e){return(e=Ei(e))instanceof vC&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(hg.keyField().canonicalString())}}]),e}(),aN=function(){function e(t){Ur(this,e),this._delegate=t}return Zr(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=DA();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new TC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=RA.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=LA.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new PC("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),oN={Firestore:ZA,GeoPoint:gC,Timestamp:ug,Blob:VA,Transaction:qA,WriteBatch:KA,DocumentReference:HA,DocumentSnapshot:YA,Query:JA,QueryDocumentSnapshot:XA,QuerySnapshot:tN,CollectionReference:nN,FieldPath:iN,FieldValue:aN,setLogLevel:function(e){!function(e){My.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ni("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},oN)))}(e,(function(e,t){return new ZA(e,t,new zA)})),e.registerVersion("@firebase/firestore-compat","0.1.21")}(Ja);var uN=Ja.initializeApp({apiKey:"AIzaSyB5iTZSUbDd3BiMp3RAdNRwPC1ap2j9_ww",authDomain:"clone-7b727.firebaseapp.com",projectId:"clone-7b727",storageBucket:"clone-7b727.appspot.com",messagingSenderId:"782648863164",appId:"1:782648863164:web:65ce0206adeebc26e0a3b9"}).firestore(),sN=Ja.auth(),cN=new Rs,lN=function(){var e=(0,t.useState)([]),n=(0,bt.Z)(e,2),r=n[0],i=n[1];return(0,t.useEffect)((function(){uN.collection("emails").orderBy("timestamp").onSnapshot((function(e){return i(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[r]),(0,nn.jsxs)("div",{className:"emailLists",children:[(0,nn.jsxs)("div",{className:"emailLists_settings",children:[(0,nn.jsxs)("div",{className:"emailList_settingsLeft",children:[(0,nn.jsx)(wr,{}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(Tr.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(Cr.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(Ar.Z,{})})]}),(0,nn.jsxs)("div",{className:"emailList_settingsRight",children:[(0,nn.jsx)(Er,{children:(0,nn.jsx)(Nr.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(Or.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(Pr.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(Dr.Z,{})})]})]}),(0,nn.jsxs)("div",{className:"emailList__sections",children:[(0,nn.jsx)(rn,{Icon:(0,nn.jsx)(Rr.Z,{}),title:"Primary",color:"red",selected:!0}),(0,nn.jsx)(rn,{Icon:(0,nn.jsx)(Lr.Z,{}),title:"Social",color:"#1a73e8"}),(0,nn.jsx)(rn,{Icon:(0,nn.jsx)(Mr.Z,{}),title:"Promotions",color:"green"})]}),(0,nn.jsx)("div",{className:"emailList_List",children:r.map((function(e){var t=e.id,n=e.data,r=n.to,i=n.subject,a=n.message,o=n.timestamp;return(0,nn.jsx)(Vr,{id:t,title:r,subject:i,description:a,time:new Date(1e3*(null===o||void 0===o?void 0:o.seconds)).toUTCString()},t)}))})]})},fN=(0,lr.Z)((0,nn.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function hN(e){return(0,$n.Z)("MuiAvatar",e)}(0,Pn.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var dN=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],pN=(0,ln.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return(0,wt.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,wt.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),vN=(0,ln.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),mN=(0,ln.ZP)(fN,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var yN=t.forwardRef((function(e,n){var r=(0,dn.Z)({props:e,name:"MuiAvatar"}),i=r.alt,a=r.children,o=r.className,u=r.component,s=void 0===u?"div":u,c=r.imgProps,l=r.sizes,f=r.src,h=r.srcSet,d=r.variant,p=void 0===d?"circular":d,v=(0,an.Z)(r,dN),m=null,y=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,a=e.srcSet,o=t.useState(!1),u=(0,bt.Z)(o,2),s=u[0],c=u[1];return t.useEffect((function(){if(i||a){c(!1);var e=!0,t=new Image;return t.onload=function(){e&&c("loaded")},t.onerror=function(){e&&c("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,a&&(t.srcset=a),function(){e=!1}}}),[n,r,i,a]),s}((0,wt.Z)({},c,{src:f,srcSet:h})),g=f||h,k=g&&"error"!==y,b=(0,wt.Z)({},r,{colorDefault:!k,component:s,variant:p}),w=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,on.Z)(n,hN,t)}(b);return m=k?(0,nn.jsx)(vN,(0,wt.Z)({alt:i,src:f,srcSet:h,sizes:l,ownerState:b,className:w.img},c)):null!=a?a:g&&i?i[0]:(0,nn.jsx)(mN,{className:w.fallback}),(0,nn.jsx)(pN,(0,wt.Z)({as:s,ownerState:b,className:(0,sn.Z)(w.root,o),ref:n},v,{children:m}))})),gN=yN,kN=n(8008),bN=n(5403),wN=n(1535),xN=n(8128),SN=function(){var e=m(gt),t=I();return(0,nn.jsxs)("div",{className:"header",children:[(0,nn.jsxs)("div",{className:"header_left",children:[(0,nn.jsx)(Er,{children:(0,nn.jsx)(kN.Z,{})}),(0,nn.jsx)("img",{src:"https://logodownload.org/wp-content/uploads/2018/03/gmail-logo-3-1.png",alt:""})]}),(0,nn.jsxs)("div",{className:"header_middle",children:[(0,nn.jsx)(bN.Z,{}),(0,nn.jsx)("input",{placeholder:"search",className:"header_input"}),(0,nn.jsx)(Tr.Z,{className:"header_inputCaret"})]}),(0,nn.jsxs)("div",{className:"header_right",children:[(0,nn.jsx)(Er,{children:(0,nn.jsx)(wN.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(xN.Z,{})}),(0,nn.jsx)(gN,{onClick:function(){sN.signOut().then((function(){t(yt())}))},src:null===e||void 0===e?void 0:e.photoUrl})]})]})},_N=n(5735);function IN(e){return(0,$n.Z)("MuiButton",e)}var EN=(0,Pn.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var TN=t.createContext({}),CN=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],AN=function(e){return(0,wt.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},NN=(0,ln.ZP)(rr,{shouldForwardProp:function(e){return(0,ln.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,cn.Z)(n.color))],t["size".concat((0,cn.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,cn.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return(0,wt.Z)({},i.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":(0,wt.Z)({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,un.Fq)(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,un.Fq)(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,un.Fq)(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":(0,wt.Z)({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},(0,Te.Z)(t,"&.".concat(EN.focusVisible),(0,wt.Z)({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),(0,Te.Z)(t,"&.".concat(EN.disabled),(0,wt.Z)({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat((0,un.Fq)(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,Te.Z)(t,"&.".concat(EN.focusVisible),{boxShadow:"none"}),(0,Te.Z)(t,"&:active",{boxShadow:"none"}),(0,Te.Z)(t,"&.".concat(EN.disabled),{boxShadow:"none"}),t)})),ON=(0,ln.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,cn.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,wt.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},AN(t))})),PN=(0,ln.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,cn.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,wt.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},AN(t))})),DN=t.forwardRef((function(e,n){var r=t.useContext(TN),i=(0,_N.Z)(r,e),a=(0,dn.Z)({props:i,name:"MuiButton"}),o=a.children,u=a.color,s=void 0===u?"primary":u,c=a.component,l=void 0===c?"button":c,f=a.className,h=a.disabled,d=void 0!==h&&h,p=a.disableElevation,v=void 0!==p&&p,m=a.disableFocusRipple,y=void 0!==m&&m,g=a.endIcon,k=a.focusVisibleClassName,b=a.fullWidth,w=void 0!==b&&b,x=a.size,S=void 0===x?"medium":x,_=a.startIcon,I=a.type,E=a.variant,T=void 0===E?"text":E,C=(0,an.Z)(a,CN),A=(0,wt.Z)({},a,{color:s,component:l,disabled:d,disableElevation:v,disableFocusRipple:y,fullWidth:w,size:S,type:I,variant:T}),N=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes,u={root:["root",a,"".concat(a).concat((0,cn.Z)(t)),"size".concat((0,cn.Z)(i)),"".concat(a,"Size").concat((0,cn.Z)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,cn.Z)(i))],endIcon:["endIcon","iconSize".concat((0,cn.Z)(i))]},s=(0,on.Z)(u,IN,o);return(0,wt.Z)({},o,s)}(A),O=_&&(0,nn.jsx)(ON,{className:N.startIcon,ownerState:A,children:_}),P=g&&(0,nn.jsx)(PN,{className:N.endIcon,ownerState:A,children:g});return(0,nn.jsxs)(NN,(0,wt.Z)({ownerState:A,className:(0,sn.Z)(f,r.className),component:l,disabled:d,focusRipple:!y,focusVisibleClassName:(0,sn.Z)(N.focusVisible,k),ref:n,type:I},C,{classes:N,children:[O,o,P]}))})),RN=DN,LN=function(){var e=I();return(0,nn.jsxs)("div",{className:"login",children:[(0,nn.jsx)("div",{className:"login_container",children:(0,nn.jsx)("img",{src:"https://logodownload.org/wp-content/uploads/2018/03/gmail-logo-3-1.png",alt:""})}),(0,nn.jsx)(RN,{variant:"contained",color:"primary",onClick:function(){sN.signInWithPopup(cN).then((function(t){var n=t.user;e(mt({displayName:n.displayName,email:n.email,photoUrl:n.photoURL}))})).catch((function(e){return alert(e.message)}))},children:"Login"})]})},MN=n(7394),FN=n(8698),jN=n(9388),VN=n(7247),UN=n(4281),zN=n(2686),ZN=n(8384),BN=n(2207),qN=n(8014),KN=n(7608),WN=function(){var e=Qt(),t=m(ft);return(0,nn.jsxs)("div",{className:"mail",children:[(0,nn.jsxs)("div",{className:"mail_tools",children:[(0,nn.jsxs)("div",{className:"mail_toolsLeft",children:[(0,nn.jsx)(Er,{onClick:function(){e("/")},children:(0,nn.jsx)(MN.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(FN.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(jN.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(VN.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(UN.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(zN.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(ZN.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(Fr.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(Ar.Z,{})})]}),(0,nn.jsxs)("div",{className:"mail_toolsRight",children:[(0,nn.jsx)(Er,{children:(0,nn.jsx)(BN.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(qN.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(KN.Z,{})})]})]}),(0,nn.jsxs)("div",{className:"mail_body",children:[(0,nn.jsxs)("div",{className:"mail_bodyHeader",children:[(0,nn.jsx)("h2",{children:null===t||void 0===t?void 0:t.subject}),(0,nn.jsx)(Fr.Z,{className:"mail_important"}),(0,nn.jsx)("p",{children:null===t||void 0===t?void 0:t.title}),(0,nn.jsx)("p",{className:"mail_time",children:null===t||void 0===t?void 0:t.time})]}),(0,nn.jsx)("div",{className:"mail_message",children:(0,nn.jsx)("p",{children:null===t||void 0===t?void 0:t.description})})]})]})},HN=n(9823);function GN(e,t){if(null==e)return{};var n,r,i=(0,an.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var QN=["name"],$N=["_f"],YN=["_f"],XN=function(e){return"checkbox"===e.type},JN=function(e){return e instanceof Date},eO=function(e){return null==e},tO=function(e){return"object"===typeof e},nO=function(e){return!eO(e)&&!Array.isArray(e)&&tO(e)&&!JN(e)},rO=function(e){return nO(e)&&e.target?XN(e.target)?e.target.checked:e.target.value:e},iO=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},aO=function(e){return Array.isArray(e)?e.filter(Boolean):[]},oO=function(e){return void 0===e},uO=function(e,t,n){if(!t||!nO(e))return n;var r=aO(t.split(/[,[\].]+?/)).reduce((function(e,t){return eO(e)?e:e[t]}),e);return oO(r)||r===e?oO(e[t])?n:e[t]:r},sO="blur",cO="focusout",lO="onBlur",fO="onChange",hO="onSubmit",dO="onTouched",pO="all",vO="max",mO="min",yO="maxLength",gO="minLength",kO="pattern",bO="required",wO="validate",xO=(t.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t[i]!==pO&&(t[i]=!r||pO),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),SO=function(e){return nO(e)&&!Object.keys(e).length},_O=function(e,t,n){e.name;var r=GN(e,QN);return SO(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||pO)}))},IO=function(e){return Array.isArray(e)?e:[e]};function EO(e){var n=t.useRef(e);n.current=e,t.useEffect((function(){var t=!e.disabled&&n.current.subject.subscribe({next:n.current.callback});return function(){return function(e){e&&e.unsubscribe()}(t)}}),[e.disabled])}var TO=function(e){return"string"===typeof e},CO=function(e,t,n,r){var i=Array.isArray(e);return TO(e)?(r&&t.watch.add(e),uO(n,e)):i?e.map((function(e){return r&&t.watch.add(e),uO(n,e)})):(r&&(t.watchAll=!0),n)},AO=function(e){return"function"===typeof e},NO=function(e){for(var t in e)if(AO(e[t]))return!0;return!1};var OO=function(e,t,n,r,i){return t?Ae(Ae({},n[e]),{},{types:Ae(Ae({},n[e]&&n[e].types?n[e].types:{}),{},(0,Te.Z)({},r,i||!0))}):{}},PO=function(e){return/^\w*$/.test(e)},DO=function(e){return aO(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function RO(e,t,n){for(var r=-1,i=PO(t)?[t]:DO(t),a=i.length,o=a-1;++r<a;){var u=i[r],s=n;if(r!==o){var c=e[u];s=nO(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var LO=function e(t,n,r){var i,a=qr(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,u=uO(t,o);if(u){var s=u._f,c=GN(u,$N);if(s&&n(s.name)){if(s.ref.focus&&oO(s.ref.focus()))break;if(s.refs){s.refs[0].focus();break}}else nO(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},MO=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||(0,yn.Z)(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))};var FO="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function jO(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(FO&&(e instanceof Blob||e instanceof FileList)||!n&&!nO(e))return e;for(var r in t=n?[]:{},e){if(AO(e[r])){t=e;break}t[r]=jO(e[r])}}return t}function VO(e,t){var n,r=PO(t)?[t]:DO(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=oO(e)?r++:e[t[r++]];return e}(e,r),a=r[r.length-1];i&&delete i[a];for(var o=0;o<r.slice(0,-1).length;o++){var u=-1,s=void 0,c=r.slice(0,-(o+1)),l=c.length-1;for(o>0&&(n=e);++u<c.length;){var f=c[u];s=s?s[f]:e[f],l===u&&(nO(s)&&SO(s)||Array.isArray(s)&&!s.filter((function(e){return!oO(e)})).length)&&(n?delete n[f]:delete e[f]),n=s}}return e}function UO(){var e=[];return{get observers(){return e},next:function(t){var n,r=qr(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var zO=function(e){return eO(e)||!tO(e)};function ZO(e,t){if(zO(e)||zO(t))return e===t;if(JN(e)&&JN(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(JN(u)&&JN(s)||nO(u)&&nO(s)||Array.isArray(u)&&Array.isArray(s)?!ZO(u,s):u!==s)return!1}}return!0}var BO=function(e){return{isOnSubmit:!e||e===hO,isOnBlur:e===lO,isOnChange:e===fO,isOnAll:e===pO,isOnTouch:e===dO}},qO=function(e){return"boolean"===typeof e},KO=function(e){return"file"===e.type},WO=function(e){var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},HO=function(e){return"select-multiple"===e.type},GO=function(e){return"radio"===e.type},QO=function(e){return GO(e)||XN(e)},$O=function(e){return WO(e)&&e.isConnected};function YO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(nO(e)||n)for(var r in e)Array.isArray(e[r])||nO(e[r])&&!NO(e[r])?(t[r]=Array.isArray(e[r])?[]:{},YO(e[r],t[r])):eO(e[r])||(t[r]=!0);return t}function XO(e,t,n){var r=Array.isArray(e);if(nO(e)||r)for(var i in e)Array.isArray(e[i])||nO(e[i])&&!NO(e[i])?oO(t)||zO(n[i])?n[i]=Array.isArray(e[i])?YO(e[i],[]):Ae({},YO(e[i])):XO(e[i],eO(t)?{}:t[i],n[i]):n[i]=!ZO(e[i],t[i]);return n}var JO=function(e,t){return XO(e,t,YO(t))},eP={value:!1,isValid:!1},tP={value:!0,isValid:!0},nP=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!oO(e[0].attributes.value)?oO(e[0].value)||""===e[0].value?tP:{value:e[0].value,isValid:!0}:tP:eP}return eP},rP=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return oO(e)?e:n?""===e||eO(e)?NaN:+e:r&&TO(e)?new Date(e):i?i(e):e},iP={isValid:!1,value:null},aP=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),iP):iP};function oP(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return KO(t)?t.files:GO(t)?aP(e.refs).value:HO(t)?(0,yn.Z)(t.selectedOptions).map((function(e){return e.value})):XN(t)?nP(e.refs).value:rP(oO(t.value)?e.ref.value:t.value,e)}var uP=function(e,t,n,r){var i,a={},o=qr(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=uO(t,u);s&&RO(a,u,s._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:(0,yn.Z)(e),fields:a,shouldUseNativeValidation:r}},sP=function(e){return e instanceof RegExp},cP=function(e){return oO(e)?void 0:sP(e)?e.source:nO(e)?sP(e.value)?e.value.source:e.value:e},lP=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function fP(e,t,n){var r=uO(e,n);if(r||PO(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=uO(t,a),u=uO(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}var hP=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},dP=function(e,t){return!aO(uO(e,t)).length&&VO(e,t)},pP=function(e){return TO(e)||t.isValidElement(e)};function vP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(pP(e)||Array.isArray(e)&&e.every(pP)||qO(e)&&!e)return{type:n,message:pP(e)?e:"",ref:t}}var mP=function(e){return nO(e)&&!sP(e)?e:{value:e,message:""}},yP=function(){var e=Ai(Ti().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p,v,m,y,g,k,b,w,x,S,_,I,E,T,C,A,N,O,P,D,R,L,M,F,j,V,U,z,Z,B,q,K,W,H,G;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t._f,o=a.ref,u=a.refs,s=a.required,c=a.maxLength,l=a.minLength,f=a.min,h=a.max,d=a.pattern,p=a.validate,v=a.name,m=a.valueAsNumber,y=a.mount,g=a.disabled,y&&!g){e.next=3;break}return e.abrupt("return",{});case 3:if(k=u?u[0]:o,b=function(e){i&&k.reportValidity&&(k.setCustomValidity(qO(e)?"":e||" "),k.reportValidity())},w={},x=GO(o),S=XN(o),_=x||S,I=(m||KO(o))&&!o.value||""===n||Array.isArray(n)&&!n.length,E=OO.bind(null,v,r,w),T=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yO,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gO,a=e?t:n;w[v]=Ae({type:e?r:i,message:a,ref:o},E(e?r:i,a))},!s||!(!_&&(I||eO(n))||qO(n)&&!n||S&&!nP(u).isValid||x&&!aP(u).isValid)){e.next=19;break}if(C=pP(s)?{value:!!s,message:s}:mP(s),A=C.value,N=C.message,!A){e.next=19;break}if(w[v]=Ae({type:bO,message:N,ref:k},E(bO,N)),r){e.next=19;break}return b(N),e.abrupt("return",w);case 19:if(I||eO(f)&&eO(h)){e.next=28;break}if(D=mP(h),R=mP(f),eO(n)||isNaN(n)?(M=o.valueAsDate||new Date(n),TO(D.value)&&(O=M>new Date(D.value)),TO(R.value)&&(P=M<new Date(R.value))):(L=o.valueAsNumber||+n,eO(D.value)||(O=L>D.value),eO(R.value)||(P=L<R.value)),!O&&!P){e.next=28;break}if(T(!!O,D.message,R.message,vO,mO),r){e.next=28;break}return b(w[v].message),e.abrupt("return",w);case 28:if(!c&&!l||I||!TO(n)){e.next=38;break}if(F=mP(c),j=mP(l),V=!eO(F.value)&&n.length>F.value,U=!eO(j.value)&&n.length<j.value,!V&&!U){e.next=38;break}if(T(V,F.message,j.message),r){e.next=38;break}return b(w[v].message),e.abrupt("return",w);case 38:if(!d||I||!TO(n)){e.next=45;break}if(z=mP(d),Z=z.value,B=z.message,!sP(Z)||n.match(Z)){e.next=45;break}if(w[v]=Ae({type:kO,message:B,ref:o},E(kO,B)),r){e.next=45;break}return b(B),e.abrupt("return",w);case 45:if(!p){e.next=79;break}if(!AO(p)){e.next=58;break}return e.next=49,p(n);case 49:if(q=e.sent,!(K=vP(q,k))){e.next=56;break}if(w[v]=Ae(Ae({},K),E(wO,K.message)),r){e.next=56;break}return b(K.message),e.abrupt("return",w);case 56:e.next=79;break;case 58:if(!nO(p)){e.next=79;break}W={},e.t0=Ti().keys(p);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(H=e.t1.value,SO(W)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=vP,e.next=68,p[H](n);case 68:e.t3=e.sent,e.t4=k,e.t5=H,(G=(0,e.t2)(e.t3,e.t4,e.t5))&&(W=Ae(Ae({},G),E(H,G.message)),b(G.message),r&&(w[v]=W)),e.next=61;break;case 75:if(SO(W)){e.next=79;break}if(w[v]=Ae({ref:k},W),r){e.next=79;break}return e.abrupt("return",w);case 79:return b(!0),e.abrupt("return",w);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),gP={mode:hO,reValidateMode:fO,shouldFocusError:!0};function kP(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ae(Ae({},gP),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},a=jO(n.defaultValues)||{},o=n.shouldUnregister?{}:jO(a),u={action:!1,mount:!1,watch:!1},s={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c=0,l={},f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={watch:UO(),array:UO(),state:UO()},d=BO(n.mode),p=BO(n.reValidateMode),v=n.criteriaMode===pO,m=function(e){return function(t){clearTimeout(c),c=window.setTimeout(e,t)}},y=function(){var e=Ai(Ti().mark((function e(t){var a;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,!f.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=SO,e.next=6,S();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,I(i,!0);case 12:e.t0=e.sent;case 13:a=e.t0,t||a===r.isValid||(r.isValid=a,h.state.next({isValid:a}));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(s&&n){if(u.action=!0,l&&Array.isArray(uO(i,e))){var d=n(uO(i,e),s.argA,s.argB);c&&RO(i,e,d)}if(f.errors&&l&&Array.isArray(uO(r.errors,e))){var p=n(uO(r.errors,e),s.argA,s.argB);c&&RO(r.errors,e,p),dP(r.errors,e)}if(f.touchedFields&&l&&Array.isArray(uO(r.touchedFields,e))){var v=n(uO(r.touchedFields,e),s.argA,s.argB);c&&RO(r.touchedFields,e,v)}f.dirtyFields&&(r.dirtyFields=JO(a,o)),h.state.next({isDirty:T(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else RO(o,e,t)},k=function(e,t){RO(r.errors,e,t),h.state.next({errors:r.errors})},b=function(e,t,n,r){var s=uO(i,e);if(s){var c=uO(o,e,oO(n)?uO(a,e):n);oO(c)||r&&r.defaultChecked||t?RO(o,e,t?c:oP(s._f)):N(e,c),u.mount&&y()}},w=function(e,t,n,i,o){var u=!1,s={name:e},c=uO(r.touchedFields,e);if(f.isDirty){var l=r.isDirty;r.isDirty=s.isDirty=T(),u=l!==s.isDirty}if(f.dirtyFields&&(!n||i)){var d=uO(r.dirtyFields,e);ZO(uO(a,e),t)?VO(r.dirtyFields,e):RO(r.dirtyFields,e,!0),s.dirtyFields=r.dirtyFields,u=u||d!==uO(r.dirtyFields,e)}return n&&!c&&(RO(r.touchedFields,e,n),s.touchedFields=r.touchedFields,u=u||f.touchedFields&&c!==n),u&&o&&h.state.next(s),u?s:{}},x=function(){var n=Ai(Ti().mark((function n(i,a,o,u){var s,d,p;return Ti().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=uO(r.errors,i),d=f.isValid&&r.isValid!==a,t.delayError&&o?(e=m((function(){return k(i,o)})))(t.delayError):(clearTimeout(c),e=null,o?RO(r.errors,i,o):VO(r.errors,i)),(o?ZO(s,o):!s)&&SO(u)&&!d||(p=Ae(Ae(Ae({},u),d?{isValid:a}:{}),{},{errors:r.errors,name:i}),r=Ae(Ae({},r),p),h.state.next(p)),l[i]--,f.isValidating&&!Object.values(l).some((function(e){return e}))&&(h.state.next({isValidating:!1}),l={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i){return n.apply(this,arguments)}}(),S=function(){var e=Ai(Ti().mark((function e(t){return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(Ae({},o),n.context,uP(t||s.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Ai(Ti().mark((function e(t){var n,i,a,o,u,s;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:if(n=e.sent,i=n.errors,t){a=qr(t);try{for(a.s();!(o=a.n()).done;)u=o.value,(s=uO(i,u))?RO(r.errors,u,s):VO(r.errors,u)}catch(c){a.e(c)}finally{a.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Ai(Ti().mark((function e(t,i){var a,u,s,c,l,f,h=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=h.length>2&&void 0!==h[2]?h[2]:{valid:!0},e.t0=Ti().keys(t);case 2:if((e.t1=e.t0()).done){e.next=22;break}if(u=e.t1.value,!(s=t[u])){e.next=20;break}if(c=s._f,l=GN(s,YN),!c){e.next=16;break}return e.next=10,yP(s,uO(o,c.name),v,n.shouldUseNativeValidation);case 10:if(!(f=e.sent)[c.name]){e.next=15;break}if(a.valid=!1,!i){e.next=15;break}return e.abrupt("break",22);case 15:i||(f[c.name]?RO(r.errors,c.name,f[c.name]):VO(r.errors,c.name));case 16:if(e.t2=l,!e.t2){e.next=20;break}return e.next=20,I(l,i,a);case 20:e.next=2;break;case 22:return e.abrupt("return",a.valid);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e,t=qr(s.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=uO(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!$O(e)})):!$O(r._f.ref))&&U(n)}}catch(a){t.e(a)}finally{t.f()}s.unMount=new Set},T=function(e,t){return e&&t&&RO(o,e,t),!ZO(L(),a)},C=function(e,t,n){var r=Ae({},u.mount?o:oO(t)?a:TO(e)?(0,Te.Z)({},e,t):t);return CO(e,s,r,n)},A=function(e){return aO(uO(u.mount?o:a,e,t.shouldUnregister?uO(a,e,[]):[]))},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=uO(i,e),a=t;if(r){var u=r._f;u&&(!u.disabled&&RO(o,e,rP(t,u)),a=FO&&WO(u.ref)&&eO(t)?"":t,HO(u.ref)?(0,yn.Z)(u.ref.options).forEach((function(e){return e.selected=a.includes(e.value)})):u.refs?XN(u.ref)?u.refs.length>1?u.refs.forEach((function(e){return!e.disabled&&(e.checked=Array.isArray(a)?!!a.find((function(t){return t===e.value})):a===e.value)})):u.refs[0]&&(u.refs[0].checked=!!a):u.refs.forEach((function(e){return e.checked=e.value===a})):KO(u.ref)?u.ref.value="":(u.ref.value=a,u.ref.type||h.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&w(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&R(e)},O=function e(t,n,r){for(var a in n){var o=n[a],u="".concat(t,".").concat(a),c=uO(i,u);!s.array.has(t)&&zO(o)&&(!c||c._f)||JN(o)?N(u,o,r):e(u,o,r)}},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=uO(i,e),c=s.array.has(e),l=jO(t);RO(o,e,l),c?(h.array.next({name:e,values:o}),(f.isDirty||f.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=JO(a,o),h.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:T(e,l)}))):!u||u._f||eO(l)?N(e,l,n):O(e,l,n),MO(e,s)&&h.state.next({}),h.watch.next({name:e})},D=function(){var t=Ai(Ti().mark((function t(a){var u,c,f,m,g,k,b,_,I,E,T,C,A,N,O;return Ti().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=a.target,c=u.name,!(f=uO(i,c))){t.next=39;break}if(k=u.type?oP(f._f):rO(a),b=a.type===sO||a.type===cO,_=!lP(f._f)&&!n.resolver&&!uO(r.errors,c)&&!f._f.deps||hP(b,uO(r.touchedFields,c),r.isSubmitted,p,d),I=MO(c,s,b),RO(o,c,k),b?(f._f.onBlur&&f._f.onBlur(a),e&&e(0)):f._f.onChange&&f._f.onChange(a),E=w(c,k,b,!1),T=!SO(E)||I,!b&&h.watch.next({name:c,type:a.type}),!_){t.next=15;break}return t.abrupt("return",T&&h.state.next(Ae({name:c},I?{}:E)));case 15:if(!b&&I&&h.state.next({}),l[c]=(l[c],1),h.state.next({isValidating:!0}),!n.resolver){t.next=30;break}return t.next=21,S([c]);case 21:C=t.sent,A=C.errors,N=fP(r.errors,i,c),O=fP(A,i,N.name||c),m=O.error,c=O.name,g=SO(A),t.next=37;break;case 30:return t.next=32,yP(f,uO(o,c),v,n.shouldUseNativeValidation);case 32:return t.t0=c,m=t.sent[t.t0],t.next=36,y(!0);case 36:g=t.sent;case 37:f._f.deps&&R(f._f.deps),x(c,g,m,E);case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),R=function(){var e=Ai(Ti().mark((function e(t){var a,o,u,c,l,d=arguments;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d.length>1&&void 0!==d[1]?d[1]:{},c=IO(t),h.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,_(oO(t)?t:c);case 6:l=e.sent,o=SO(l),u=t?!c.some((function(e){return uO(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(c.map(function(){var e=Ai(Ti().mark((function e(t){var n;return Ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=uO(i,t),e.next=3,I(n&&n._f?(0,Te.Z)({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((u=e.sent.every(Boolean))||r.isValid)&&y(),e.next=21;break;case 18:return e.next=20,I(i);case 20:u=o=e.sent;case 21:return h.state.next(Ae(Ae(Ae({},!TO(t)||f.isValid&&o!==r.isValid?{}:{name:t}),n.resolver?{isValid:o}:{}),{},{errors:r.errors,isValidating:!1})),a.shouldFocus&&!u&&LO(i,(function(e){return uO(r.errors,e)}),t?c:s.mount),e.abrupt("return",u);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){var t=Ae(Ae({},a),u.mount?o:{});return oO(e)?t:TO(e)?uO(t,e):e.map((function(e){return uO(t,e)}))},M=function(e,t){return{invalid:!!uO((t||r).errors,e),isDirty:!!uO((t||r).dirtyFields,e),isTouched:!!uO((t||r).touchedFields,e),error:uO((t||r).errors,e)}},F=function(e){e?IO(e).forEach((function(e){return VO(r.errors,e)})):r.errors={},h.state.next({errors:r.errors})},j=function(e,t,n){var a=(uO(i,e,{_f:{}})._f||{}).ref;RO(r.errors,e,Ae(Ae({},t),{},{ref:a})),h.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},V=function(e,t){return AO(e)?h.watch.subscribe({next:function(n){return e(C(void 0,t),n)}}):C(e,t,!0)},U=function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=qr(e?IO(e):s.mount);try{for(c.s();!(t=c.n()).done;){var l=t.value;s.mount.delete(l),s.array.delete(l),uO(i,l)&&(u.keepValue||(VO(i,l),VO(o,l)),!u.keepError&&VO(r.errors,l),!u.keepDirty&&VO(r.dirtyFields,l),!u.keepTouched&&VO(r.touchedFields,l),!n.shouldUnregister&&!u.keepDefaultValue&&VO(a,l))}}catch(f){c.e(f)}finally{c.f()}h.watch.next({}),h.state.next(Ae(Ae({},r),u.keepDirty?{isDirty:T()}:{})),!u.keepIsValid&&y()},z=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=uO(i,t),l=qO(r.disabled);return RO(i,t,{_f:Ae(Ae({},c&&c._f?c._f:{ref:{name:t}}),{},{name:t,mount:!0},r)}),s.mount.add(t),c?l&&RO(o,t,r.disabled?void 0:uO(o,t,oP(c._f))):b(t,!0,r.value),Ae(Ae(Ae({},l?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:cP(r.min),max:cP(r.max),minLength:cP(r.minLength),maxLength:cP(r.maxLength),pattern:cP(r.pattern)}:{}),{},{name:t,onChange:D,onBlur:D,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(o){if(o){e(t,r),c=uO(i,t);var l=oO(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,f=QO(l),h=c._f.refs||[];if(f?h.find((function(e){return e===l})):l===c._f.ref)return;RO(i,t,{_f:Ae(Ae({},c._f),f?{refs:[].concat((0,yn.Z)(h.filter($O)),[l],(0,yn.Z)(Array.isArray(uO(a,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),b(t,!1,void 0,l)}else(c=uO(i,t,{}))._f&&(c._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!iO(s.array,t)||!u.action)&&s.unMount.add(t)}))})},Z=function(e,t){return function(){var a=Ai(Ti().mark((function a(u){var c,l,f,d,p;return Ti().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist()),c=!0,l=jO(o),h.state.next({isSubmitting:!0}),a.prev=4,!n.resolver){a.next=15;break}return a.next=8,S();case 8:f=a.sent,d=f.errors,p=f.values,r.errors=d,l=p,a.next=17;break;case 15:return a.next=17,I(i);case 17:if(!SO(r.errors)){a.next=23;break}return h.state.next({errors:{},isSubmitting:!0}),a.next=21,e(l,u);case 21:a.next=27;break;case 23:if(!t){a.next=26;break}return a.next=26,t(Ae({},r.errors),u);case 26:n.shouldFocusError&&LO(i,(function(e){return uO(r.errors,e)}),s.mount);case 27:a.next=33;break;case 29:throw a.prev=29,a.t0=a.catch(4),c=!1,a.t0;case 33:return a.prev=33,r.isSubmitted=!0,h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:SO(r.errors)&&c,submitCount:r.submitCount+1,errors:r.errors}),a.finish(33);case 37:case"end":return a.stop()}}),a,null,[[4,29,33,37]])})));return function(e){return a.apply(this,arguments)}}()},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};uO(i,e)&&(oO(t.defaultValue)?P(e,uO(a,e)):(P(e,t.defaultValue),RO(a,e,t.defaultValue)),t.keepTouched||VO(r.touchedFields,e),t.keepDirty||(VO(r.dirtyFields,e),r.isDirty=t.defaultValue?T(e,uO(a,e)):T()),t.keepError||(VO(r.errors,e),f.isValid&&y()),h.state.next(Ae({},r)))},q=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=e||a,l=jO(c),d=e&&!SO(e)?l:a;if(n.keepDefaultValues||(a=c),!n.keepValues){if(n.keepDirtyValues){var p,v=qr(s.mount);try{for(v.s();!(p=v.n()).done;){var m=p.value;uO(r.dirtyFields,m)?RO(d,m,uO(o,m)):P(m,uO(d,m))}}catch(x){v.e(x)}finally{v.f()}}else{if(FO&&oO(e)){var y,g=qr(s.mount);try{for(g.s();!(y=g.n()).done;){var k=y.value,b=uO(i,k);if(b&&b._f){var w=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;try{WO(w)&&w.closest("form").reset();break}catch(VT){}}}}catch(x){g.e(x)}finally{g.f()}}i={}}o=t.shouldUnregister?n.keepDefaultValues?jO(a):{}:l,h.array.next({values:d}),h.watch.next({values:d})}s={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!f.isValid||!!n.keepIsValid,u.watch=!!t.shouldUnregister,h.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||ZO(e,a)),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&e?JO(a,e):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=uO(i,e)._f,r=n.refs?n.refs[0]:n.ref;r.focus(),t.shouldSelect&&r.select()};return{control:{register:z,unregister:U,getFieldState:M,_executeSchema:S,_getWatch:C,_getDirty:T,_updateValid:y,_removeUnmounted:E,_updateFieldArray:g,_getFieldArray:A,_subjects:h,_proxyFormState:f,get _fields(){return i},get _formValues(){return o},get _stateFlags(){return u},set _stateFlags(e){u=e},get _defaultValues(){return a},get _names(){return s},set _names(e){s=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=Ae(Ae({},n),e)}},trigger:R,register:z,handleSubmit:Z,watch:V,setValue:P,getValues:L,reset:q,resetField:B,clearErrors:F,unregister:U,setError:j,setFocus:K,getFieldState:M}}var bP=function(){var e=I(),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.useRef(),r=t.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),i=(0,bt.Z)(r,2),a=i[0],o=i[1];n.current?n.current.control._options=e:n.current=Ae(Ae({},kP(e)),{},{formState:a});var u=n.current.control,s=t.useCallback((function(e){_O(e,u._proxyFormState,!0)&&(u._formState=Ae(Ae({},u._formState),e),o(Ae({},u._formState)))}),[u]);return EO({subject:u._subjects.state,callback:s}),t.useEffect((function(){u._stateFlags.mount||(u._proxyFormState.isValid&&u._updateValid(),u._stateFlags.mount=!0),u._stateFlags.watch&&(u._stateFlags.watch=!1,u._subjects.state.next({})),u._removeUnmounted()})),n.current.formState=xO(a,u._proxyFormState),n.current}(),r=n.register,i=n.handleSubmit,a=n.formState.errors;return(0,nn.jsxs)("div",{className:"sendMail",children:[(0,nn.jsxs)("div",{className:"sendMail_header",children:[(0,nn.jsx)("h3",{children:"New Message"}),(0,nn.jsx)(HN.Z,{onClick:function(){return e(lt())},className:"sendMail_close"})]}),(0,nn.jsxs)("form",{onSubmit:i((function(t){console.log(t),uN.collection("emails").add({to:t.to,subject:t.subject,message:t.message,timestamp:DA()}),e(lt())})),children:[(0,nn.jsx)("input",Ae({placeholder:"To",type:"text"},r("to",{required:!0}))),a.to&&(0,nn.jsx)("p",{className:"sendMail_error",children:"Required "}),(0,nn.jsx)("input",Ae({placeholder:"Subject",type:"text"},r("subject",{required:!0}))),a.subject&&(0,nn.jsx)("p",{className:"sendMail_error",children:"Required "}),(0,nn.jsx)("input",Ae({placeholder:"Message...",type:"text",className:"sendMail_message"},r("message",{required:!0}))),a.message&&(0,nn.jsx)("p",{className:"sendMail_error",children:"Required "}),(0,nn.jsx)("div",{className:"sendMail_option",children:(0,nn.jsx)(RN,{className:"sendMail_send",variant:"contained",color:"primary",type:"submit",children:"Send"})})]})]})},wP=function(e){return(0,nn.jsxs)("div",{className:"sidebarOption ".concat(e.selected&&"sidebarOption--active"),children:[e.Icon,(0,nn.jsxs)("h3",{children:[" ",e.title," "]}),(0,nn.jsxs)("p",{children:[" ",e.number," "]})]})},xP=n(2419),SP=n(151),_P=n(8967),IP=n(7015),EP=n(963),TP=n(1131),CP=n(501),AP=n(4413),NP=n(2716),OP=function(){var e=I();return(0,nn.jsxs)("div",{className:"sidebar",children:[(0,nn.jsx)(RN,{startIcon:(0,nn.jsx)(xP.Z,{fontSize:"large"}),className:"sidebar_compose",onClick:function(){return e(ct())},children:"Compose"}),(0,nn.jsx)(wP,{Icon:(0,nn.jsx)(Rr.Z,{}),title:"Inbox",number:54,selected:!0}),(0,nn.jsx)(wP,{Icon:(0,nn.jsx)(SP.Z,{}),title:"Starred",number:4}),(0,nn.jsx)(wP,{Icon:(0,nn.jsx)(_P.Z,{}),title:"Snoozed",number:5}),(0,nn.jsx)(wP,{Icon:(0,nn.jsx)(Fr.Z,{}),title:"Important",number:5}),(0,nn.jsx)(wP,{Icon:(0,nn.jsx)(EP.Z,{}),title:"Sent",number:5}),(0,nn.jsx)(wP,{Icon:(0,nn.jsx)(IP.Z,{}),title:"Drafts",number:11}),(0,nn.jsx)(wP,{Icon:(0,nn.jsx)(TP.Z,{}),title:"More",number:44}),(0,nn.jsx)("div",{className:"sidebar_footer",children:(0,nn.jsxs)("div",{className:"sidebar_footerIcons",children:[(0,nn.jsx)(Er,{children:(0,nn.jsx)(CP.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(AP.Z,{})}),(0,nn.jsx)(Er,{children:(0,nn.jsx)(NP.Z,{})})]})})]})};var PP=function(){var e=m(ht),n=m(gt),r=I();return(0,t.useEffect)((function(){sN.onAuthStateChanged((function(e){e&&r(mt({displayName:e.displayName,email:e.email,photoUrl:e.photoURL}))}))}),[]),(0,nn.jsx)(tn,{children:n?(0,nn.jsxs)("div",{className:"app",children:[(0,nn.jsx)(SN,{}),(0,nn.jsxs)("div",{className:"app_body",children:[(0,nn.jsx)(OP,{}),(0,nn.jsxs)(Jt,{children:[(0,nn.jsx)(Yt,{path:"/mail",element:(0,nn.jsx)(WN,{})}),(0,nn.jsx)(Yt,{path:"/",element:(0,nn.jsx)(lN,{})})]})]}),e&&(0,nn.jsx)(bP,{})]}):(0,nn.jsx)(LN,{})})},DP=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},RP=document.getElementById("root");(0,i.s)(RP).render((0,nn.jsx)(t.StrictMode,{children:(0,nn.jsx)(b,{store:kt,children:(0,nn.jsx)(PP,{})})})),DP()}()}();
//# sourceMappingURL=main.e8e8787c.js.map